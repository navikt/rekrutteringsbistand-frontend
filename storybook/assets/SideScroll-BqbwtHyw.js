import{r as e,j as b}from"./iframe-dDyLELCN.js";import{_ as v}from"./style-ROxqS8Zq.js";function A({children:p,trimHøyde:f,className:_="",enableHorizontalScroll:h=!1,autoHeight:S,lagreScrollNøkkel:w}){const[d,j]=e.useState(""),[t,y]=e.useState(!1),[i,T]=e.useState(null),o=e.useRef(null),s=e.useRef(!1),c=w?`SideScroll:${w}`:void 0,E=e.useMemo(()=>`${e.Children.count(p)}:${d}`,[p,d]),x=e.useCallback(()=>{},[c]),g=e.useCallback(r=>{},[c]),k=e.useCallback(()=>{if(!o.current)return!1;const r=x();if(r===void 0)return!1;o.current.scrollTop=r;const n=Math.abs(o.current.scrollTop-r)<1;return n&&(s.current=!0),n},[x]),u=e.useCallback(()=>{if(s.current)return()=>{};const r=()=>{s.current||k()},n=requestAnimationFrame(r),a=requestAnimationFrame(()=>requestAnimationFrame(r)),l=window.setTimeout(r,300);return()=>{cancelAnimationFrame(n),cancelAnimationFrame(a),clearTimeout(l)}},[k]);e.useEffect(()=>{if(!c)return;s.current=!1;const r=u(),n=l=>{l.persisted&&(s.current=!1,u())},a=()=>{o.current&&g(o.current.scrollTop)};return window.addEventListener("pageshow",n),window.addEventListener("pagehide",a),()=>{window.removeEventListener("pageshow",n),window.removeEventListener("pagehide",a),r()}},[c,g,u]),e.useEffect(()=>{if(c&&!s.current)return u()},[c,E,u]);const m=S??!f;e.useLayoutEffect(()=>{if(!m||!o.current)return;const r=o.current,n=()=>{const L=r.getBoundingClientRect(),q=window.innerHeight-L.top,C=Math.max(200,q-40);j(`${C}px`)};n();const a=()=>n();window.addEventListener("resize",a),window.addEventListener("scroll",a);const l=new ResizeObserver(()=>{n()});return l.observe(document.body),()=>{l.disconnect(),window.removeEventListener("resize",a),window.removeEventListener("scroll",a)}},[m]);const R=()=>m&&d?d:`calc(100vh - ${f||150}px)`,$=()=>{y(!0),o.current&&g(o.current.scrollTop),i&&clearTimeout(i);const r=setTimeout(()=>y(!1),1e3);T(r)};e.useEffect(()=>()=>{i&&clearTimeout(i)},[i]);const H=h?"overflow-auto":"overflow-y-auto overflow-x-hidden";return b.jsxs(b.Fragment,{children:[b.jsx(v,{id:"192cfa1c18c03cfe",dynamic:[t?"rgba(203, 213, 225, 0.8)":"transparent",t?"rgba(203, 213, 225, 0.8)":"transparent",t?"rgba(75, 85, 99, 0.8)":"transparent",t?"rgba(75, 85, 99, 0.8)":"transparent"],children:`.scroll-container.__jsx-style-dynamic-selector{scrollbar-gutter:stable;box-sizing:border-box}.scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar{width:16px;height:16px}.scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-track{background:transparent;margin:2px}.scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb{background:${t?"rgba(203, 213, 225, 0.8)":"transparent"};border-radius:8px;border:4px solid transparent;background-clip:content-box;transition:background.3s ease}.scroll-container.__jsx-style-dynamic-selector:hover::-webkit-scrollbar-thumb{background:rgba(203,213,225,.8);background-clip:content-box}.scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb:hover{background:rgba(148,163,184,.9)!important;background-clip:content-box}.scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-corner{background:transparent}.scroll-container.__jsx-style-dynamic-selector{scrollbar-width:thin;scrollbar-color:${t?"rgba(203, 213, 225, 0.8)":"transparent"} transparent;transition:scrollbar-color.3s ease}.scroll-container.__jsx-style-dynamic-selector:hover{scrollbar-color:rgba(203,213,225,.8)transparent}.dark .scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb{background:${t?"rgba(75, 85, 99, 0.8)":"transparent"};background-clip:content-box}.dark .scroll-container.__jsx-style-dynamic-selector:hover::-webkit-scrollbar-thumb{background:rgba(75,85,99,.8);background-clip:content-box}.dark .scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb:hover{background:rgba(107,114,128,.9)!important;background-clip:content-box}.dark .scroll-container.__jsx-style-dynamic-selector{scrollbar-color:${t?"rgba(75, 85, 99, 0.8)":"transparent"} transparent}.dark .scroll-container.__jsx-style-dynamic-selector:hover{scrollbar-color:rgba(75,85,99,.8)transparent}`}),b.jsx("div",{ref:o,style:{height:R(),paddingBottom:h?"8px":"40px"},onScroll:$,className:v.dynamic([["192cfa1c18c03cfe",[t?"rgba(203, 213, 225, 0.8)":"transparent",t?"rgba(203, 213, 225, 0.8)":"transparent",t?"rgba(75, 85, 99, 0.8)":"transparent",t?"rgba(75, 85, 99, 0.8)":"transparent"]]])+` scroll-container w-full ${H} ${_}`,children:p})]})}A.__docgenInfo={description:"",methods:[],displayName:"SideScroll",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},trimHøyde:{required:!1,tsType:{name:"number"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},enableHorizontalScroll:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},autoHeight:{required:!1,tsType:{name:"boolean"},description:""},lagreScrollNøkkel:{required:!1,tsType:{name:"string"},description:""}}};export{A as S};
