import{r as i,da as m,cS as k,j as n,db as D,cT as I,cU as H,cW as A,cV as O,cX as g,dc as _,cZ as L,dd as q,de as G,cY as K,df as W,dg as z,dh as B,di as U,dj as V,H as X,at as Z}from"./iframe-D4iOfYdD.js";import{B as Y}from"./Box-CmI7PDFa.js";var C="Popover",[j]=I(C,[m]),h=m(),[J,l]=j(C),b=e=>{const{__scopePopover:s,children:t,open:a,defaultOpen:o,onOpenChange:r,modal:c=!1}=e,p=h(s),f=i.useRef(null),[v,P]=i.useState(!1),[x,d]=k({prop:a,defaultProp:o??!1,onChange:r,caller:C});return n.jsx(D,{...p,children:n.jsx(J,{scope:s,contentId:H(),triggerRef:f,open:x,onOpenChange:d,onOpenToggle:i.useCallback(()=>d(R=>!R),[d]),hasCustomAnchor:v,onCustomAnchorAdd:i.useCallback(()=>P(!0),[]),onCustomAnchorRemove:i.useCallback(()=>P(!1),[]),modal:c,children:t})})};b.displayName=C;var w="PopoverAnchor",Q=i.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,o=l(w,t),r=h(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:p}=o;return i.useEffect(()=>(c(),()=>p()),[c,p]),n.jsx(_,{...r,...a,ref:s})});Q.displayName=w;var N="PopoverTrigger",E=i.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,o=l(N,t),r=h(t),c=A(s,o.triggerRef),p=n.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":T(o.open),...a,ref:c,onClick:g(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?p:n.jsx(_,{asChild:!0,...r,children:p})});E.displayName=N;var $="PopoverPortal",[pe,ee]=j($,{forceMount:void 0}),u="PopoverContent",y=i.forwardRef((e,s)=>{const t=ee(u,e.__scopePopover),{forceMount:a=t.forceMount,...o}=e,r=l(u,e.__scopePopover);return n.jsx(L,{present:a||r.open,children:r.modal?n.jsx(re,{...o,ref:s}):n.jsx(te,{...o,ref:s})})});y.displayName=u;var oe=K("PopoverContent.RemoveScroll"),re=i.forwardRef((e,s)=>{const t=l(u,e.__scopePopover),a=i.useRef(null),o=A(s,a),r=i.useRef(!1);return i.useEffect(()=>{const c=a.current;if(c)return q(c)},[]),n.jsx(G,{as:oe,allowPinchZoom:!0,children:n.jsx(S,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:g(e.onCloseAutoFocus,c=>{c.preventDefault(),r.current||t.triggerRef.current?.focus()}),onPointerDownOutside:g(e.onPointerDownOutside,c=>{const p=c.detail.originalEvent,f=p.button===0&&p.ctrlKey===!0,v=p.button===2||f;r.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:g(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),te=i.forwardRef((e,s)=>{const t=l(u,e.__scopePopover),a=i.useRef(!1),o=i.useRef(!1);return n.jsx(S,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{e.onCloseAutoFocus?.(r),r.defaultPrevented||(a.current||t.triggerRef.current?.focus(),r.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:r=>{e.onInteractOutside?.(r),r.defaultPrevented||(a.current=!0,r.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=r.target;t.triggerRef.current?.contains(c)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&o.current&&r.preventDefault()}})}),S=i.forwardRef((e,s)=>{const{__scopePopover:t,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:r,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:v,onInteractOutside:P,...x}=e,d=l(u,t),R=h(t);return W(),n.jsx(z,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:r,children:n.jsx(B,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:P,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:v,onDismiss:()=>d.onOpenChange(!1),children:n.jsx(U,{"data-state":T(d.open),role:"dialog",id:d.contentId,...R,...x,ref:s,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),F="PopoverClose",M=i.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,o=l(F,t);return n.jsx(O.button,{type:"button",...a,ref:s,onClick:g(e.onClick,()=>o.onOpenChange(!1))})});M.displayName=F;var ne="PopoverArrow",se=i.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,o=h(t);return n.jsx(V,{...o,...a,ref:s})});se.displayName=ne;function T(e){return e?"open":"closed"}function ae({åpneKnapp:e,children:s,tittel:t}){return n.jsxs(b,{modal:!0,children:[n.jsx(E,{asChild:!0,children:e}),n.jsx(y,{side:"bottom",align:"start",className:"z-999",children:n.jsxs(Y.New,{background:"raised",borderRadius:"12",padding:"5",shadow:"dialog",borderColor:"neutral-subtle",borderWidth:"1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(X,{level:"3",size:"small",children:t}),n.jsx(M,{children:n.jsx(Z,{})})]}),s]})})]})}ae.__docgenInfo={description:"",methods:[],displayName:"PopoverModal",props:{tittel:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},åpneKnapp:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};export{ae as P,b as a,E as b,y as c,M as d};
