import{dE as m,P as u,r as S,u as I,j as e,x as r,d as f,cp as g,D as v,cR as l}from"./iframe-Dp6nHdOg.js";import{R as A}from"./RekrutteringstreffPilotTilgang-Bc4n5xJU.js";import{o as j}from"./opprett-ny-BY162Ryt.js";import{T as s}from"./TilgangskontrollForInnhold-BaIRB-wW.js";import{U as k}from"./umamiEvents-DSuxYBjR.js";import{A as t}from"./ActionMenu-BL45Y7dj.js";import{S as _}from"./Plus-BbO5PYH9.js";const h=()=>{const{open:E}=m(),{trackAndNavigate:R}=u(),[p,T]=S.useState(!1),{valgtNavKontor:c,brukerData:o}=I(),a=async i=>{T(!0);const n={kategori:i,eierNavKontorEnhetId:c?.navKontor,navident:o.ident,brukerNavn:`${o.fornavn} ${o.etternavn}`};try{await j(n,R)}finally{T(!1)}};return e.jsx(s,{skjulVarsel:!0,kreverEnAvRollene:[r.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET,r.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsxs(t,{children:[e.jsx(t.Trigger,{children:e.jsx(f,{loading:p,size:"small",className:"w-full",variant:E?"primary":"tertiary",icon:e.jsx(_,{}),children:E&&"Opprett"})}),e.jsx(t.Content,{children:e.jsxs(t.Group,{label:"Opprett ny",children:[e.jsx(s,{skjulVarsel:!0,kreverEnAvRollene:[r.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(A,{children:e.jsx(t.Item,{onSelect:()=>{const i={opprettetAvNavkontorEnhetId:c?.navKontor||null,tittel:"Treff uten navn"};g(i).then(n=>{const d=n.id;R(k.Sidebar.opprettet_rekrutteringstreff,`/rekrutteringstreff/${d}?mode=edit`)}).catch(n=>{throw new v({message:"Feil ved opprettelse av nytt rekrutteringstreff:",error:n})})},children:"Rekrutteringstreff"})})}),e.jsx(s,{skjulVarsel:!0,kreverEnAvRollene:[r.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(t.Item,{onSelect:async()=>{await a(l.Stilling)},children:"Stillingsoppdrag"})}),e.jsx(s,{skjulVarsel:!0,kreverEnAvRollene:[r.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(t.Item,{onSelect:async()=>{await a(l.Jobbmesse)},children:"Jobbmesse"})}),e.jsx(s,{skjulVarsel:!0,kreverEnAvRollene:[r.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET,r.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(t.Item,{onSelect:async()=>{await a(l.Formidling)},children:"Etterregistrering"})})]})})]})})};h.__docgenInfo={description:"",methods:[],displayName:"OpprettMeny"};export{h as O};
