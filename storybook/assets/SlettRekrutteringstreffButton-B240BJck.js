import{r as f,j as e,d as s,z as p,h2 as m,h0 as k,B as y,R as v}from"./iframe-BgMEyBOw.js";import{M as i}from"./Modal-BYLl8Pr3.js";import{s as b}from"./mutations-BZ8xnux6.js";import{L as c}from"./List-Dber_rM4.js";const x=({erIForhåndsvisning:t,harPublisert:r,onToggleForhåndsvisning:o,onBekreftRedigerPublisert:l})=>{const n=f.useRef(null),d=()=>{const a=!t;if(!a&&r){n.current?.showModal();return}o(a)},u=()=>{l(),n.current?.close()};return e.jsxs(e.Fragment,{children:[e.jsx(s,{type:"button",size:"small",variant:"secondary",onClick:d,children:t?"Rediger":"Forhåndsvisning"}),e.jsxs(i,{ref:n,header:{heading:"Treffet er allerede publisert"},children:[e.jsx(i.Body,{children:e.jsx(p,{children:"Dette rekrutteringstreffet er allerede publisert. Hvis du gjør endringer nå, vil vi ikke lagre fortløpende per felt. Endringene blir lagret når du trykker på knappen Publiser på nytt."})}),e.jsxs(i.Footer,{children:[e.jsx(s,{type:"button",variant:"primary",size:"small",onClick:u,children:"Rediger likevel"}),e.jsx(s,{type:"button",variant:"secondary",size:"small",onClick:()=>n.current?.close(),children:"Avbryt"})]})]})]})};x.__docgenInfo={description:"",methods:[],displayName:"RedigerPublisertButton",props:{erIForhåndsvisning:{required:!0,tsType:{name:"boolean"},description:""},harPublisert:{required:!0,tsType:{name:"boolean"},description:""},onToggleForhåndsvisning:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyForhåndsvisning: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"nyForhåndsvisning"}],return:{name:"void"}}},description:""},onBekreftRedigerPublisert:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const j=()=>{try{return m()}catch{return null}},R=()=>{const t=f.useRef(null),[r,o]=f.useState(!1),{rekrutteringstreffId:l}=k(),n=j(),d=()=>t.current?.showModal(),u=()=>{r||t.current?.close()},a=async()=>{if(r||!l)return;o(!0);let g=!1;try{await b(l),g=!0,n?.push?n.push("/rekrutteringstreff"):window.location.href="/rekrutteringstreff"}catch(h){new v({message:"Feiler når vi prøver å slette rekrutteringstreff",error:h})}finally{o(!1),g&&t.current?.close()}};return e.jsxs(e.Fragment,{children:[e.jsx(s,{type:"button",size:"small",variant:"danger",disabled:r,loading:r,onClick:d,children:"Slett"}),e.jsxs(i,{ref:t,onClose:()=>{r&&t.current?.showModal()},className:"overflow-visible",header:{heading:"Slett treffet"},children:[e.jsxs(i.Body,{className:"overflow-visible",children:[e.jsx(y,{className:"mb-4",children:"Siden treffet ikke er publisert kan du slette det."}),e.jsxs(c,{as:"ul",children:["Etter sletting:",e.jsx(c.Item,{children:"forsvinner treffet fra treff-oversikten i rekrutteringsbistand."}),e.jsx(c.Item,{children:"kan du ikke lenger gjennopprette treffet."})]})]}),e.jsxs(i.Footer,{children:[e.jsx(s,{type:"button",variant:"danger",size:"small",loading:r,onClick:()=>void a(),children:"Ja, slett treffet"}),e.jsx(s,{type:"button",variant:"secondary",size:"small",disabled:r,onClick:u,children:"Nei, behold treffet"})]})]})]})};R.__docgenInfo={description:"",methods:[],displayName:"SlettRekrutteringstreffButton"};export{x as R,R as S};
