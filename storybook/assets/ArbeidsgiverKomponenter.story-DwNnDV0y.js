import{b7 as N,r as c,j as e,b8 as L,b9 as u,d as T,b3 as S,b4 as w,ba as R,S as M,B as C,bb as I,b2 as E}from"./iframe-lHk_a_Ys.js";import{A as f,L as x,S as v,V as _}from"./LeggTilArbeidsgiverForm-BJdrfMRG.js";import{S as H}from"./Plus-C2aL9A72.js";import{M as d}from"./Modal-DNDm5JxN.js";import{T as D}from"./Tooltip-D6BB5FNl.js";import"./preload-helper-PPVm8Dsz.js";import"./util-CgO9toBk.js";import"./stilling-util-BjBixF7p.js";import"./Box-ml8chhWk.js";import"./BasePrimitive-mL93Sz-M.js";import"./Tag-DOherZZD.js";import"./Trash-C29_Zhjq.js";import"./ComboboxProvider-DZz6Y88Z.js";import"./Floating-BArRbXcv.js";import"./Modal.context-YOjTMdCO.js";import"./useControllableState-BAfukxCW.js";import"./useClientLayoutEffect-q86mg6HT.js";import"./useLatestRef-DDQLWIW7.js";import"./useFormField-AG7POx7Y.js";import"./ChevronDown-B6zAlv3g.js";import"./DismissableLayer-B2w8ZaY2.js";import"./owner-CO0wgQ-G.js";import"./Chips-CcfT4x1T.js";import"./ChevronUp-BGrmO4em.js";import"./VStack-BgragJN7.js";import"./floating-ui.react-DP9N4sQ7.js";import"./Date.Input-CwQCqCkJ.js";import"./Calendar-t7TVRuHz.js";import"./Portal-BnMbjmSZ.js";const b=({arbeidsgiver:s,actionSlot:r})=>{const t=s.organisasjonsnummer,{data:a}=N(t),o=c.useMemo(()=>a?.find(i=>i.organisasjonsnummer===t),[a,t])?.adresse??null;return e.jsx(f,{navn:s.navn,organisasjonsnummer:t,adresse:o,status:s.status,actionSlot:r})};b.__docgenInfo={description:"",methods:[],displayName:"ArbeidsgiverListeItem",props:{arbeidsgiver:{required:!0,tsType:{name:"z.infer",elements:[{name:"ArbeidsgiverSchema"}],raw:"z.infer<typeof ArbeidsgiverSchema>"},description:""},status:{required:!1,tsType:{name:"string"},description:""},actionSlot:{required:!1,tsType:{name:"ReactNode"},description:""}}};const h=({className:s})=>{const r=c.useRef(null),{treff:t}=L(),a=t?.status===u.FULLFØRT||t?.status===u.AVLYST,n=()=>r.current?.showModal(),o=()=>r.current?.close();return e.jsxs(e.Fragment,{children:[e.jsx(T,{onClick:n,variant:"secondary",icon:e.jsx(H,{}),disabled:a,className:s,type:"button",children:"Legg til arbeidsgiver"}),e.jsx(d,{ref:r,className:"overflow-visible",onClose:o,header:{heading:"Legg til arbeidsgivere"},children:e.jsx(d.Body,{className:"min-w-[500px] overflow-visible",children:e.jsx(x,{variant:"modal",onCompleted:()=>r.current?.close()})})})]})};h.__docgenInfo={description:"",methods:[],displayName:"LeggTilArbeidsgiverKnapp",props:{className:{required:!1,tsType:{name:"string"},description:""}}};const j=()=>{const{rekrutteringstreffId:s}=S(),r=w(s),t=R(s),[a,n]=c.useState(!1),o=async i=>{if(i)try{n(!0),await I(s,i.arbeidsgiverTreffId??i.organisasjonsnummer),r.mutate(),t.mutate()}finally{n(!1)}};return e.jsx(M,{hooks:[r],children:i=>e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsx("div",{children:e.jsx(h,{})}),i.length===0?e.jsx(C,{children:"Ingen arbeidsgivere lagt til"}):e.jsx("ul",{children:i.map((m,y)=>{const p=i.length===1,k=e.jsx(v,{navn:m.navn,loading:a,disabled:p||a,onConfirm:()=>o(m),arbeidsgivereHook:r,variant:"trash",renderTrigger:({button:g})=>p?e.jsx(D,{content:"Treffet må alltid ha en arbeidsgiver som deltar. Legg til en ny arbeidsgiver først.",className:"max-w-[200px] text-left",children:e.jsx("span",{children:g})}):g});return e.jsx("li",{children:e.jsx(b,{arbeidsgiver:m,actionSlot:k})},y)})})]})})};j.__docgenInfo={description:"",methods:[],displayName:"Arbeidsgivere"};const A=({modalRef:s})=>{const r=()=>{s.current?.close()};return e.jsx(d,{ref:s,className:"overflow-visible",onClose:r,header:{heading:"Legg til arbeidsgivere"},children:e.jsx(d.Body,{className:"min-w-[500px] overflow-visible",children:e.jsx(x,{variant:"modal",onCompleted:()=>{s.current?.close()}})})})};A.__docgenInfo={description:"",methods:[],displayName:"LeggTilArbeidsgiverModal",props:{modalRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDialogElement | null",elements:[{name:"HTMLDialogElement"},{name:"null"}]}],raw:"RefObject<HTMLDialogElement | null>"},description:""}}};const pe={tags:["autodocs"],render:()=>e.jsx(E,{children:e.jsxs("div",{className:"pointer-events-none space-y-10 opacity-60",children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"ArbeidsgiverKort"}),e.jsx(f,{navn:"Eksempelbedrift AS",organisasjonsnummer:"999999999",adresse:{adresse:"Storgata 1",postnummer:"0155",poststed:"Oslo"},status:"Lagt til"})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Arbeidsgivere (liste)"}),e.jsx(j,{})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"VelgArbeidsgiver"}),e.jsx(_,{arbeidsgiverCallback:()=>{}})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Modaler"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(A,{modalRef:{current:null}}),e.jsx(v,{navn:"Eksempelbedrift AS",loading:!1,disabled:!1,onConfirm:()=>{},arbeidsgivereHook:{mutate:()=>{}},variant:"trash",renderTrigger:()=>null})]})]})]})})},l={};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:"{}",...l.parameters?.docs?.source}}};export{l as Oversikt,pe as default};
