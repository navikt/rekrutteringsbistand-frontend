import{r as i,y as D,R as m,T as ae,j as n,B as ne,o as H}from"./iframe-CQcQKVHJ.js";import{_ as f}from"./style-DpIdT1y6.js";import{f as A}from"./FilterChip-BNKUFSfU.js";import{T as U}from"./TømFiltre-Bsoo7JJX.js";import{a as le}from"./util-B1ze5Nv7.js";import{U as k}from"./umamiEvents-D8PysN3T.js";import{C as I}from"./Chips-Cef65U-S.js";import{T as P}from"./Tooltip-Clz02_Bm.js";var se=function(r,p){var l={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&p.indexOf(t)<0&&(l[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(r);s<t.length;s++)p.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(r,t[s])&&(l[t[s]]=r[t[s]]);return l};const ie=i.forwardRef((r,p)=>{var{title:l,titleId:t}=r,s=se(r,["title","titleId"]);let o=D();return o=l?t||"title-"+o:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:p,"aria-labelledby":o},s),l?m.createElement("title",{id:o},l):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m4.03 9.28-3.5 3.5a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06L12 13.44l2.97-2.97a.75.75 0 1 1 1.06 1.06",clipRule:"evenodd"}))});var oe=function(r,p){var l={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&p.indexOf(t)<0&&(l[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(r);s<t.length;s++)p.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(r,t[s])&&(l[t[s]]=r[t[s]]);return l};const ce=i.forwardRef((r,p)=>{var{title:l,titleId:t}=r,s=oe(r,["title","titleId"]);let o=D();return o=l?t||"title-"+o:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:p,"aria-labelledby":o},s),l?m.createElement("title",{id:o},l):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m4.03 10.22-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 1 0 1.06 1.06L12 10.56l2.97 2.97a.75.75 0 1 0 1.06-1.06",clipRule:"evenodd"}))}),de=({tømFiltreProps:r,filtre:p=[]})=>{const l=ae(),[t,s]=i.useState(!1),[o,R]=i.useState(0),[h,F]=i.useState(null),[_,B]=i.useState(0),[C,J]=i.useState(0),[e,$]=i.useState(!1),[g,X]=i.useState(null),E=i.useRef(null),x=i.useRef(null),V=i.useRef(null),K=i.useRef(null),u=p.flatMap((a,c)=>(a.type||[]).map((b,W)=>{const N=a.mapVerdiNavn?A(a.mapVerdiNavn(b)):A(le(b));return{key:`${c}-${b}-${W}`,label:N,remove:()=>a.setVerdi((a.type||[]).filter(w=>w!==b))}})),O=Math.max(0,u.length-o),Q=O>0;i.useEffect(()=>{t?l.track(k.Generell.åpne_filter_chip_panel):l.track(k.Generell.lukk_filter_chip_panel)},[t,l]),i.useLayoutEffect(()=>{if(!E.current||!x.current)return;const a=E.current.offsetWidth;if(!a)return;const c=x.current,b=Array.from(c.querySelectorAll("button[data-chip-measure]")),W=c.querySelector("button[data-clear-all]"),N=c.querySelector("div[data-control-wrapper]"),w=getComputedStyle(c),L=parseFloat(w.columnGap||w.gap||"0")||0,y=W?.offsetWidth||0,re=b.map(d=>d.offsetWidth),v=[];if(re.reduce((d,G,M)=>{const T=d+G+(M>0||y>0?L:0);return v.push(T),T},y),(v[v.length-1]||y)<=a){o!==u.length&&R(u.length),_!==0&&B(0);return}let j=0,S=0;for(let d=u.length;d>=0;d--){if(u.length-d===0){if((d===0?y:v[d-1])<=a){j=d,S=0;break}continue}const q=(N?.offsetWidth||0)+16+8,z=d===0?y:v[d-1];if(z+(z>0?L:0)+q<=a){j=d,S=q;break}}j!==o&&R(j),S!==_&&B(S)},[u,r,o,_]),i.useLayoutEffect(()=>{const a=V.current;if(a&&!h&&F(a.getBoundingClientRect().height),C===0&&x.current){const c=x.current.querySelector("button[data-collapse-measure]");if(c){const b=c.offsetWidth+8;J(b)}}},[h,C]),i.useEffect(()=>{let a;const c=()=>{clearTimeout(a),a=setTimeout(()=>R(0),150)};return window.addEventListener("resize",c),()=>{clearTimeout(a),window.removeEventListener("resize",c)}},[]);const Y=()=>{$(!0),g&&clearTimeout(g);const a=setTimeout(()=>{$(!1)},1e3);X(a)};if(i.useEffect(()=>()=>{g&&clearTimeout(g)},[g]),u.length===0)return null;const Z=t?u:u.slice(0,o),ee=t?h?`${h*8}px`:"600px":h?`${h}px`:"40px",te=t?(C||40)+16:0;return n.jsxs("div",{ref:E,className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" w-full",children:[n.jsx(f,{id:"f20d71e6f40cafe0",dynamic:[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"],children:`.chips-scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar{width:16px;height:16px}.chips-scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-track{background:transparent;margin:2px}.chips-scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb{background:${e?"rgba(203, 213, 225, 0.8)":"transparent"};border-radius:8px;border:4px solid transparent;background-clip:content-box;transition:background.3s ease}.chips-scroll-container.__jsx-style-dynamic-selector:hover::-webkit-scrollbar-thumb{background:rgba(203,213,225,.8);background-clip:content-box}.chips-scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb:hover{background:rgba(148,163,184,.9)!important;background-clip:content-box}.chips-scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-corner{background:transparent}.chips-scroll-container.__jsx-style-dynamic-selector{scrollbar-width:thin;scrollbar-color:${e?"rgba(203, 213, 225, 0.8)":"transparent"} transparent;transition:scrollbar-color.3s ease}.chips-scroll-container.__jsx-style-dynamic-selector:hover{scrollbar-color:rgba(203,213,225,.8)transparent}.dark .chips-scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb{background:${e?"rgba(75, 85, 99, 0.8)":"transparent"};background-clip:content-box}.dark .chips-scroll-container.__jsx-style-dynamic-selector:hover::-webkit-scrollbar-thumb{background:rgba(75,85,99,.8);background-clip:content-box}.dark .chips-scroll-container.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb:hover{background:rgba(107,114,128,.9)!important;background-clip:content-box}.dark .chips-scroll-container.__jsx-style-dynamic-selector{scrollbar-color:${e?"rgba(75, 85, 99, 0.8)":"transparent"} transparent}.dark .chips-scroll-container.__jsx-style-dynamic-selector:hover{scrollbar-color:rgba(75,85,99,.8)transparent}`}),n.jsxs("div",{className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" flex justify-between relative",children:[n.jsx("div",{style:{maxHeight:ee,paddingRight:te},onScroll:Y,className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" chips-scroll-container flex-1 min-w-0 transition-all duration-300 ease-in-out overflow-auto",children:n.jsxs(I,{ref:V,size:"small",className:"flex items-center gap-2 flex-wrap","aria-expanded":t,children:[r&&n.jsx("div",{className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" flex-shrink-0",children:n.jsx(U,{...r,"data-clear-all":"true",className:"flex-shrink-0"})}),Z.map(a=>n.jsx(I.Removable,{onClick:a.remove,style:{whiteSpace:"nowrap",flexShrink:0},className:"flex-shrink-0",children:a.label},a.key)),!t&&O>0&&n.jsx(ne,{onClick:()=>{s(!0),l.track(k.Generell.åpne_filter_chip_panel_tekst)},className:"cursor-pointer text-s whitespace-nowrap text-[var(--ax-text-accent-subtle)]",children:`+ ${O} filtre`})]})}),n.jsxs("div",{ref:x,"aria-hidden":"true",className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" invisible fixed left-[-9999px] flex items-center gap-2 flex-nowrap",children:[r&&n.jsx("div",{className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" flex-shrink-0",children:n.jsx(U,{...r,"data-clear-all":!0,className:"flex-shrink-0"})}),u.map(a=>n.jsx(I.Removable,{"data-chip-measure":!0,onClick:c=>c.preventDefault(),className:"flex-shrink-0 whitespace-nowrap",children:a.label},`m-${a.key}`))]}),Q&&!t&&n.jsxs("div",{style:{width:_},className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" absolute inset-y-0 right-0 flex items-center justify-end",children:[n.jsx("div",{style:{background:"linear-gradient(to right, rgba(0,0,0,0) 0%, var(--ax-surface-default) 55%)"},className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" absolute inset-0 pointer-events-none"}),n.jsx("div",{className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" relative flex items-center gap-2 pr-2 ",children:n.jsx(P,{content:"Vis alle aktive filtre",children:n.jsx(H,{onClick:()=>{s(!0),l.track(k.Generell.åpne_filter_chip_panel)},size:"small",variant:"tertiary","aria-label":"Vis flere filtre",icon:n.jsx(ie,{})})})})]}),t&&n.jsx("div",{className:f.dynamic([["f20d71e6f40cafe0",[e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(203, 213, 225, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent",e?"rgba(75, 85, 99, 0.8)":"transparent"]]])+" absolute top-0 right-0 pr-2 pt-0",children:n.jsx(P,{content:"Skjul aktive filtre",children:n.jsx(H,{ref:K,size:"small",variant:"tertiary","aria-label":"Skjul filtre",onClick:()=>{s(!1),l.track(k.Generell.lukk_filter_chip_panel)},icon:n.jsx(ce,{})})})})]})]})};de.__docgenInfo={description:"",methods:[],displayName:"ValgteFiltre",props:{filtre:{defaultValue:{value:"[]",computed:!1},required:!1}}};export{de as V};
