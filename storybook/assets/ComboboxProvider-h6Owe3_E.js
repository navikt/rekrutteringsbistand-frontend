import{r as p,m as i,a5 as X,p as k,F as ve,y as se,B as le,L as de,ab as be,a7 as ge,w as Oe,a6 as ue,v as he,z as xe,E as Ce}from"./iframe-rNYAyblL.js";import{F as ie}from"./Floating-BI3ChyXY.js";import{u as ye,R as Ie}from"./useFormField-DO874rDX.js";import{u as ae}from"./useClientLayoutEffect-B9Y6M99n.js";import{D as Se}from"./DismissableLayer-sCDQcEC2.js";import{S as Ee}from"./Plus-2_uWMZzt.js";import{C as ne}from"./Chips-bfwxewlD.js";import{S as _e}from"./ChevronUp-DTUlxjPX.js";import{S as we}from"./ChevronDown-DNHVLjgA.js";const me=e=>{const o=p.useRef(e);return p.useEffect(()=>{o.current=e},[e]),o.current},[Fe,N]=X({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),Le=({children:e,value:o})=>{const{defaultValue:s="",description:t,disabled:n,readOnly:d,error:f,errorId:g,id:h,value:v,onChange:u,onClear:c,shouldAutocomplete:b,size:_}=o,a=ye({description:t,disabled:n,readOnly:d,error:f,errorId:g,id:h,size:_},"comboboxfield"),r=p.useRef(null),S=p.useRef(null),[l,m]=p.useState(s),[x,I]=p.useState(!1),[A,B]=p.useState(null),F=p.useMemo(()=>String(v??l),[v,l]),[L,M]=p.useState(F),E=p.useCallback(C=>{v??m(C),M(C),u?.(C)},[v,u]),T=p.useCallback(C=>{c?.(C),u?.(""),m(""),M("")},[u,c]),D=p.useCallback(()=>{var C,R;(R=(C=r.current)===null||C===void 0?void 0:C.focus)===null||R===void 0||R.call(C)},[]);ae(()=>{var C,R;b&&r&&F!==L&&((R=(C=r.current)===null||C===void 0?void 0:C.setSelectionRange)===null||R===void 0||R.call(C,L.length,F.length))},[F,L,b]);const j=Object.assign(Object.assign({},a),{clearInput:T,error:f,focusInput:D,inputRef:r,value:F,setValue:m,onChange:E,searchTerm:L,setSearchTerm:M,shouldAutocomplete:b,toggleOpenButtonRef:S,hideCaret:x,setHideCaret:I,anchorRef:A,setAnchorRef:B});return i.createElement(Fe,Object.assign({},j),e)},Te=({children:e,className:o,hasError:s,inputProps:t,inputSize:n})=>{const{cn:d}=k(),{toggleOpenButtonRef:f,clearInput:g,readOnly:h}=N(),v=p.useRef(null),[u,c]=p.useState(!1);function b(a){var r;!(!((r=v.current)===null||r===void 0)&&r.contains(a.relatedTarget))&&f?.current!==a.target&&c(!0)}function _(a){var r;!((r=v.current)===null||r===void 0)&&r.contains(a.relatedTarget)||(c(!1),g(a))}return i.createElement("div",{ref:v,className:d(o,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":s,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":u,"navds-combobox--readonly":h,"navds-form-field--readonly":h}),onFocus:b,onBlur:_},e)},U=(e,o)=>typeof e=="string"?o.some(s=>s.label===e||s.value===e):o.some(s=>s.label===e.label&&s.value===e.value),re=e=>({label:e,value:e}),oe=e=>e?.map(o=>typeof o=="string"?re(o):o),[Me,pe]=X({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),Re=({children:e,value:o})=>{const[s,t]=p.useState([]),{focusInput:n}=N(),{isMultiSelect:d}=o,f=p.useCallback(v=>{t(u=>u.filter(c=>c.label!==v.label)),n()},[n]),g=p.useCallback(v=>{t(d?u=>[...u,v]:[v]),n()},[n,d]),h={customOptions:s,removeCustomOption:f,addCustomOption:g,setCustomOptions:t};return i.createElement(Me,Object.assign({},h),e)},[Ae,H]=X(),De=({children:e,value:o})=>{const{clearInput:s,focusInput:t,setHideCaret:n}=N(),{customOptions:d,removeCustomOption:f,addCustomOption:g,setCustomOptions:h}=pe(),{allowNewValues:v,isMultiSelect:u,selectedOptions:c,onToggleSelected:b,options:_,maxSelected:a}=o,[r,S]=p.useState([]),l=p.useMemo(()=>c??[...d,...r],[d,c,r]),m=p.useCallback(E=>{const T=!U(E,_);T?(v&&g(E),!u&&S([])):u?S(D=>[...D,E]):(S([E]),h([])),b?.(E.value,!0,T)},[g,v,u,b,_,h]),x=p.useCallback(E=>{const T=U(E,d);T?f(E):S(D=>D.filter(j=>j!==E)),b?.(E.value,!1,T)},[d,b,f]),I=typeof a=="object"?a.limit:a,A=!!I&&l.length>=I,B=A||!u&&l.length>0;p.useEffect(()=>{n(B)},[B,l,n]);const F=p.useCallback((E,T)=>{if(U(E.value,l))x(E);else{if(u&&A)return;m(E)}s(T),t()},[m,s,t,x,l,A,u]),L=me(l),M={addSelectedOption:m,isMultiSelect:u,removeSelectedOption:x,prevSelectedOptions:L,selectedOptions:l,setSelectedOptions:S,toggleOption:F,maxSelected:{limit:I,isLimitReached:A}};return i.createElement(Ae,Object.assign({},M),e)},Q=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",fe=(e,o)=>Q(o).includes(Q(e??"")),Ne=(e,o)=>o.filter(s=>fe(e,s.label)),Pe=(e,o)=>o.find(s=>Q(s.label).startsWith(e.toLocaleLowerCase())),ke=e=>`${e}-filtered-options`,Be=(e,o)=>`${e}-option-${o}`.replace(/\s/g,"-").toLocaleLowerCase(),je=e=>`${e}-combobox-new-option`,Ve=e=>`${e}-is-loading`,ze=e=>`${e}-no-hits`,Ue=e=>`${e}-max-selected-options`,w={normalizeText:Q,isPartOfText:fe,getMatchingValuesFromList:Ne,getFilteredOptionsId:ke,getAddNewOptionId:je,getOptionId:Be,getIsLoadingId:Ve,getNoHitsId:ze,getMaxSelectedOptionsId:Ue,getFirstValueStartingWith:Pe},He=e=>{const[o,s]=p.useState(void 0),t=()=>{var l;return Array.from((l=e?.children)!==null&&l!==void 0?l:[])},n=()=>t().filter(l=>l.getAttribute("data-no-focus")!=="true"),d=l=>t().find(m=>m.id===l),f=()=>o?n().indexOf(o)===0:!1,g=()=>{const l=n();return o?l.indexOf(o)===l.length-1:!1},h=l=>{var m;s(l),(m=l?.scrollIntoView)===null||m===void 0||m.call(l,{block:"nearest"})};return{activeElement:o,getElementById:d,isFocusOnTheTop:f,isFocusOnTheBottom:g,moveFocusUp:()=>{if(!o)return;const l=n(),m=l.indexOf(o),x=l[m-1];m===0?s(void 0):h(x)},moveFocusDown:()=>{const l=n();if(!o){h(l[0]);return}const m=l.indexOf(o);m!==l.length-1&&h(l[m+1])},moveFocusToElement:l=>{const m=n().find(x=>x.getAttribute("id")===l);m&&s(m)},moveFocusToTop:()=>{const l=n();h(l[0])},moveFocusToBottom:()=>{const l=n();h(l[l.length-1])},moveFocusUpBy:l=>{if(!o)return;const m=n(),x=m.indexOf(o),I=Math.max(x-l,0);h(m[I])},moveFocusDownBy:l=>{const m=n(),x=o?m.indexOf(o):-1,I=Math.min(x+l,m.length-1);h(m[I])},resetFocus:()=>s(void 0)}},[$e,q]=X({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),We=({children:e,value:o})=>{const{allowNewValues:s,filteredOptions:t,isListOpen:n,isLoading:d,options:f}=o,[g,h]=p.useState(null),v=He(g),{inputProps:{"aria-describedby":u,id:c,disabled:b},readOnly:_,value:a,searchTerm:r,setValue:S,setSearchTerm:l,shouldAutocomplete:m,setHideCaret:x}=N(),{maxSelected:I}=H(),[A,B]=p.useState(!1),{customOptions:F}=pe(),L=p.useMemo(()=>{if(t)return t;const y=[...F,...f];return w.getMatchingValuesFromList(r,y)},[F,t,f,r]),M=me(r),[E,T]=p.useState(!1),D=p.useMemo(()=>{const y=Object.assign({[w.getAddNewOptionId(c)]:s?re(a):void 0},F.reduce(($,W)=>{const O=w.getOptionId(c,W.value);return $[O]=W,$},{}));return f.reduce(($,W)=>{const O=w.getOptionId(c,W.value);return $[O]=W,$},y)},[s,F,c,f,a]);ae(()=>{var y;const z=(y=w.getFirstValueStartingWith(r,L))===null||y===void 0?void 0:y.label;m&&z&&(M?.length||0)<r.length&&S(`${r}${z.substring(r.length)}`)},[L,M,r,l,S,m]);const j=p.useMemo(()=>n??A,[n,A]),C=p.useCallback(y=>{b||_||(v.resetFocus(),(y??!A)&&x(I.isLimitReached),B(z=>y??!z))},[v,I.isLimitReached,A,x,b,_]),R=p.useMemo(()=>!!r&&!D[w.getOptionId(c,r)],[D,c,r]),Y=p.useMemo(()=>{let y="";!d&&L.length===0&&!s?y=w.getNoHitsId(c):(a||d)&&(m&&L[0]?y=w.getOptionId(c,L[0].value):j&&d&&(y=w.getIsLoadingId(c)));const z=I.isLimitReached&&w.getMaxSelectedOptionsId(c);return ve(y,z,u)||void 0},[j,d,I.isLimitReached,a,u,m,L,c,s]),J=p.useMemo(()=>{var y;return D[((y=v.activeElement)===null||y===void 0?void 0:y.getAttribute("id"))||-1]},[D,v]),P={activeDecendantId:p.useMemo(()=>{var y;return((y=v.activeElement)===null||y===void 0?void 0:y.getAttribute("id"))||void 0},[v.activeElement]),allowNewValues:s,setFilteredOptionsRef:h,shouldAutocomplete:m,isListOpen:j,isLoading:d,filteredOptions:L,isMouseLastUsedInputDevice:E,setIsMouseLastUsedInputDevice:T,isValueNew:R,toggleIsListOpen:C,currentOption:J,virtualFocus:v,ariaDescribedBy:Y};return i.createElement($e,Object.assign({},P),e)},Ke=()=>{const{cn:e}=k(),{inputProps:{id:o},size:s,searchTerm:t}=N(),{setIsMouseLastUsedInputDevice:n,toggleIsListOpen:d,activeDecendantId:f,virtualFocus:g}=q(),{isMultiSelect:h,selectedOptions:v,toggleOption:u}=H(),c=se("Combobox");return i.createElement("li",{tabIndex:-1,onMouseMove:()=>{f!==w.getAddNewOptionId(o)&&(g.moveFocusToElement(w.getAddNewOptionId(o)),n(!0))},onPointerUp:b=>{u(re(t),b),!h&&!U(t,v)&&d(!1)},id:w.getAddNewOptionId(o),className:e("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":f===w.getAddNewOptionId(o)}),role:"option","aria-selected":!1},i.createElement(Ee,{"aria-hidden":!0}),i.createElement(le,{size:s},c("addOption")," ",i.createElement(de,{as:"span",size:s},"“",t,"”")))},qe=(e,o)=>{const s=e.toLowerCase().indexOf(o.toLowerCase());if(s===-1)return[e,"",""];const t=e.substring(0,s),n=e.substring(s,s+o.length),d=e.substring(s+o.length);return[t,n,d]},Ze=({option:e})=>{const{cn:o}=k(),{inputProps:{id:s},size:t,searchTerm:n}=N(),{setIsMouseLastUsedInputDevice:d,toggleIsListOpen:f,activeDecendantId:g,virtualFocus:h}=q(),{isMultiSelect:v,maxSelected:u,selectedOptions:c,toggleOption:b}=H(),[_,a,r]=qe(e.label,n),S=x=>u.isLimitReached&&!U(x.value,c),l=w.getOptionId(s,e.value),m=g===l;return i.createElement("li",{className:o("navds-combobox__list-item",{"navds-combobox__list-item--focus":m,"navds-combobox__list-item--selected":U(e.value,c)}),"data-no-focus":S(e)||void 0,id:l,key:l,tabIndex:-1,onMouseMove:()=>{m||(h.moveFocusToElement(l),d(!0))},onPointerUp:x=>{S(e)||(b(e,x),!v&&!U(e.value,c)&&f(!1))},role:"option","aria-selected":U(e.value,c),"aria-disabled":S(e)||void 0},i.createElement(le,{size:t,"aria-label":e.label},_,a&&i.createElement("mark",null,a),r),U(e.value,c)&&i.createElement(be,null))},Ge=()=>{const{inputProps:{id:e}}=N(),{cn:o}=k(),s=se("Combobox");return i.createElement("div",{className:o("navds-combobox__list-item--loading"),id:w.getIsLoadingId(e)},i.createElement(ge,{title:s("loading")}))},Je=()=>{const{cn:e}=k(),{inputProps:{id:o}}=N(),{maxSelected:s,selectedOptions:t}=H(),n=se("Combobox");return i.createElement("div",{className:e("navds-combobox__list-item--max-selected"),id:w.getMaxSelectedOptionsId(o)},n("maxSelected",{selected:t.length,limit:s.limit||0}))},Qe=()=>{const{cn:e}=k(),{inputProps:{id:o}}=N();return i.createElement("div",{className:e("navds-combobox__list-item--no-options"),id:w.getNoHitsId(o)},"Ingen søketreff")},Xe=()=>{const{cn:e}=k(),o=Oe(!1),{inputProps:{id:s},anchorRef:t}=N(),{allowNewValues:n,isLoading:d,isListOpen:f,filteredOptions:g,setFilteredOptionsRef:h,isMouseLastUsedInputDevice:v,isValueNew:u,toggleIsListOpen:c}=q(),[b,_]=p.useState(f),a=p.useRef(null);ae(()=>{queueMicrotask(()=>_(f))},[f]);const{maxSelected:r,isMultiSelect:S}=H(),l=S&&r.limit||d||!d&&g.length===0&&!n,m=n&&u&&!r.isLimitReached||g.length>0,x=o?.isDarkside?"316px":"290px";return i.createElement(Se,{asChild:!0,safeZone:{anchor:t},onDismiss:()=>b&&c(!1),onEscapeKeyDown:I=>{I.preventDefault()},enabled:b},i.createElement(ie.Content,{ref:a,className:e("navds-combobox__list",{"navds-combobox__list--closed":!f,"navds-combobox__list--with-hover":v}),id:w.getFilteredOptionsId(s),tabIndex:-1,sideOffset:8,side:"bottom",fallbackPlacements:["top"],enabled:f,style:{maxHeight:b?`min(${x}, var(--ac-floating-available-height))`:`${x}`},autoUpdateWhileMounted:!1},l&&i.createElement("div",{className:e("navds-combobox__list_non-selectables"),role:"status"},S&&r.limit&&i.createElement(Je,null),d&&i.createElement(Ge,null),!d&&g.length===0&&!n&&i.createElement(Qe,null)),m&&i.createElement("ul",{ref:h,role:"listbox",className:e("navds-combobox__list-options")},u&&!r.isLimitReached&&n&&i.createElement(Ke,null),g.map(I=>i.createElement(Ze,{key:I.value,option:I})))))},Ye=({option:e})=>{const{cn:o}=k(),{isMultiSelect:s,removeSelectedOption:t}=H(),{focusInput:n,readOnly:d,inputProps:f}=N();return s?d||f.disabled?i.createElement(ne.Toggle,{"data-color":"neutral",variant:"neutral",checkmark:!1,as:"div"},e.label):i.createElement(ne.Removable,{onClick:g=>{g.stopPropagation(),t(e),n()}},e.label):i.createElement("div",{className:o("navds-combobox__selected-options--no-bg")},e.label)},et=({selectedOptions:e=[],size:o,children:s})=>{const{cn:t}=k(),{value:n}=N(),{isMultiSelect:d}=H();return i.createElement(ne,{className:t("navds-combobox__selected-options"),size:o,"data-type":d?"multiple":"single"},n.length===0||d&&e.length?e.map((f,g)=>i.createElement(Ye,{key:f.label+g,option:f})):[],s)};var tt=function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const ce=p.forwardRef((e,o)=>{var{inputClassName:s,shouldShowSelectedOptions:t,placeholder:n,onBlur:d}=e,f=tt(e,["inputClassName","shouldShowSelectedOptions","placeholder","onBlur"]);const{cn:g}=k(),h=p.useRef(null),v=ue(o,h),{clearInput:u,inputProps:c,onChange:b,size:_,value:a,searchTerm:r,setValue:S,hideCaret:l,setHideCaret:m,readOnly:x}=N(),{selectedOptions:I,removeSelectedOption:A,toggleOption:B,isMultiSelect:F,maxSelected:L}=H(),{activeDecendantId:M,allowNewValues:E,currentOption:T,filteredOptions:D,isValueNew:j,toggleIsListOpen:C,isListOpen:R,ariaDescribedBy:Y,setIsMouseLastUsedInputDevice:J,shouldAutocomplete:Z,virtualFocus:P}=q(),y=p.useCallback(O=>{var V;const ee=K=>I.some(te=>te.label.toLocaleLowerCase()===K.toLocaleLowerCase());if(T)O.preventDefault(),B(T,O),!F&&!ee(T.label)&&C(!1);else if(ee(a))O.preventDefault(),u(O);else if((E||Z)&&a!==""){O.preventDefault();const K=w.getFirstValueStartingWith(a,D),te=w.normalizeText(a)===w.normalizeText((V=K?.label)!==null&&V!==void 0?V:"");let G;if(Z&&K&&te?G=K:E&&j&&(G={label:a,value:a}),!G)return;B(G,O),!F&&!ee(G.label)&&C(!1)}},[E,u,T,D,F,j,I,Z,C,B,a]),z=O=>{switch(O.preventDefault(),O.key){case"Enter":case"Accept":y(O);break}},$=p.useCallback(O=>{if(J(!1),!x)if(O.key==="Backspace"){if(a===""&&t){const V=I[I.length-1];V&&A(V)}}else O.key==="Enter"||O.key==="Accept"?(M||a)&&O.preventDefault():O.key==="Escape"?(R||a)&&(O.preventDefault(),u(O),C(!1)):["ArrowLeft","ArrowRight"].includes(O.key)?a!==""&&a!==r&&b(a):O.key==="ArrowDown"?(a!==r&&S(r),R?P.moveFocusDown():(C(!0),setTimeout(P.moveFocusDown,0))):O.key==="ArrowUp"?(a!==""&&a!==r&&b(a),R&&M&&(O.preventDefault(),P.isFocusOnTheTop()&&C(!1),P.moveFocusUp())):O.key==="Home"?(O.preventDefault(),P.moveFocusToTop()):O.key==="End"?(O.preventDefault(),R?P.moveFocusToBottom():(C(!0),setTimeout(P.moveFocusToBottom,0))):O.key==="PageUp"?(O.preventDefault(),P.moveFocusUpBy(6)):O.key==="PageDown"&&(O.preventDefault(),R?P.moveFocusDownBy(6):(C(!0),setTimeout(()=>P.moveFocusDownBy(6),0)))},[a,I,A,R,M,J,u,C,b,P,S,r,t,x]),W=p.useCallback(O=>{const V=O.target.value;V&&V!==""?C(!0):D.length===0&&C(!1),b(V)},[D.length,b,C]);return i.createElement("input",Object.assign({},f,he(c,["aria-invalid"]),{ref:v,type:"text",role:"combobox",value:a,onBlur:xe(d,P.resetFocus),onClick:()=>{m(L.isLimitReached),a!==r&&b(a)},onInput:W,onKeyUp:z,onKeyDown:$,autoComplete:"off",placeholder:I.length?void 0:n,className:g(s,"navds-combobox__input","navds-body-short",`navds-body-short--${_}`,{"navds-combobox__input--hide-caret":l}),"aria-controls":w.getFilteredOptionsId(c.id),"aria-expanded":!!R,"aria-autocomplete":Z?"both":"list","aria-activedescendant":M,"aria-describedby":Y,"aria-invalid":c["aria-invalid"],readOnly:x}))}),ot=p.forwardRef((e,o)=>{const{cn:s}=k(),{isListOpen:t,toggleIsListOpen:n}=q(),{focusInput:d}=N();return i.createElement("div",{ref:o,onClick:f=>{f.stopPropagation(),n(),d()},className:s("navds-combobox__button-toggle-list"),"aria-hidden":!0},t?i.createElement(_e,null):i.createElement(we,null))});var nt=function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const st=p.forwardRef((e,o)=>{const{clearButton:s,clearButtonLabel:t,toggleListButton:n=!0,inputClassName:d,shouldShowSelectedOptions:f=!0}=e,g=nt(e,["clearButton","clearButtonLabel","toggleListButton","inputClassName","shouldShowSelectedOptions"]),{cn:h}=k(),{focusInput:v,inputProps:u,size:c="medium",inputRef:b,toggleOpenButtonRef:_,readOnly:a,setAnchorRef:r}=N(),{activeDecendantId:S,toggleIsListOpen:l}=q(),{selectedOptions:m}=H(),x=ue(b,o);return i.createElement(ie.Anchor,{asChild:!0,ref:r},i.createElement("div",{className:h("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":S!==void 0}),onClick:()=>{u.disabled||a||(l(!0),v())}},f?i.createElement(et,{selectedOptions:m,size:c},i.createElement(ce,Object.assign({id:u.id,ref:x,inputClassName:d,shouldShowSelectedOptions:f,readOnly:a},g))):i.createElement(ce,Object.assign({id:u.id,ref:x,inputClassName:d,readOnly:a},g)),n&&i.createElement(ot,{ref:_})))});var lt=function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const it=p.forwardRef((e,o)=>{const{className:s,hideLabel:t=!1,description:n,label:d}=e,f=lt(e,["className","hideLabel","description","label"]),{cn:g}=k(),{error:h,errorId:v,hasError:u,inputDescriptionId:c,inputProps:b,showErrorMsg:_,size:a="medium",readOnly:r}=N();return i.createElement(ie,null,i.createElement(Te,{className:s,hasError:u,inputProps:b,inputSize:a},i.createElement(de,{htmlFor:b.id,size:a,className:g("navds-form-field__label",{"navds-sr-only":t})},r&&i.createElement(Ie,null),d),!!n&&i.createElement(le,{as:"div",className:g("navds-form-field__description",{"navds-sr-only":t}),id:c,size:a},n),i.createElement("div",{className:g("navds-combobox__wrapper")},i.createElement(st,Object.assign({ref:o},f)),i.createElement(Xe,null)),i.createElement("div",{className:g("navds-form-field__error"),id:v,"aria-relevant":"additions removals","aria-live":"polite"},_&&i.createElement(Ce,{size:a,showIcon:!0},h))))});var at=function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const gt=p.forwardRef((e,o)=>{const{allowNewValues:s=!1,children:t,defaultValue:n,disabled:d,readOnly:f,error:g,errorId:h,filteredOptions:v,id:u,isListOpen:c,isLoading:b=!1,isMultiSelect:_,onToggleSelected:a,selectedOptions:r,maxSelected:S,options:l,value:m,onChange:x,onClear:I,shouldAutocomplete:A,size:B}=e,F=at(e,["allowNewValues","children","defaultValue","disabled","readOnly","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),L=oe(l)||[],M=oe(v),E=oe(r),T=typeof navigator>"u"?"":navigator.userAgent,j=!(T.includes("Android")&&T.includes("Firefox/"))&&A;return i.createElement(Le,{value:{defaultValue:n,description:F.description,disabled:d,readOnly:f,error:g,errorId:h,id:u,value:m,onChange:x,onClear:I,shouldAutocomplete:j,size:B}},i.createElement(Re,{value:{isMultiSelect:_}},i.createElement(De,{value:{allowNewValues:s,isMultiSelect:_,selectedOptions:E,maxSelected:S,onToggleSelected:a,options:L}},i.createElement(We,{value:{allowNewValues:s,filteredOptions:M,isListOpen:c,isLoading:b,options:L}},i.createElement(it,Object.assign({ref:o},F),t)))))});export{gt as C};
