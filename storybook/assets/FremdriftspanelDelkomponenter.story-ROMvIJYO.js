import{r as o,m as E,f as O,u as F,j as e,S as V,d as m,z,hE as H,R as _,a8 as P,A as L,H as c,B as n,l as M,hF as G}from"./iframe-CW8P7ZDD.js";import{s as B,P as J,A as U,F as $,S as W,R as q,a as Q,G as X,E as Y}from"./FullførtStilling-DfjQd0X6.js";import{K as w}from"./schema.zod-DedlLkyY.js";import{u as Z}from"./useKandidatlisteForEier-Crx3vl4H.js";import{K as C}from"./KandidatTyper-CkRsvxsW.js";import{M as p}from"./Modal-DsVdsax9.js";import{B as S}from"./Box-WJh-mQoH.js";import{V as v,H as b}from"./VStack-C0LveroH.js";import{C as ee}from"./Checkbox-CNcr5KIh.js";import{S as D}from"./PlusCircle-CyZUTaNl.js";import{S as se}from"./PersonChat-Ca3ZU4sb.js";import{S as te}from"./FileText-BL1SQwaK.js";import{T as re}from"./TilgangskontrollForInnhold-D6zwh8dr.js";import{f as le}from"./util-DuktEjlu.js";import{S as ae}from"./Handshake-CpQCW4S4.js";import{S as ie}from"./CircleSlash-BONHtX9p.js";import{S as ne}from"./ArrowForward-DFqbJDKp.js";import{S as oe}from"./Briefcase-D5ew22Iy.js";import"./preload-helper-BWMAHTUm.js";import"./oppdaterStilling-B4W1AaGL.js";import"./EyeSlash-DrYGeEZT.js";import"./Pencil-CCDyJFma.js";import"./ClockDashed-DTGgMUFz.js";import"./Table-CDmQ_lSP.js";import"./Tasklist-CauASMdf.js";import"./accordion-BygDUc64.js";import"./index-ChfE8Kum.js";import"./index-CY1AlTLM.js";import"./index-DxpnBBq6.js";import"./ChevronDown-90OG85yH.js";import"./Bell-fibZGBnp.js";import"./Eye-DhCo8sJ-.js";import"./ProgressBar-iu0g4eQG.js";import"./kandidat.mock-Bv0nRdao.js";import"./innsatsgrupper-BqldBv0r.js";import"./index-CbVjSjaj.js";import"./floating-ui.react-Dp2W39BI.js";import"./Date.Input-BxC2c25T.js";import"./useFormField-9cHrvR0I.js";import"./useControllableState-lWfKsWES.js";import"./match-Bz7OQ0zI.js";import"./Calendar-Dd214z57.js";import"./Modal.context-7M0gvZj4.js";import"./BasePrimitive-LrKddP1X.js";import"./Fieldset-DnsgMVGg.js";import"./ErrorBoundary-oWPP8YGB.js";import"./Link-CYWdiJz0.js";import"./format-BGF-tAX-.js";import"./parseISO-CcmPCjvl.js";import"./parse-DnIwr0rg.js";import"./getDefaultOptions-D7nGWO2p.js";var de=function(s,a){var l={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&a.indexOf(t)<0&&(l[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(s);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(s,t[r])&&(l[t[r]]=s[t[r]]);return l};const ce=o.forwardRef((s,a)=>{var{title:l,titleId:t}=s,r=de(s,["title","titleId"]);let i=E();return i=l?t||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),l?o.createElement("title",{id:i},l):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.286 11.483a.75.75 0 0 1 .099-.33l4.5-7.795a2.75 2.75 0 0 1 4.763 2.75l-4.5 7.795a.75.75 0 0 1-.236.25l-3.732 2.465a.75.75 0 0 1-1.162-.671zm1.486.266-.167 2.79L14.937 13l3.028-5.243-2.165-1.25zm6.577-6.39-.634 1.097-2.165-1.25.634-1.098a1.25 1.25 0 1 1 2.165 1.25M12.5 4.75H5.75v15.5h11.5V15.5a.75.75 0 0 1 1.5 0v5c0 .69-.56 1.25-1.25 1.25h-12c-.69 0-1.25-.56-1.25-1.25v-16c0-.69.56-1.25 1.25-1.25h7a.75.75 0 0 1 0 1.5",clipRule:"evenodd"}))});var pe=function(s,a){var l={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&a.indexOf(t)<0&&(l[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(s);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(s,t[r])&&(l[t[r]]=s[t[r]]);return l};const me=o.forwardRef((s,a)=>{var{title:l,titleId:t}=s,r=pe(s,["title","titleId"]);let i=E();return i=l?t||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),l?o.createElement("title",{id:i},l):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.75 4.02a.766.766 0 0 0-.927-.75l-.366.08a30.8 30.8 0 0 1-12.914 0l-.367-.08a.766.766 0 0 0-.926.75V13a7.75 7.75 0 0 0 15.5 0zm-14 .903c4.127.814 8.373.814 12.5 0V13a6.25 6.25 0 1 1-12.5 0zm4 4.577a2.25 2.25 0 1 1 4.5 0v.75h.25c.69 0 1.25.56 1.25 1.25V15a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v-3.5c0-.69.56-1.25 1.25-1.25h.25zm3 0v.75h-1.5V9.5a.75.75 0 0 1 1.5 0m-3 2.25v2.5h4.5v-2.5z",clipRule:"evenodd"}))});function K(){const{stillingsData:s,refetch:a,erEier:l}=O(),{visVarsel:t}=F(),[r,i]=o.useState(!1),x=Z(s,l),[I,f]=o.useState(!1),g=async(d,u)=>{i(!0);try{await B(d,u),t({type:"success",tekst:"Du har nå fullført oppdraget."}),x.mutate(),a&&a()}catch(j){t({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new _({message:"Klarte ikke å fullføre oppdrag",error:j})}i(!1)};return e.jsx(V,{hooks:[x],children:d=>{const j=(d?.kandidater?.filter(k=>!k.arkivert)??[]).filter(k=>k.utfall===C.FATT_JOBBEN).length+(d?.formidlingerAvUsynligKandidat?.filter(k=>k.utfall===C.FATT_JOBBEN)?.length||0),N=d?.antallStillinger,y=j,h=y===0;return d.status===w.Lukket?e.jsx(m,{size:"small",loading:r,onClick:()=>B(d.kandidatlisteId,w.Åpen),children:"Gjenåpne oppdraget"}):e.jsxs(e.Fragment,{children:[e.jsx(m,{size:"small",loading:r,onClick:()=>f(!0),children:"Fullfør oppdraget"}),e.jsxs(p,{width:600,open:I,onClose:()=>f(!1),header:{heading:"Fullfør oppdraget"},children:[e.jsxs(p.Body,{children:[e.jsx(z,{className:"mb-3",children:h?"Ingen stillinger er besatt":`${y} av ${N} 
                            ${N===1?"stilling":"stillinger"} er
                            besatt.`}),e.jsxs(S.New,{borderRadius:"large",background:"neutral-soft",className:"p-5",children:[e.jsx(z,{className:" font-bold",children:"Dette skjer når du fullfører"}),!h&&e.jsx(J,{})]})]}),e.jsxs(p.Footer,{children:[e.jsx(m,{type:"button",disabled:r||d.status===w.Lukket&&s.stilling.status===H.Stoppet,onClick:()=>d.kandidatlisteId&&g(d.kandidatlisteId,w.Lukket),children:"Fullfør"}),e.jsx(m,{type:"button",variant:"secondary",onClick:()=>f(!1),children:"Avbryt"})]})]})]})}})}K.__docgenInfo={description:"",methods:[],displayName:"HarKandidatlisteVisning"};const ge="/api/stilling/opprett-stillingsinfo",ue=async s=>(await P(ge,s)).json();function R(){const{stillingsData:s,refetch:a}=O(),{brukerData:l,valgtNavKontor:t}=F(),[r,i]=o.useState(!1),[x,I]=o.useState(!1),[f,g]=o.useState(!1),d=s.stilling.employer?.name||"Ukjent bedrift",u=s.stilling.employer?.orgnr,j=s.stilling.title,N=s.stilling.uuid,y=async()=>{i(!0);try{await ue({eierNavKontorEnhetId:t?.navKontor??"Ukjent Nav kontor",stillingsid:N,eierNavident:l.ident,eierNavn:l.navn})}catch(h){new _({message:"Feil under opprettelse av stillingsinfo",error:h})}finally{a?.(),i(!1),g(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"primary",size:"small",className:"my-2 h-5 w-full",onClick:()=>g(!0),children:"Bruk til rekrutteringsoppdrag"}),e.jsxs(p,{open:f,onClose:()=>g(!1),header:{heading:"Bruk annonsen til rekrutteringsoppdrag",closeButton:!0},width:"medium",children:[u?e.jsx(p.Body,{children:e.jsxs(v,{gap:"6",children:[e.jsx(n,{children:"Samarbeider du med en arbeidsgiver om å rekruttere, kan du bruke annonsen fra arbeidsplassen.no til det så slipper du å lage en ny annonsе."}),e.jsx(S.New,{background:"neutral-softA",className:" p-4 rounded-lg",children:e.jsxs(v,{gap:"2",children:[e.jsx(c,{size:"medium",level:"3",children:j}),e.jsx(c,{size:"small",level:"3",children:d}),e.jsxs(n,{size:"small",children:["Org.nr. ",u]})]})}),e.jsxs(v,{gap:"4",children:[e.jsx(c,{size:"small",level:"3",children:"Har du avtalt med arbeidsgiveren å bruke annonsen til rekruttering?"}),e.jsx(ee,{checked:x,onChange:h=>I(h.target.checked),children:"Ja, vi har avtalt å bruke annonsen."})]}),e.jsxs(v,{gap:"4",children:[e.jsx(c,{size:"small",level:"3",children:"Hva som skjer"}),e.jsxs(v,{gap:"3",children:[e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(me,{className:"mt-1 flex-shrink-0"}),e.jsx(n,{className:"flex-1",children:"Du settes som eier av annonsen."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(D,{className:"mt-1 flex-shrink-0"}),e.jsx(n,{className:"flex-1",children:"Nav-ansatte kan foreslå jobbsøkere til stillingen."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(se,{className:"mt-1  flex-shrink-0"}),e.jsx(n,{className:"flex-1",children:"Du kan be jobbsøkere om samtykke til å dele CVen deres med arbeidsgiveren."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(te,{className:"mt-1 flex-shrink-0"}),e.jsx(n,{className:"flex-1",children:"Arbeidsgiveren får en oversikt over oppdraget og foreslåtte jobbsøkere på arbeidsgivers min-side (nav.no)."})]})]})]})]})}):e.jsx(p.Body,{children:e.jsxs(L,{variant:"error",children:[e.jsx(c,{spacing:!0,size:"small",level:"3",children:"Annonsen kan dessverre ikke brukes til oppdrag"}),e.jsx(n,{className:"mb-4",children:"For å kunne bruke annonsen til rekrutteringsoppdrag trenger den :"}),e.jsx("ul",{className:"list-disc list-inside mb-4",children:e.jsx("li",{children:"et gyldig organisasjonsnummer."})}),e.jsx(n,{children:"Har du et oppdrag med arbeidsgiveren kan du opprette en stillingsoppdrag selv her i Rekrutteringsbistand."})]})}),u?e.jsx(p.Footer,{children:e.jsxs(b,{gap:"4",children:[e.jsx(m,{variant:"secondary",onClick:()=>g(!1),children:"Avbryt"}),e.jsx(m,{loading:r,variant:"primary",onClick:y,disabled:!x,children:"Fullfør"})]})}):e.jsx(p.Footer,{children:e.jsx(m,{variant:"secondary",onClick:()=>g(!1),children:"Lukk"})})]})]})}R.__docgenInfo={description:"",methods:[],displayName:"OpprettStillingsoppdrag"};function T(){const{stillingsData:s}=O(),a=s.stilling.employer?.orgnr,l=s.stillingsinfo!==null,t=e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsxs(S.New,{background:"neutral-soft",borderRadius:"large",padding:"3",children:[e.jsx(c,{size:"xsmall",level:"3",className:"mb-4",children:"Bruk til rekrutteringsoppdrag"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Du kan bruke annonsen til rekrutteringsoppdrag hvis du har avtalt det med arbeidsgiveren."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ce,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Ved å bruke til oppdrag vil den fungere som interne annonser."})]})]})]})]}),r=e.jsxs(S.New,{background:"brand-beige-moderate",borderRadius:"large",padding:"3",children:[e.jsx(c,{size:"xsmall",level:"3",className:"mb-4",children:"Annonsen mangler et gyldig organisasjonsnummer."}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Det gjør at den kan ikke brukes til rekrutteringsoppdrag."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Har du et oppdrag med arbeidsgiveren kan du opprette et stillingsoppdrag selv her i Rekrutteringsbistand."})]})]})]});return e.jsxs(re,{skjulVarsel:!0,kreverEnAvRollene:[M.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:[e.jsx(c,{size:"small",level:"2",children:"Hentet fra arbeidsplassen.no"}),e.jsxs(n,{size:"small",textColor:"subtle",children:["den ",le({dato:s.stilling.published})]}),e.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[l?e.jsx(K,{}):a?t:r,e.jsxs(S.New,{background:"neutral-soft",borderRadius:"large",padding:"3",children:[e.jsx(c,{size:"xsmall",level:"3",className:"mb-4",children:"Bruk til deling"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Du kan dele stillingen med folk i aktivitetsplanen via systemet, eller ved å kopiere delingslenken."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(oe,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Personen søker selv, eller med litt hjelp."})]})]})]})]})]})}T.__docgenInfo={description:"",methods:[],displayName:"FremdriftspanelArbeidsplassen"};const he={stilling:{uuid:"demo-stilling-id",updated:new Date().toISOString(),administration:{reportee:"Ola Veileder"},status:"ACTIVE"},stillingsinfo:{stillingskategori:"STILLING"}},xe=({children:s})=>e.jsx(G,{stillingsData:he,children:s}),us={tags:["autodocs"],render:()=>e.jsx(xe,{children:e.jsxs("div",{className:"space-y-12 opacity-60 pointer-events-none",children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"AktivStilling / FullførtStilling"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(U,{antallFåttJobben:1,antallDelt:2,totalStillinger:5}),e.jsx($,{antallFåttJobben:1,totalStillinger:5})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Knapper"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(W,{}),e.jsx(q,{}),e.jsx(Q,{}),e.jsx(X,{}),e.jsx(Y,{})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Arbeidsplassen"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{}),e.jsx(R,{}),e.jsx(K,{})]})]})]})})},A={};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:"{}",...A.parameters?.docs?.source}}};export{A as Oversikt,us as default};
