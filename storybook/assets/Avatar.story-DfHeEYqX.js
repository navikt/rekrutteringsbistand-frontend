import{r as d,j as r,h5 as w,h7 as p,hq as F,hc as f,gO as A}from"./iframe-DUxtTNxK.js";import{s as R}from"./index-0HEPybu3.js";import"./preload-helper-BWMAHTUm.js";function C(){return R.useSyncExternalStore(B,()=>!0,()=>!1)}function B(){return()=>{}}var h="Avatar",[M]=w(h),[P,b]=M(h),j=d.forwardRef((a,e)=>{const{__scopeAvatar:n,...s}=a,[o,t]=d.useState("idle");return r.jsx(P,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:t,children:r.jsx(p.span,{...s,ref:e})})});j.displayName=h;var k="AvatarImage",E=d.forwardRef((a,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:o=()=>{},...t}=a,l=b(k,n),c=$(s,t),i=F(u=>{o(u),l.onImageLoadingStatusChange(u)});return f(()=>{c!=="idle"&&i(c)},[c,i]),c==="loaded"?r.jsx(p.img,{...t,ref:e,src:s}):null});E.displayName=k;var _="AvatarFallback",y=d.forwardRef((a,e)=>{const{__scopeAvatar:n,delayMs:s,...o}=a,t=b(_,n),[l,c]=d.useState(s===void 0);return d.useEffect(()=>{if(s!==void 0){const i=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(i)}},[s]),l&&t.imageLoadingStatus!=="loaded"?r.jsx(p.span,{...o,ref:e}):null});y.displayName=_;function I(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $(a,{referrerPolicy:e,crossOrigin:n}){const s=C(),o=d.useRef(null),t=s?(o.current||(o.current=new window.Image),o.current):null,[l,c]=d.useState(()=>I(t,a));return f(()=>{c(I(t,a))},[t,a]),f(()=>{const i=N=>()=>{c(N)};if(!t)return;const u=i("loaded"),L=i("error");return t.addEventListener("load",u),t.addEventListener("error",L),e&&(t.referrerPolicy=e),typeof n=="string"&&(t.crossOrigin=n),()=>{t.removeEventListener("load",u),t.removeEventListener("error",L)}},[t,n,e]),l}var z=j,T=E,q=y;function g({className:a,...e}){return r.jsx(z,{"data-slot":"avatar",className:A("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...e})}function x({className:a,...e}){return r.jsx(T,{"data-slot":"avatar-image",className:A("aspect-square size-full",a),...e})}function S({className:a,...e}){return r.jsx(q,{"data-slot":"avatar-fallback",className:A("bg-muted flex size-full items-center justify-center rounded-full",a),...e})}g.__docgenInfo={description:"",methods:[],displayName:"Avatar"};x.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};S.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};const U={component:g,tags:["autodocs"],args:{}},m={render:()=>r.jsxs(g,{children:[r.jsx(x,{src:"https://i.pravatar.cc/100?img=12",alt:"Bruker"}),r.jsx(S,{children:"AB"})]})},v={render:()=>r.jsxs(g,{children:[r.jsx(x,{src:"/no-such-image.png",alt:"Ugyldig"}),r.jsx(S,{children:"JD"})]})};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src='https://i.pravatar.cc/100?img=12' alt='Bruker' />
      <AvatarFallback>AB</AvatarFallback>
    </Avatar>
}`,...m.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src='/no-such-image.png' alt='Ugyldig' />
      <AvatarFallback>JD</AvatarFallback>
    </Avatar>
}`,...v.parameters?.docs?.source}}};export{v as Fallback,m as MedBilde,U as default};
