import{r as R,h as U,bX as w,j as e,S as q,u as z,R as x,e as j}from"./iframe-BF8BNn-P.js";import{u as T,a as i}from"./KandidaSokFilterContext-DmDJ1EyG.js";import{u as H}from"./KandidatSøkMarkerteContext-CFP1A_8g.js";import{K as J}from"./KandidatKort-BNFf2Oa0.js";import{L as Y}from"./LagreIKandidatlisteButton-LS3FjiZB.js";import{L as W}from"./LagreIRekrutteringstreffButton-NDXIfqQT.js";import{R as X}from"./RekrutteringstreffFeatureToggle-DS7MxmMD.js";import{S as _}from"./SideScroll-CS86dROC.js";import{S as Q}from"./SkeletonKort-DN2vgrY-.js";import{C as E,a as Z}from"./Checkbox-C3d1a4L6.js";import{P as $}from"./Pagination-BVZmPYpR.js";import{V as ee}from"./ValgteKontorer-DLX5IkPm.js";import{b as A,A as S,c as y,K as I,F as V,S as b,a as B,U as P,P as L,I as M}from"./Utdanningsnivå-CBWZQyum.js";import{A as re}from"./AlleFilterKomponent-DupotfAG.js";import{V as te}from"./ValgteFiltre-DUOAVBJ_.js";import{T as g}from"./TilgangskontrollForInnhold-D-sp7QKw.js";const se=R.createContext(void 0),ie=()=>{const r=R.useContext(se);if(!r)throw new U({message:"useKandidatNavigering must be used within a KandidatNavigeringProvider"});return r},O=({type:r,stillingsId:n,rekrutteringstreffId:l,alleredeLagtTilTreff:t,alleredeLagtTilKandidatliste:s})=>{const o=T(),p=w(r,o),{setKandidatNavigering:f}=ie(),d=R.useRef(null);R.useEffect(()=>{f(p.data?.navigering.kandidatnumre??[])},[p.data?.navigering,f]);const{markerteKandidater:c,setMarkertListe:h,fjernMarkerteKandidater:K}=H();return e.jsx(q,{hooks:[p],skeleton:e.jsx("div",{className:"mt-14",children:e.jsx(Q,{})}),children:a=>{const k=Math.ceil(a.antallTotalt/25),C=k>390?390:k,F=()=>{if(c&&c.length==a.kandidater.length)K();else if(a.kandidater){const u=a.kandidater.map(m=>m.arenaKandidatnr).filter(m=>m!=null&&m!=="");h(u)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:d,className:"flex items-center justify-between",children:[e.jsx("div",{className:"ml-5",children:e.jsx(E,{checked:c&&c.length>0&&c.length===a.kandidater.length,onClick:F,children:"Marker alle på siden"})}),e.jsxs("div",{className:"flex flex-row gap-2",children:[!l&&e.jsx(Y,{stillingsId:n}),e.jsx(X,{children:!n&&e.jsx(W,{rekrutteringstreffId:l,kandidatsokKandidater:a.kandidater})})]})]}),e.jsxs(_,{children:[e.jsx("div",{className:"flex flex-col gap-1 pt-2",children:a.kandidater?.map((u,m)=>e.jsx(J,{stillingsId:n,alleredeLagtTil:s??t,kandidat:u},u.arenaKandidatnr||m))}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:["Viser ",a.antallTotalt," treff"]}),k>1&&e.jsx($,{className:"my-4 flex justify-center",size:"medium",page:o.side,onPageChange:o.setSide,count:C})]})]})]})}})};O.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkResultat",props:{type:{required:!0,tsType:{name:"KandidatSøkPortefølje"},description:""},stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};var v=(function(r){return r.SkaffeArbeid="SKAFFE_ARBEID",r.BeholdeArbeid="BEHOLDE_ARBEID",r.ØkeDeltagelse="OKE_DELTAKELSE",r})({});function N(){const{hovedmål:r,setHovedmål:n}=T(),l=t=>{n(t)};return e.jsxs(Z,{size:"small",legend:"Velg kandidatens mål",value:r,onChange:l,children:[e.jsx(E,{value:"SKAFFE_ARBEID",children:"Skaffe arbeid"}),e.jsx(E,{value:"BEHOLDE_ARBEID",children:"Beholde arbeid"}),e.jsx(E,{value:"OKE_DELTAKELSE",children:"Øke deltagelse eller mål om arbeid"})]})}N.__docgenInfo={description:"",methods:[],displayName:"Hovedmål"};function G(){return e.jsx("div",{className:"flex gap-4 ",children:e.jsx("div",{className:"block @[720px]:hidden",children:e.jsx("div",{className:"whitespace-nowrap",children:e.jsxs(re,{children:[e.jsx(A,{}),e.jsx(S,{}),e.jsx(y,{}),e.jsx(I,{}),e.jsx(V,{}),e.jsx(b,{}),e.jsx(B,{})," ",e.jsx(N,{})," ",e.jsx(P,{}),e.jsx(L,{}),e.jsx(M,{})]})})})})}G.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkFilter"};function D(){const r=T(),n=Object.values(r).some(t=>Array.isArray(t)&&t.length>0),l=[{type:r.ønsketYrke,setVerdi:r.setØnsketYrke},{type:r.ønsketSted,setVerdi:r.setØnsketSted},{type:r.innsatsgruppe,setVerdi:r.setInnsatsgruppe},{type:r.hovedmål,setVerdi:r.setHovedmål,mapVerdiNavn:t=>Object.keys(v).find(s=>v[s]===t)||t},{type:r.kompetanse,setVerdi:r.setKompetanse},{type:r.førerkort,setVerdi:r.setFørerkort},{type:r.språk,setVerdi:r.setSpråk},{type:r.arbeidserfaring,setVerdi:r.setArbeidserfaring},{type:r.utdanningsnivå,setVerdi:r.setUtdanningsnivå},{type:r.prioritertMålgruppe,setVerdi:r.setPrioritertMålgruppe}];return r.fritekst&&l.unshift({type:[r.fritekst],setVerdi:()=>r.setFritekst("")}),e.jsx("div",{className:"my-2 w-full",children:e.jsx(te,{filtre:l,tømFiltreProps:n?{fjernFritekst:()=>r.setFritekst("")}:void 0})})}D.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkChips"};const ae=({stillingsId:r,rekrutteringstreffId:n,alleredeLagtTilTreff:l,alleredeLagtTilKandidatliste:t})=>{const{portefølje:s,setPortefølje:o}=T(),{valgtNavKontor:p,brukerData:f}=z(),d="tab-ellipsis",c=()=>e.jsx(j,{variant:s===i.MINE_BRUKERE?"primary":"tertiary",onClick:()=>o(i.MINE_BRUKERE),size:"xsmall",className:d,title:"Mine brukere","aria-label":"Mine brukere",children:"Mine"}),h=()=>p?e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,x.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:e.jsx(j,{variant:s===i.MITT_KONTOR?"primary":"tertiary",onClick:()=>o(i.MITT_KONTOR),size:"xsmall",className:d,title:"Mitt kontor","aria-label":"Mitt kontor",children:"Mitt kontor"})}):null,K=()=>f?.enheter&&f.enheter.length>1?e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,x.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:e.jsx(j,{variant:s===i.MINE_KONTORER?"primary":"tertiary",onClick:()=>o(i.MINE_KONTORER),size:"xsmall",className:d,title:"Mine kontorer","aria-label":"Mine kontorer",children:"Mine kontorer"})}):null,a=()=>e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(j,{variant:s===i.ALLE?"primary":"tertiary",onClick:()=>o(i.ALLE),size:"xsmall",className:d,title:"Alle kontorer","aria-label":"Alle kontorer",children:"Alle"})}),k=()=>e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(j,{variant:s===i.VALGTE_KONTORER?"primary":"tertiary",onClick:()=>o(i.VALGTE_KONTORER),size:"xsmall",className:d,title:"Valgte kontorer","aria-label":"Valgte kontorer",children:"Velg kontor"})});return e.jsxs("div",{className:"@container contain-layout",children:[e.jsxs("div",{className:"flex justify-between flex-col @3xl:flex-row @3xl:gap-0 gap-3 ",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(a,{}),e.jsx(c,{}),e.jsx(h,{}),e.jsx(K,{}),e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(k,{})})]}),e.jsx(G,{})]}),s===i.VALGTE_KONTORER&&e.jsx(ee,{}),e.jsxs("div",{className:"@container/kandidatsøk contain-layout flex",children:[e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsx(D,{}),e.jsx(O,{alleredeLagtTilTreff:l,alleredeLagtTilKandidatliste:t,type:s,stillingsId:r,rekrutteringstreffId:n})]}),e.jsxs("div",{className:"hidden @[720px]:block ml-4 pt-4  max-w-[200px]",children:[e.jsx(A,{}),e.jsx(_,{className:"mt-4",children:e.jsxs("div",{className:"flex flex-col gap-4 ",children:[e.jsx(S,{}),e.jsx(y,{}),e.jsx(I,{}),e.jsx(V,{}),e.jsx(b,{}),e.jsx(B,{}),e.jsx(N,{}),e.jsx(P,{}),e.jsx(L,{}),e.jsx(M,{})]})})]})]})]})};ae.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkTabs",props:{stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};export{ae as K};
