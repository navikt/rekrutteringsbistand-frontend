import{r as o,f as E,u as _,j as e,b as m,w as z,R as F,W as V,A as H,H as c,B as n,e as P}from"./iframe--aQMagBM.js";import{s as B,P as L,A as M,F as G,S as J,R as U,a as $,G as W,E as q}from"./FullførtStilling-CDglxhT-.js";import{a as O,S as Q}from"./StillingsContext-DZ7500xJ.js";import{K as w}from"./schema.zod-Dbb9fblv.js";import{u as X}from"./useKandidatlisteForEier-l_MuYz3a.js";import{K as C}from"./KandidatTyper-CkRsvxsW.js";import{a as Y}from"./stilling-typer-DLlwa7NU.js";import{S as Z}from"./SWRLaster-CS2y56Xc.js";import{M as p}from"./Modal-B9efuJdm.js";import{B as S}from"./Box-8eYY1qxJ.js";import{V as v,H as b}from"./VStack-CcHbObW-.js";import{C as ee}from"./Checkbox-hcdV6L9-.js";import{S as D}from"./PlusCircle-B62EBMTJ.js";import{S as se}from"./PersonChat-CTUIEIhF.js";import{S as te}from"./FileText-Bu852Em1.js";import{T as re}from"./TilgangskontrollForInnhold-BHQ4jxba.js";import{f as le}from"./util-DSiroPk9.js";import{S as ie}from"./Handshake-Z_W5vliq.js";import{S as ae}from"./CircleSlash-4b6GJ6-s.js";import{S as ne}from"./ArrowForward-BXAeWVaL.js";import{S as oe}from"./Briefcase-Dskmu1ZC.js";import"./preload-helper-BWMAHTUm.js";import"./oppdaterStilling-CSF3DO5G.js";import"./stillingMock-BtxAEQoL.js";import"./chunk-RHFAIXC4-CteuV83n.js";import"./EyeSlash-K-SdAaWp.js";import"./Pencil-Bpk4zDdr.js";import"./ClockDashed-BTWbNdVk.js";import"./Table-CZNZ724A.js";import"./Tasklist-lZ_4zPT0.js";import"./accordion-mrWsRhGU.js";import"./index-Ca-wU654.js";import"./index-GhNE2OVD.js";import"./index-1Buvb9FQ.js";import"./ChevronDown-BMr9GbQT.js";import"./Bell-DmBojypq.js";import"./Eye-6XOmBHhJ.js";import"./ProgressBar-B-aN7JN0.js";import"./index-DGK8N2bN.js";import"./index-KIHPoeBY.js";import"./stilling.dto-Bhwqemp5.js";import"./stillingInfoUtil-C2V4vZ-Z.js";import"./startOfDay-lTP3GKUn.js";import"./kandidat.mock-F3wnuv6n.js";import"./innsatsgrupper-BqldBv0r.js";import"./index-CuRbE5C3.js";import"./Feilmelding-DYjOJh_0.js";import"./CopyButton-DSQ0Lkk7.js";import"./Checkmark-2R3Z9HaV.js";import"./Sidelaster-D7OjQVf3.js";import"./floating-ui.react-BUPDCv_K.js";import"./Date.Input-DqDzn--5.js";import"./useFormField-BSpkEy74.js";import"./useControllableState-DPhX6gr7.js";import"./match-D3KjDt9e.js";import"./Calendar-B-VLWjRU.js";import"./Modal.context-CkHckn2m.js";import"./BasePrimitive-CgaIh8hS.js";import"./Fieldset-B5cbjLXV.js";import"./ErrorBoundary-DREekzmR.js";import"./Link-BOoQ8up8.js";import"./format-MMJ3lUv3.js";import"./parseISO-DJIM71K9.js";import"./parse-BHaxN4X0.js";import"./getDefaultOptions-DQ6qo6CG.js";var de=function(s,i){var l={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&i.indexOf(t)<0&&(l[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(s);r<t.length;r++)i.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(s,t[r])&&(l[t[r]]=s[t[r]]);return l};const ce=o.forwardRef((s,i)=>{var{title:l,titleId:t}=s,r=de(s,["title","titleId"]);let a=E();return a=l?t||"title-"+a:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:i,"aria-labelledby":a},r),l?o.createElement("title",{id:a},l):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.286 11.483a.75.75 0 0 1 .099-.33l4.5-7.795a2.75 2.75 0 0 1 4.763 2.75l-4.5 7.795a.75.75 0 0 1-.236.25l-3.732 2.465a.75.75 0 0 1-1.162-.671zm1.486.266-.167 2.79L14.937 13l3.028-5.243-2.165-1.25zm6.577-6.39-.634 1.097-2.165-1.25.634-1.098a1.25 1.25 0 1 1 2.165 1.25M12.5 4.75H5.75v15.5h11.5V15.5a.75.75 0 0 1 1.5 0v5c0 .69-.56 1.25-1.25 1.25h-12c-.69 0-1.25-.56-1.25-1.25v-16c0-.69.56-1.25 1.25-1.25h7a.75.75 0 0 1 0 1.5",clipRule:"evenodd"}))});var pe=function(s,i){var l={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&i.indexOf(t)<0&&(l[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(s);r<t.length;r++)i.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(s,t[r])&&(l[t[r]]=s[t[r]]);return l};const me=o.forwardRef((s,i)=>{var{title:l,titleId:t}=s,r=pe(s,["title","titleId"]);let a=E();return a=l?t||"title-"+a:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:i,"aria-labelledby":a},r),l?o.createElement("title",{id:a},l):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.75 4.02a.766.766 0 0 0-.927-.75l-.366.08a30.8 30.8 0 0 1-12.914 0l-.367-.08a.766.766 0 0 0-.926.75V13a7.75 7.75 0 0 0 15.5 0zm-14 .903c4.127.814 8.373.814 12.5 0V13a6.25 6.25 0 1 1-12.5 0zm4 4.577a2.25 2.25 0 1 1 4.5 0v.75h.25c.69 0 1.25.56 1.25 1.25V15a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v-3.5c0-.69.56-1.25 1.25-1.25h.25zm3 0v.75h-1.5V9.5a.75.75 0 0 1 1.5 0m-3 2.25v2.5h4.5v-2.5z",clipRule:"evenodd"}))});function K(){const{stillingsData:s,refetch:i,erEier:l}=O(),{visVarsel:t}=_(),[r,a]=o.useState(!1),h=X(s,l),[I,x]=o.useState(!1),g=async(d,u)=>{a(!0);try{await B(d,u),t({type:"success",tekst:"Du har nå fullført oppdraget."}),h.mutate(),i&&i()}catch(j){t({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new F({message:"Klarte ikke å fullføre oppdrag",error:j})}a(!1)};return e.jsx(Z,{hooks:[h],children:d=>{const j=(d?.kandidater?.filter(k=>!k.arkivert)??[]).filter(k=>k.utfall===C.FATT_JOBBEN).length+(d?.formidlingerAvUsynligKandidat?.filter(k=>k.utfall===C.FATT_JOBBEN)?.length||0),N=d?.antallStillinger,y=j,f=y===0;return d.status===w.Lukket?e.jsx(m,{size:"small",loading:r,onClick:()=>B(d.kandidatlisteId,w.Åpen),children:"Gjenåpne oppdraget"}):e.jsxs(e.Fragment,{children:[e.jsx(m,{size:"small",loading:r,onClick:()=>x(!0),children:"Fullfør oppdraget"}),e.jsxs(p,{width:600,open:I,onClose:()=>x(!1),header:{heading:"Fullfør oppdraget"},children:[e.jsxs(p.Body,{children:[e.jsx(z,{className:"mb-3",children:f?"Ingen stillinger er besatt":`${y} av ${N} 
                            ${N===1?"stilling":"stillinger"} er
                            besatt.`}),e.jsxs(S.New,{borderRadius:"large",background:"neutral-soft",className:"p-5",children:[e.jsx(z,{className:" font-bold",children:"Dette skjer når du fullfører"}),!f&&e.jsx(L,{})]})]}),e.jsxs(p.Footer,{children:[e.jsx(m,{type:"button",disabled:r||d.status===w.Lukket&&s.stilling.status===Y.Stoppet,onClick:()=>d.kandidatlisteId&&g(d.kandidatlisteId,w.Lukket),children:"Fullfør"}),e.jsx(m,{type:"button",variant:"secondary",onClick:()=>x(!1),children:"Avbryt"})]})]})]})}})}K.__docgenInfo={description:"",methods:[],displayName:"HarKandidatlisteVisning"};const ge="/api/stilling/opprett-stillingsinfo",ue=async s=>(await V(ge,s)).json();function R(){const{stillingsData:s,refetch:i}=O(),{brukerData:l,valgtNavKontor:t}=_(),[r,a]=o.useState(!1),[h,I]=o.useState(!1),[x,g]=o.useState(!1),d=s.stilling.employer?.name||"Ukjent bedrift",u=s.stilling.employer?.orgnr,j=s.stilling.title,N=s.stilling.uuid,y=async()=>{a(!0);try{await ue({eierNavKontorEnhetId:t?.navKontor??"Ukjent Nav kontor",stillingsid:N,eierNavident:l.ident,eierNavn:l.navn})}catch(f){new F({message:"Feil under opprettelse av stillingsinfo",error:f})}finally{i?.(),a(!1),g(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"primary",size:"small",className:"my-2 h-5 w-full",onClick:()=>g(!0),children:"Bruk til rekrutteringsoppdrag"}),e.jsxs(p,{open:x,onClose:()=>g(!1),header:{heading:"Bruk annonsen til rekrutteringsoppdrag",closeButton:!0},width:"medium",children:[u?e.jsx(p.Body,{children:e.jsxs(v,{gap:"6",children:[e.jsx(n,{children:"Samarbeider du med en arbeidsgiver om å rekruttere, kan du bruke annonsen fra arbeidsplassen.no til det så slipper du å lage en ny annonsе."}),e.jsx(S.New,{background:"neutral-softA",className:" p-4 rounded-lg",children:e.jsxs(v,{gap:"2",children:[e.jsx(c,{size:"medium",level:"3",children:j}),e.jsx(c,{size:"small",level:"3",children:d}),e.jsxs(n,{size:"small",children:["Org.nr. ",u]})]})}),e.jsxs(v,{gap:"4",children:[e.jsx(c,{size:"small",level:"3",children:"Har du avtalt med arbeidsgiveren å bruke annonsen til rekruttering?"}),e.jsx(ee,{checked:h,onChange:f=>I(f.target.checked),children:"Ja, vi har avtalt å bruke annonsen."})]}),e.jsxs(v,{gap:"4",children:[e.jsx(c,{size:"small",level:"3",children:"Hva som skjer"}),e.jsxs(v,{gap:"3",children:[e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(me,{className:"mt-1 flex-shrink-0"}),e.jsx(n,{className:"flex-1",children:"Du settes som eier av annonsen."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(D,{className:"mt-1 flex-shrink-0"}),e.jsx(n,{className:"flex-1",children:"Nav-ansatte kan foreslå jobbsøkere til stillingen."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(se,{className:"mt-1  flex-shrink-0"}),e.jsx(n,{className:"flex-1",children:"Du kan be jobbsøkere om samtykke til å dele CVen deres med arbeidsgiveren."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(te,{className:"mt-1 flex-shrink-0"}),e.jsx(n,{className:"flex-1",children:"Arbeidsgiveren får en oversikt over oppdraget og foreslåtte jobbsøkere på arbeidsgivers min-side (nav.no)."})]})]})]})]})}):e.jsx(p.Body,{children:e.jsxs(H,{variant:"error",children:[e.jsx(c,{spacing:!0,size:"small",level:"3",children:"Annonsen kan dessverre ikke brukes til oppdrag"}),e.jsx(n,{className:"mb-4",children:"For å kunne bruke annonsen til rekrutteringsoppdrag trenger den :"}),e.jsx("ul",{className:"list-disc list-inside mb-4",children:e.jsx("li",{children:"et gyldig organisasjonsnummer."})}),e.jsx(n,{children:"Har du et oppdrag med arbeidsgiveren kan du opprette en stillingsoppdrag selv her i Rekrutteringsbistand."})]})}),u?e.jsx(p.Footer,{children:e.jsxs(b,{gap:"4",children:[e.jsx(m,{variant:"secondary",onClick:()=>g(!1),children:"Avbryt"}),e.jsx(m,{loading:r,variant:"primary",onClick:y,disabled:!h,children:"Fullfør"})]})}):e.jsx(p.Footer,{children:e.jsx(m,{variant:"secondary",onClick:()=>g(!1),children:"Lukk"})})]})]})}R.__docgenInfo={description:"",methods:[],displayName:"OpprettStillingsoppdrag"};function T(){const{stillingsData:s}=O(),i=s.stilling.employer?.orgnr,l=s.stillingsinfo!==null,t=e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsxs(S.New,{background:"neutral-soft",borderRadius:"large",padding:"3",children:[e.jsx(c,{size:"xsmall",level:"3",className:"mb-4",children:"Bruk til rekrutteringsoppdrag"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Du kan bruke annonsen til rekrutteringsoppdrag hvis du har avtalt det med arbeidsgiveren."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ce,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Ved å bruke til oppdrag vil den fungere som interne annonser."})]})]})]})]}),r=e.jsxs(S.New,{background:"brand-beige-moderate",borderRadius:"large",padding:"3",children:[e.jsx(c,{size:"xsmall",level:"3",className:"mb-4",children:"Annonsen mangler et gyldig organisasjonsnummer."}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Det gjør at den kan ikke brukes til rekrutteringsoppdrag."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Har du et oppdrag med arbeidsgiveren kan du opprette et stillingsoppdrag selv her i Rekrutteringsbistand."})]})]})]});return e.jsxs(re,{skjulVarsel:!0,kreverEnAvRollene:[P.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:[e.jsx(c,{size:"small",level:"2",children:"Hentet fra arbeidsplassen.no"}),e.jsxs(n,{size:"small",textColor:"subtle",children:["den ",le({dato:s.stilling.published})]}),e.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[l?e.jsx(K,{}):i?t:r,e.jsxs(S.New,{background:"neutral-soft",borderRadius:"large",padding:"3",children:[e.jsx(c,{size:"xsmall",level:"3",className:"mb-4",children:"Bruk til deling"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Du kan dele stillingen med folk i aktivitetsplanen via systemet, eller ved å kopiere delingslenken."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(oe,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(n,{size:"small",children:"Personen søker selv, eller med litt hjelp."})]})]})]})]})]})}T.__docgenInfo={description:"",methods:[],displayName:"FremdriftspanelArbeidsplassen"};const fe={stilling:{uuid:"demo-stilling-id",updated:new Date().toISOString(),administration:{reportee:"Ola Veileder"},status:"ACTIVE"},stillingsinfo:{stillingskategori:"STILLING"}},he=({children:s})=>e.jsx(Q,{stillingsData:fe,children:s}),Os={tags:["autodocs"],render:()=>e.jsx(he,{children:e.jsxs("div",{className:"space-y-12 opacity-60 pointer-events-none",children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"AktivStilling / FullførtStilling"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(M,{antallFåttJobben:1,antallDelt:2,totalStillinger:5}),e.jsx(G,{antallFåttJobben:1,totalStillinger:5})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Knapper"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(J,{}),e.jsx(U,{}),e.jsx($,{}),e.jsx(W,{}),e.jsx(q,{})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Arbeidsplassen"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{}),e.jsx(R,{}),e.jsx(K,{})]})]})]})})},A={};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:"{}",...A.parameters?.docs?.source}}};export{A as Oversikt,Os as default};
