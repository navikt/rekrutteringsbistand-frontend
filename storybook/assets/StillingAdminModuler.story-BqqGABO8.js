import{b0 as x,j as e,C as S,d0 as fe,d1 as he,u as xe,r as u,cg as je,o as _,ch as ke,E as C,am as Z,b1 as ve,D as ye,H as E,cm as W,F as Y,d2 as Se,d3 as Ne,cd as U,q as be,bO as Ae}from"./iframe-DZyrTSlI.js";import{R as j}from"./RedigerBoks-BowYd6-n.js";import{S as F}from"./Select-BZvw_eNl.js";import{T as Q}from"./TextField-CSfQFNZG.js";import{C as X,a as b}from"./Checkbox-SQiPBzAX.js";import{m as Ve,P as Le}from"./PubliserModal-lV2HO4jb.js";import{S as Ce}from"./Floppydisk-CAwOMutU.js";import{L as Ie}from"./LeggTilKandidater-Cd1HLn6s.js";import{I as Oe}from"./Inkludering-Qy5g5X4y.js";import{R as ee}from"./RikTekstEditor-C69sawYI.js";import{D as I}from"./Definisjon-DsLPK2d9.js";import{f as Te}from"./util-D-Ql6dhl.js";import{L as De,V as _e,a as Ee}from"./VelgPoststed-T7HiwZDl.js";import{C as te}from"./ComboboxProvider-DWa2QLEW.js";import{S as Fe}from"./Tasklist-BZ82i7iV.js";import{F as h}from"./FormSummary-BLIcPCLb.js";import{R as se,a as T}from"./Radio-joPKQFeG.js";import{S as B}from"./PlusCircle-jq_s2mSy.js";import{D as H}from"./DatoVelger-Bgu5mtOr.js";import{f as ne}from"./format-CxDBX73B.js";import{b as we}from"./useDatepicker-BsRh3qzV.js";import"./preload-helper-PPVm8Dsz.js";import"./Box-C5SzHthS.js";import"./BasePrimitive-DsapbUAH.js";import"./useFormField-P10hdtN7.js";import"./useControllableState-D5wZx8MS.js";import"./ChevronDown-CoI8HCn0.js";import"./Fieldset-DssFue0n.js";import"./parse-DvmpoZJt.js";import"./getDefaultOptions-BnejP4zr.js";import"./parseISO-KPFOWa3j.js";import"./umamiEvents-DmzFNrn7.js";import"./Modal-DGAQvmmn.js";import"./floating-ui.react-DdUQq2B3.js";import"./Date.Input-DYwhDOSj.js";import"./match-Bhd-0bF1.js";import"./Calendar--tOITD5g.js";import"./Modal.context-DtBDKmOm.js";import"./ToggleGroup-C_nWwmTy.js";import"./useDescendant-VAvGN301.js";import"./useClientLayoutEffect-BxODUUc8.js";import"./Tag-DFzpGXaJ.js";import"./CheckmarkCircle-mYxFUZGf.js";import"./StillingInkludering-LUAPBhNZ.js";import"./TekstMedIkon-Cw8AZsxh.js";import"./Switch-Dkw23c6E.js";import"./SVGDarkmode-lELEH8_n.js";import"./image-7b7VqXbF.js";import"./use-merged-ref-B-DZ29Ug.js";import"./Plus-DF6uHH9m.js";import"./util-P4U7UwH7.js";import"./Floating-iKvmiMa5.js";import"./Chips-DfO_qtMV.js";import"./Link-DpvyDfp9.js";import"./Pencil-BjUL-Vnc.js";import"./Popover-DqMyq8r_.js";import"./DismissableLayer-BvD7YC6p.js";import"./startOfMonth-H5nWebPM.js";import"./endOfMonth-B9igiOVy.js";import"./ArrowLeft-BgvsMHNC.js";import"./ArrowRight-BHPkaYZl.js";import"./isSameDay-9ct-K8IK.js";function w({inline:t}){const{control:s}=x(),r=e.jsx("div",{className:"w-[18.75rem]",children:e.jsx(S,{name:"stilling.properties.engagementtype",control:s,render:({field:a,fieldState:{error:n}})=>e.jsxs(F,{value:a.value??"",onChange:d=>a.onChange(d),label:"Ansettelsesform",error:n?.message,children:[e.jsx("option",{value:"",children:"Velg"}),Object.entries(fe).map(([d,c])=>e.jsx("option",{value:c,children:d},d))]})})});return t?r:e.jsx(j,{tittel:"Ansettelsesform",children:r})}w.__docgenInfo={description:"",methods:[],displayName:"Ansettelsesform",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};function $({inline:t}){const{control:s}=x(),r=e.jsx("div",{className:"w-[7.5rem]",children:e.jsx(S,{control:s,name:"stilling.properties.positioncount",render:({field:{onChange:a,value:n},fieldState:{error:d}})=>e.jsx(Q,{label:"Antall stillinger",onChange:c=>{const m=c.target.value;if(m==="")a(null);else{const l=Number(m);a(isNaN(l)?null:l)}},value:n==null||isNaN(Number(n))?"":String(n),type:"number",error:d?.message})})});return t?r:e.jsx(j,{tittel:"Antall stillinger",children:r})}$.__docgenInfo={description:"",methods:[],displayName:"AntallStillinger",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};const $e=t=>{if(Array.isArray(t))return t;if(typeof t=="string"){const s=t.trim();if(!s)return[];try{const r=JSON.parse(s);if(Array.isArray(r))return r}catch{}return s.includes(",")?s.split(",").map(r=>r.trim()).filter(Boolean):[s]}return[]};function P({inline:t}){const{control:s}=x(),r=e.jsx(S,{control:s,name:"stilling.properties.workday",render:({field:{onChange:a,value:n},fieldState:{error:d}})=>e.jsxs(X,{legend:"Arbeidsdager",value:$e(n),onChange:c=>a(c),error:d?.message,children:[e.jsx(b,{value:"Ukedager",children:"Ukedager"}),e.jsx(b,{value:"Lørdag",children:"Lørdag"}),e.jsx(b,{value:"Søndag",children:"Søndag"})]})});return t?r:e.jsx(j,{tittel:"Arbeidsdager",children:r})}P.__docgenInfo={description:"",methods:[],displayName:"Arbeidsdager",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};const Pe=t=>{if(Array.isArray(t))return t;if(typeof t=="string"){const s=t.trim();if(!s)return[];try{const r=JSON.parse(s);if(Array.isArray(r))return r}catch{}return s.includes(",")?s.split(",").map(r=>r.trim()).filter(Boolean):[s]}return[]};function R({inline:t}){const{control:s}=x(),r=e.jsx(S,{control:s,name:"stilling.properties.workhours",render:({field:{onChange:a,value:n},fieldState:{error:d}})=>e.jsxs(X,{legend:"Arbeidstid",value:Pe(n),onChange:c=>a(c),error:d?.message,children:[e.jsx(b,{value:"Dagtid",children:"Dag"}),e.jsx(b,{value:"Kveld",children:"Kveld"}),e.jsx(b,{value:"Natt",children:"Natt"})]})});return t?r:e.jsx(j,{tittel:"Arbeidstid",children:r})}R.__docgenInfo={description:"",methods:[],displayName:"Arbeidstid",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};function K({inline:t}){const{control:s}=x(),r=e.jsx("div",{className:"w-[18.75rem]",children:e.jsx(S,{name:"stilling.properties.jobarrangement",control:s,render:({field:a,fieldState:{error:n}})=>e.jsxs(F,{value:a.value??"",onChange:d=>a.onChange(d),label:"Arbeidstidsordning (valgfritt)",error:n?.message,children:[e.jsx("option",{value:"",children:"Velg"}),Object.entries(he).map(([d,c])=>e.jsx("option",{value:c,children:d},d))]})})});return t?r:e.jsx(j,{tittel:"Arbeidstidsordning",children:r})}K.__docgenInfo={description:"",methods:[],displayName:"Arbeidstidsordning",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};const Re=t=>{if(t<60)return`${t}s`;const s=Math.floor(t/60),r=t%60;if(s<60)return r?`${s}m ${r}s`:`${s}m`;const a=Math.floor(s/60),n=s%60;return n?`${a}t ${n}m`:`${a}t`};function re({stillingsData:t,intervallMs:s=300*1e3}){const{brukerData:r,valgtNavKontor:a}=xe(),[n,d]=u.useState(null),[c,m]=u.useState(!1),[l,p]=u.useState(null),[f,v]=u.useState(0),k=u.useRef(null),y=u.useRef(null),A=u.useRef(null),{getValues:V,setValue:L}=x(),o=t?.stilling?.status===je.Aktiv,i=!o&&!!t?.stilling&&!!t.stilling?.uuid,g=async()=>{if(!i||c)return;const q=V();m(!0),p(null);try{const D=Ve({stilling:q.stilling,stillingsinfo:q.stillingsinfo||void 0}),M=ke(D,{eierNavident:r.ident,eierNavn:r.navn,eierNavKontorEnhetId:a?.navKontor});A.current=M;const z=await M;z.stilling.versjon&&L("stilling.versjon",z.stilling.versjon),d(new Date),v(0)}catch(D){p(D?.message||"Feil ved lagring")}finally{m(!1),A.current=null}};if(u.useEffect(()=>(y.current&&clearInterval(y.current),y.current=setInterval(()=>{v(n?Math.floor((Date.now()-n.getTime())/1e3):0)},1e3),()=>{y.current&&clearInterval(y.current)}),[n]),u.useEffect(()=>{if(i)return k.current&&clearInterval(k.current),k.current=setInterval(()=>{g()},s),()=>{k.current&&clearInterval(k.current)}},[i,s,t]),o)return null;if(!i)return e.jsx("div",{className:"text-xs text-gray-600","aria-live":"polite",children:"Autolagring: ingen eksisterende stilling ennå"});const N=c?"Lagrer…":l?`Feil: ${l}`:n?`Sist lagret for ${Re(f)} siden`:"Ikke lagret enda";return e.jsx("div",{className:"flex items-center gap-2 text-xs","aria-live":"polite",children:e.jsx(_,{icon:e.jsx(Ce,{}),size:"xsmall",variant:"tertiary",onClick:g,loading:c,disabled:c,children:N})})}re.__docgenInfo={description:"",methods:[],displayName:"AutolagreStilling",props:{stillingsData:{required:!0,tsType:{name:"z.infer",elements:[{name:"StillingAdminSchema"}],raw:"z.infer<typeof StillingAdminSchema>"},description:""},intervallMs:{required:!1,tsType:{name:"number"},description:"(valgfritt) override på intervall i ms for testing",defaultValue:{value:"5 * 60 * 1000",computed:!1}}}};function ie(){const{getValues:t,setValue:s}=x(),r=u.useCallback(a=>{const n=a.map(l=>({fornavn:l.fornavn,etternavn:l.etternavn,kilde:l.kilde,fnr:l.fødselsnummer})),d=t("formidlingKandidater")||[];d.length===n.length&&d.every((l,p)=>l.fornavn===n[p].fornavn&&l.etternavn===n[p].etternavn&&l.kilde===n[p].kilde&&l.fnr===n[p].fnr)||s("formidlingKandidater",n,{shouldDirty:!0})},[t,s]);return e.jsxs(j,{tittel:"Legg til kandidater",children:[e.jsx(C,{className:"mb-2",children:"Vi må vite hvilke kandidater du ønsker å formidle til samme arbeidsgiver"}),e.jsx("div",{className:"flex flex-col space-y-8",children:e.jsx(Ie,{tilFormidling:!0,synlighetSomModal:!0,callBack:r})})]})}ie.__docgenInfo={description:"",methods:[],displayName:"StillingAdminFormidleKandidater"};function le(){const{setValue:t,watch:s}=x();return e.jsx(j,{tittel:"Om jobben",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(C,{children:"Fortell jobbsøkeren om jobben: de unike fordelene, mulighetene, og oppgavene som de vil møte. For eksempel arbeidsoppgaver, forventninger, læring- og karrieremuligheter, kultur, lønn, og goder."}),e.jsx(ee,{id:"rediger-stilling-beskrivelse",tekst:s("stilling.properties.adtext")??"",onChange:r=>t("stilling.properties.adtext",r)})]})})}le.__docgenInfo={description:"",methods:[],displayName:"OmJobben"};function oe(){const{stillingsData:t}=Z(),{annonsenr:s,uuid:r,updated:a,administration:n}=t?.stilling??{},{reportee:d,navIdent:c}=n??{};return e.jsxs(j,{tittel:"Om stillingsoppdraget",children:[e.jsxs("dl",{className:"grid gap-6 md:grid-cols-3",children:[e.jsx(I,{tittel:"Annonsenummer",innhold:s??"-"}),e.jsx(I,{tittel:"Sist endret",innhold:a?Te({dato:a,visning:"tall"}):"-"}),e.jsx(I,{tittel:"Kontaktperson hos NAV",innhold:`${d??"-"} ${c?`(${c})`:""}`})]}),e.jsx("dl",{className:"mt-6",children:e.jsx(I,{tittel:"Referanse",innhold:r??"-"})})]})}oe.__docgenInfo={description:"",methods:[],displayName:"OmStillingsoppdraget"};const ae=({arbeidsgiver:t})=>e.jsxs(h,{className:"mt-4",children:[e.jsx(h.Header,{children:e.jsx(h.Heading,{level:"2",children:"Valgt arbeidsgiver"})}),e.jsxs(h.Answers,{children:[e.jsxs(h.Answer,{children:[e.jsx(h.Label,{children:"Navn"}),e.jsx(h.Value,{children:t?.navn})]}),e.jsxs(h.Answer,{children:[e.jsx(h.Label,{children:"Organisasjonsnummer"}),e.jsx(h.Value,{children:t?.organisasjonsnummer})]}),e.jsxs(h.Answer,{children:[e.jsx(h.Label,{children:"Adresse"}),e.jsx(h.Value,{children:t?.adresse?.adresse??"-"}),e.jsxs(h.Value,{children:[t?.adresse?.postnummer??"-",","," ",t?.adresse?.poststed??"-"]}),e.jsx(h.Value,{children:t?.adresse?.kommune??"-"})]})]})]});function de(){const{register:t,setValue:s,getValues:r,watch:a}=x(),[n,d]=u.useState(""),{isLoading:c,error:m,data:l}=ve(n),f=a("stillingsinfo.stillingskategori")===W.Formidling;u.useEffect(()=>{f&&s("stilling.properties.employerdescription","Etterregistrering")},[f,s]);const v=o=>{if(!o)return null;const i=o.location??null,g=i?{land:i.country==="NORGE"?"Norge":i.country??"Norge",landkode:"NO",kommune:i.municipal??"",kommunenummer:i.municipalCode??"",poststed:i.city??"",postnummer:i.postalCode??"",adresse:i.address??""}:null;return{organisasjonsnummer:o.orgnr??"",navn:o.name??"",organisasjonsform:o.orgform??"",antallAnsatte:o.employees??null,overordnetEnhet:o.parentOrgnr??null,adresse:g,naringskoder:null}},[k,y]=u.useState(v(r("stilling.employer"))),A=a("stilling.employer");u.useEffect(()=>{y(v(A))},[A]);const V=r("stilling.firstPublished"),L=o=>{y(o);const i=r("stilling.employer")??{};s("stilling.businessName",o.navn??null),s("stilling.employer",{...i,orgnr:o.organisasjonsnummer??"",name:o.navn??"",parentOrgnr:o.overordnetEnhet??"",orgform:o.organisasjonsform??"",employees:o.antallAnsatte??null,location:{...i.location??{},municipalCode:o.adresse?.kommunenummer??"",address:o.adresse?.adresse??"",postalCode:o.adresse?.postnummer??"",county:"",country:o.adresse?.land==="Norge"?"NORGE":o.adresse?.land??"NORGE",municipal:o.adresse?.kommune??"",city:o.adresse?.poststed??"",properties:{nace2:(o.naringskoder&&JSON.stringify(o.naringskoder.map(N=>({code:N.kode,name:N.beskrivelse}))))??null}}}),(r("stilling.locationList")??[]).length===0&&o.adresse&&s("stilling.locationList",[{address:o.adresse.adresse??"",postalCode:o.adresse.postnummer??"",city:o.adresse.poststed??"",county:"",municipal:o.adresse.kommune??"",municipalCode:o.adresse.kommunenummer??"",country:o.adresse.land??"Norge"}])};return e.jsx(j,{tittel:"Om virksomheten",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{role:"search",children:[!V&&e.jsx(te,{isLoading:c,label:"Arbeidsgivers navn eller organisasjonsnummer",options:l?.map(o=>`${o.navn} - ${o.organisasjonsnummer}`)??[],shouldAutocomplete:!0,onChange:o=>d(o),onToggleSelected:o=>{const i=o.split(" - ").at(-1),g=l?.find(N=>N.organisasjonsnummer===i);g&&L(g)}}),k&&e.jsx(ae,{arbeidsgiver:k})]}),m&&e.jsx(ye,{className:"mt-8",variant:"error",children:JSON.stringify(m)}),!f&&e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"font-bold",children:"Beskrivelse av bedriften (valgfritt)"}),e.jsx(ee,{id:"rediger-om-virksomheten",tekst:a("stilling.properties.employerdescription")??"",onChange:o=>s("stilling.properties.employerdescription",o)}),e.jsx(Q,{label:"Nettside (valgfritt)",...t("stilling.properties.employerhomepage")})]}),e.jsxs(E,{size:"small",className:"flex gap-2 items-center",children:[e.jsx(Fe,{className:"shrink-0"})," Kontaktpersoner"]}),e.jsx(De,{})]})})}ae.__docgenInfo={description:"",methods:[],displayName:"ValgtArbeidsgiverVisning",props:{arbeidsgiver:{required:!0,tsType:{name:"z.infer",elements:[{name:"ArbeidsgiverSchema"}],raw:"z.infer<typeof ArbeidsgiverSchema>"},description:""}}};de.__docgenInfo={description:"",methods:[],displayName:"OmVirksomheten"};function J({inline:t}){const{control:s,watch:r}=x(),a=r("stilling.properties.extent"),n=e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(S,{control:s,name:"stilling.properties.extent",render:({field:{onChange:d,value:c},fieldState:{error:m}})=>e.jsxs(se,{error:m?.message,legend:"Velg omfang",value:c??"",onChange:l=>d(l),children:[e.jsx(T,{value:"Heltid",children:"Heltid (100%)"}),e.jsx(T,{value:"Deltid",children:"Deltid"})]})}),a==="Deltid"&&e.jsx(S,{control:s,name:"stilling.properties.jobpercentage",render:({field:{onChange:d,value:c},fieldState:{error:m}})=>e.jsxs("div",{children:[e.jsxs(F,{className:"w-[300px]",label:"Velg omfang prosent",value:c??"",onChange:l=>d(l.target.value),children:[e.jsx("option",{value:"",children:"Velg omfang prosent"}),Array.from({length:9},(l,p)=>(p+1)*10).map(l=>e.jsxs("option",{value:`${l}%`,children:[l,"%"]},l))]}),m?.message&&e.jsx(Y,{children:m?.message})]})})]});return t?n:e.jsx(j,{tittel:"Omfang",children:n})}J.__docgenInfo={description:"",methods:[],displayName:"Omfang",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};function ce(){const{watch:t,setValue:s,getValues:r}=x(),n=t("stillingsinfo.stillingskategori")===W.Jobbmesse;return u.useEffect(()=>{n&&r("stilling.properties.positioncount")!==1&&s("stilling.properties.positioncount",1,{shouldDirty:!0,shouldTouch:!0})},[n,r,s]),e.jsx(j,{tittel:"Praktiske forhold",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[!n&&e.jsx($,{inline:!0}),e.jsx(w,{inline:!0}),e.jsx(J,{inline:!0}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(P,{inline:!0}),e.jsx(R,{inline:!0}),e.jsx(K,{inline:!0})]})]})})}ce.__docgenInfo={description:"",methods:[],displayName:"PraktiskeForhold"};function me(){const{control:t}=x();return e.jsx(j,{tittel:"Sektor",children:e.jsx(S,{control:t,name:"stilling.properties.sector",render:({field:{onChange:s,value:r},fieldState:{error:a}})=>e.jsxs(se,{legend:"Velg sektor",value:r??"",onChange:n=>s(n),error:a?.message,children:[e.jsx(T,{value:"Privat",children:"Privat"}),e.jsx(T,{value:"Offentlig",children:"Offentlig"})]})})})}me.__docgenInfo={description:"",methods:[],displayName:"Sektor"};function pe(){const{control:t,setValue:s,watch:r,formState:{errors:a}}=x(),{fields:n,append:d,remove:c}=Se({control:t,name:"stilling.locationList"}),m=n.map((i,g)=>({f:i,idx:g})).filter(({f:i})=>i.address!==null),l=n.map((i,g)=>({f:i,idx:g})).filter(({f:i})=>i.address===null),p=m.length>0,f=l.length>0,[v,k]=u.useState(f),y=a?.stilling?.locationList&&n.length===0,A=()=>d({address:"",postalCode:null,city:null,county:null,municipal:null,municipalCode:null,country:null}),V=i=>c(i),L=i=>d({...i}),o=i=>{const g=n.findIndex(N=>N.id===i);g!==-1&&c(g)};return e.jsxs(j,{tittel:"Sted",children:[e.jsx(C,{className:"mb-2",children:"Oppgi hvor jobben skal foregå. Skriv inn en adresse eller én eller flere kommuner, fylker eller land."}),y&&e.jsx(Y,{className:"mt-2",children:"Du må legge til minst én adresse eller én eller flere kommuner, fylker eller land."}),p&&e.jsx("div",{className:"flex flex-col gap-6 mt-4",children:m.map(({idx:i})=>e.jsx(_e,{index:i,lokasjonsFelt:"stilling.locationList",control:t,fjern:()=>V(i),oppdaterPoststed:g=>{s(`stilling.locationList.${i}.city`,g.korrigertNavnBy),s(`stilling.locationList.${i}.county`,g.fylke.korrigertNavn),s(`stilling.locationList.${i}.municipal`,g.kommune.korrigertNavn),s(`stilling.locationList.${i}.municipalCode`,g.kommune.kommunenummer),s(`stilling.locationList.${i}.postalCode`,g.postkode),s(`stilling.locationList.${i}.country`,"Norge")},postSted:r(`stilling.locationList.${i}.city`)||null},n[i].id))}),v&&e.jsx("div",{className:"my-4",children:e.jsx(Ee,{lokasjoner:l.map(({f:i})=>i),leggTilLokasjon:i=>L(i),fjernLokasjonId:i=>o(i)})}),e.jsxs("div",{className:"flex flex-row gap-6 mt-6",children:[e.jsx(_,{icon:e.jsx(B,{}),size:"small",variant:"tertiary",type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),A()},children:"Legg til adresse"}),e.jsx(_,{icon:e.jsx(B,{}),size:"small",variant:"tertiary",type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),k(!0)},children:"Legg til land, fylke eller kommune"})]})]})}pe.__docgenInfo={description:"",methods:[],displayName:"Sted"};const G=t=>t.match(/^[0-9]{2}\.[0-9]{2}\.[0-9]{4}$/)?t:ne(new Date(t),"dd.MM.yyyy");function ge({skjulFrist:t}){const{watch:s,control:r,setValue:a}=x(),n=s("stilling.properties.starttime"),d=s("stilling.properties.applicationdue"),c=n==="Etter avtale",m=d==="Snarest",l=!m&&typeof d=="string"&&d?G(d):void 0,p=!c&&typeof n=="string"&&n?G(n):void 0;return u.useEffect(()=>{p&&n!==p&&a("stilling.properties.starttime",p,{shouldDirty:!1}),l&&d!==l&&a("stilling.properties.applicationdue",l,{shouldDirty:!1})},[p,l,n,d,a]),e.jsxs(j,{tittel:"Viktige datoer",children:[e.jsx(C,{className:"mb-6",children:"Velg oppstartsdato og søknadsfristen."}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(E,{size:"small",children:"Oppstart"}),e.jsxs("div",{className:"flex gap-8 items-center",children:[e.jsx(H,{disablePastDates:!0,disabled:c,valgtDato:p,setDato:f=>{f&&a("stilling.properties.starttime",f)}},"oppstart"),e.jsx(S,{name:"stilling.properties.starttime",control:r,render:({field:{value:f,onChange:v}})=>e.jsx(b,{checked:f==="Etter avtale",onChange:k=>{k.target.checked?v("Etter avtale"):f==="Etter avtale"&&v(null)},children:"Etter avtale"})})]})]}),!t&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx(E,{size:"small",children:"Søknadsfrist"}),e.jsxs("div",{className:"flex gap-8 items-center",children:[e.jsx(H,{disablePastDates:!0,disabled:m,valgtDato:l,setDato:f=>{f&&a("stilling.properties.applicationdue",f)}}),e.jsx(S,{name:"stilling.properties.applicationdue",control:r,render:({field:{value:f,onChange:v}})=>e.jsx(b,{checked:f==="Snarest",onChange:k=>{k.target.checked?(v("Snarest"),a("stilling.expires",ne(we(new Date,3),"yyyy-MM-dd'T'HH:mm:ss"))):f==="Snarest"&&v(null)},children:"Snarest"})})]})]})]})]})}ge.__docgenInfo={description:"",methods:[],displayName:"ViktigeDatoer",props:{skjulFrist:{required:!1,tsType:{name:"boolean"},description:""}}};const Ke=t=>[{id:null,code:t?.konseptId.toString()??null,categoryType:"JANZZ",name:t?.label??null,description:null,parentId:null},{id:null,code:t?.esco??null,categoryType:"ESCO",name:t?.escoLabel??null,description:null,parentId:null},{id:null,code:t?.styrk08??null,categoryType:"STYRK08",name:t?.styrk08Label??null,description:null,parentId:null}];function ue(){const{setValue:t}=x(),{stillingsData:s}=Z(),[r,a]=u.useState([]),[n,d]=u.useState(""),c=Ne(n.length>1?n:void 0);return u.useEffect(()=>{if(c.data){const m=c.data.filter(l=>l.styrk08&&l.styrk08.trim()!==""&&l.styrk08!=="9999").map(l=>({label:l.label,value:l.label}))??[];a(m)}},[c.data]),e.jsx(j,{tittel:"Hva arbeidsgiver leter etter",children:e.jsx(te,{placeholder:s.stilling?.categoryList?.find(m=>m.categoryType==="JANZZ")?.name??"",value:n,label:"Velg yrkestittel (Janzz yrkesontologi)",isLoading:c.isLoading,options:r,toggleListButton:!1,shouldAutocomplete:!0,onChange:m=>d(m),isListOpen:n.length>1,onToggleSelected:m=>{const l=c.data?.find(p=>p.label===m);if(l){const p=Ke(l);t("stilling.categoryList",p)}}})})}ue.__docgenInfo={description:"",methods:[],displayName:"Yrkestittel"};function Je({children:t}){const s=be({mode:"onChange",defaultValues:U});return e.jsx(Ae,{...s,children:t})}const Yt={tags:["autodocs"],render:()=>e.jsx("div",{className:"space-y-6 opacity-60 pointer-events-none max-w-[1200px]",children:e.jsx(Je,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(ue,{}),e.jsx(le,{}),e.jsx($,{}),e.jsx(w,{}),e.jsx(me,{}),e.jsx(de,{}),e.jsx(oe,{}),e.jsx(Oe,{}),e.jsx(J,{}),e.jsx(R,{}),e.jsx(P,{}),e.jsx(K,{}),e.jsx(ge,{}),e.jsx(ce,{}),e.jsx(pe,{}),e.jsx(ie,{}),e.jsx(re,{stillingsData:U}),e.jsx(Le,{disabled:!0})]})})})},O={};O.parameters={...O.parameters,docs:{...O.parameters?.docs,source:{originalSource:"{}",...O.parameters?.docs?.source}}};export{O as Oversikt,Yt as default};
