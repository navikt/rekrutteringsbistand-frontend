import{j as e,o,u as k,r as v,E as f,cn as j,ap as h,w as y}from"./iframe-CQcQKVHJ.js";import{u as x}from"./KandidatlisteContext-CLD8Yobj.js";import{A as S}from"./ActionMenu-BdNNJqF3.js";import{S as c}from"./KandidatHendelseTag-_wYeKXt7.js";import{S as p}from"./Trash-BXz9vHTO.js";import{M as s}from"./Modal-CTeQBcRN.js";const A=({modalRef:t,lukketKandidatliste:r,actionMenu:i,slettet:n})=>e.jsx(e.Fragment,{children:i?e.jsxs(S.Item,{variant:"danger",onClick:()=>t.current?.showModal(),children:[n?e.jsx(c,{title:"Angre sletting"}):e.jsx(p,{title:"Slett"})," ",n?"Gjenopprett":"Slett"]}):e.jsx(o,{disabled:r,variant:"tertiary",size:"small",onClick:()=>t.current?.showModal(),icon:n?e.jsx(c,{title:"Angre sletting"}):e.jsx(p,{title:"Slett"}),children:n?"Gjenopprett":"Slett"})}),E=({modalRef:t,kandidat:r,kandidatlisteId:i})=>{const{valgtNavKontor:n}=k(),a=r.arkivert,{reFetchKandidatliste:u}=x(),[d,l]=v.useState(!1),m=async g=>{l(!0);try{await j(`${h.internUrl}/veileder/kandidatlister/${i}/kandidater/${r.kandidatnr}/arkivert`,{arkivert:g,navKontor:n?.navKontor}),u(),t.current?.close()}catch{throw new y({message:"Feil ved sletting av kandidat"})}finally{l(!1)}};return e.jsxs(s,{ref:t,header:{heading:"Bekreft sletting",closeButton:!1},children:[e.jsx(s.Body,{children:e.jsxs(f,{children:["Er du sikker pÃ¥ at du vil ",a?"gjenopprette":"slette"," ","kandidaten ",r.fornavn," ",r.etternavn,"?"]})}),e.jsxs(s.Footer,{children:[e.jsxs(o,{loading:d,type:"button",onClick:()=>m(!a),variant:a?"primary":"danger",children:[a?"Gjenopprett":"Slett"," kandidat"]}),e.jsx(o,{disabled:d,type:"button",variant:"tertiary",onClick:()=>t.current?.close(),children:"Avbryt"})]})]})};A.__docgenInfo={description:"",methods:[],displayName:"EndreArkivertStatusKnapp",props:{lukketKandidatliste:{required:!0,tsType:{name:"boolean"},description:""},slettet:{required:!1,tsType:{name:"boolean"},description:""},actionMenu:{required:!1,tsType:{name:"boolean"},description:""},modalRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDialogElement"}],raw:"RefObject<HTMLDialogElement>"},description:""}}};E.__docgenInfo={description:"",methods:[],displayName:"EndreArkivertStatusModal",props:{modalRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDialogElement"}],raw:"RefObject<HTMLDialogElement>"},description:""},kandidat:{required:!0,tsType:{name:"z.infer",elements:[{name:"kandidaterSchema"}],raw:"z.infer<typeof kandidaterSchema>"},description:""},kandidatlisteId:{required:!0,tsType:{name:"string"},description:""}}};export{A as E,E as a};
