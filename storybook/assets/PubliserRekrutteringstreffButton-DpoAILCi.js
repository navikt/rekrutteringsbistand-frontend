import{r as o,j as e,d as i,x as b,be as v,i as g,bf as x,B as y,bg as j}from"./iframe-V8deF7AU.js";import{M as u}from"./Modal-BdZR828k.js";import{B as R}from"./Box-BTlDcf1h.js";import{S as w}from"./Eye-Bk2ChW5a.js";const B=({rekrutteringstreffId:d,oppdaterData:c})=>{const[t,a]=o.useState(!1),r=o.useRef(null),l=()=>r.current?.showModal(),s=()=>{t||r.current?.close()},n=async()=>{if(t)return;a(!0);let f=!1;try{await v(d),c(),f=!0}catch(p){new g({message:"Handling på rekrutteringstreff feilet",error:p})}finally{a(!1),f&&r.current?.close()}};return e.jsxs(e.Fragment,{children:[e.jsx(i,{type:"button",size:"small",variant:"danger",onClick:l,children:"Avlys treffet"}),e.jsxs(u,{ref:r,onClose:()=>{t&&r.current?.showModal()},header:{heading:"Avlys treffet"},children:[e.jsx(u.Body,{children:e.jsx(b,{children:"Deltakere får ikke lenger tilgang til innholdet og du kan ikke redigere videre. Dette kan ikke angres."})}),e.jsxs(u.Footer,{children:[e.jsx(i,{type:"button",size:"small",variant:"danger",loading:t,onClick:()=>void n(),children:"Avlys treffet"}),e.jsx(i,{type:"button",size:"small",variant:"secondary",disabled:t,onClick:s,children:"Avbryt"})]})]})]})};B.__docgenInfo={description:"",methods:[],displayName:"AvlysRekrutteringstreffButton",props:{rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""},oppdaterData:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const T=({rekrutteringstreffId:d,harInvitert:c,tiltidspunktHarPassert:t,oppdaterData:a})=>{const[r,l]=o.useState(!1),s=async()=>{if(!r){l(!0);try{await x(d),a()}catch(n){new g({message:"Avslutting av rekrutteringstreff feilet",error:n})}}};return e.jsx(e.Fragment,{children:e.jsx(i,{type:"button",size:"small",variant:"primary",disabled:!c||!t||r,loading:r,onClick:()=>s(),children:"Fullfør"})})};T.__docgenInfo={description:"",methods:[],displayName:"FullførRekrutteringstreffButton",props:{rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""},harInvitert:{required:!0,tsType:{name:"boolean"},description:""},tiltidspunktHarPassert:{required:!0,tsType:{name:"boolean"},description:""},oppdaterData:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const N=({erPubliseringklar:d,rekrutteringstreffId:c,oppdaterData:t,onPublisert:a})=>{const[r,l]=o.useState(!1),s=o.useRef(null),n=o.useRef(!1),f=()=>s.current?.showModal(),p=()=>{r||s.current?.close()},k=async()=>{if(r)return;l(!0);let m=!1;try{await j(c),t(),a?.(),m=!0}catch(h){new g({message:"Publisering av rekrutteringstreff feilet",error:h})}finally{m&&(n.current=!0,s.current?.close(),setTimeout(()=>{n.current=!1},0)),l(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(i,{type:"button",size:"small",disabled:!d||r,loading:r,onClick:f,children:"Publiser treffet"}),e.jsxs(u,{ref:s,onClose:()=>{n.current||r&&s.current?.showModal()},header:{heading:"Publiser treffet"},children:[e.jsx(u.Body,{children:e.jsx("div",{className:"bg-bg-subtle rounded-md p-4",children:e.jsxs(R.New,{children:[e.jsx(y,{className:"font-bold",children:"Dette skjer når du publiserer treffet"}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx(w,{fontSize:"1.5rem","aria-hidden":!0}),e.jsx(y,{className:"flex-1",children:"Treffet blir synlig for:"})]}),e.jsxs("ul",{className:"mt-1 list-disc pl-16",children:[e.jsx("li",{children:"Nav-ansatte i rekrutteringsbistand."}),e.jsx("li",{children:"Nav brukere som blir invitert via aktivitetsplanen."})]})]})})}),e.jsxs(u.Footer,{children:[e.jsx(i,{type:"button",variant:"primary",size:"small",loading:r,onClick:()=>void k(),children:"Publiser"}),e.jsx(i,{type:"button",variant:"secondary",size:"small",disabled:r,onClick:p,children:"Avbryt"})]})]})]})};N.__docgenInfo={description:"",methods:[],displayName:"PubliserRekrutteringstreffButton",props:{erPubliseringklar:{required:!0,tsType:{name:"boolean"},description:""},rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""},oppdaterData:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPublisert:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{B as A,T as F,N as P};
