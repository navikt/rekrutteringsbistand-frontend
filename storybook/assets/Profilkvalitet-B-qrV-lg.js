import{r as a,j as e,B as o,d as j}from"./iframe-H0yXMhS1.js";import{u as x}from"./KandidatContext-wdrIPLkl.js";import{b as k}from"./util-BbrPoFAq.js";import{g as v,M as N}from"./miljø-Cn9pyrta.js";import{S}from"./ExternalLink-CD1WdD_k.js";const y=v()===N.ProdGcp?"https://veilarbpersonflate.intern.nav.no":"https://veilarbpersonflate.intern.dev.nav.no",B=`${y}/dialog`;function M(){const{kandidatData:n}=x(),[f,i]=a.useState(!1),[r,g]=a.useState(0),[h,u]=a.useState([]),l=(n?.geografiJobbonsker?.length??0)>0,d=(n?.yrkeJobbonskerObj?.length??0)>0,m=(n?.kompetanseObj?.length??0)>0,c=n?.kommuneNavn!==null,p=(n?.sprak?.length??0)>0,b=async s=>{i(!0),await k(B,s),i(!1)};return a.useEffect(()=>{if(n){let s=0;const t=[];l?s+=20:t.push("Ønsket jobbsted"),d?s+=20:t.push("Jobbønske"),m?s+=20:t.push("Kompetanse"),p?s+=20:t.push("Språk"),c?s+=20:t.push("Bosted"),g(s),u(t)}},[n,l,d,m,p,c]),e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex h-2 w-full",children:[...Array(5)].map((s,t)=>e.jsx("div",{className:`mr-0.5 flex-1 rounded-sm last:mr-0 ${t*20<r?"bg-blue-500":"bg-gray-200"}`},t))}),r===100?e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1",children:"✓"}),e.jsx(o,{children:"Kandidaten har fullført profilen sin. Det øker sjansen for at de finner en jobb som passer."})]}):e.jsxs(e.Fragment,{children:[e.jsxs(o,{spacing:!0,children:["Hør om kandidaten kan ",r<60?"dele":"oppgi",": "]}),e.jsx("ul",{children:h.map(s=>e.jsxs("li",{children:["- ",s]},s))}),e.jsx("br",{}),e.jsx(o,{spacing:!0,children:"Det øker sjansen for at de finner en jobb som passer."}),e.jsx(j,{loading:f,disabled:!n.fodselsnummer,onClick:()=>n.fodselsnummer&&b(n.fodselsnummer),variant:"secondary",className:"mt-4 w-full",icon:e.jsx(S,{}),children:"Gå til dialogen i Modia"})]})]})}M.__docgenInfo={description:"",methods:[],displayName:"Profilkvalitet"};export{M as P};
