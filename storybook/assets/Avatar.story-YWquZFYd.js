import{iz as w,r as c,j as r,i1 as F,i3 as p,iA as R,i8 as f,hN as A}from"./iframe-05oBaVfn.js";import"./preload-helper-BWMAHTUm.js";function C(){return w.useSyncExternalStore(B,()=>!0,()=>!1)}function B(){return()=>{}}var x="Avatar",[M]=F(x),[z,b]=M(x),j=c.forwardRef((a,e)=>{const{__scopeAvatar:s,...n}=a,[o,t]=c.useState("idle");return r.jsx(z,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:t,children:r.jsx(p.span,{...n,ref:e})})});j.displayName=x;var k="AvatarImage",E=c.forwardRef((a,e)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:o=()=>{},...t}=a,l=b(k,s),i=P(n,t),d=R(u=>{o(u),l.onImageLoadingStatusChange(u)});return f(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?r.jsx(p.img,{...t,ref:e,src:n}):null});E.displayName=k;var _="AvatarFallback",y=c.forwardRef((a,e)=>{const{__scopeAvatar:s,delayMs:n,...o}=a,t=b(_,s),[l,i]=c.useState(n===void 0);return c.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(d)}},[n]),l&&t.imageLoadingStatus!=="loaded"?r.jsx(p.span,{...o,ref:e}):null});y.displayName=_;function I(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function P(a,{referrerPolicy:e,crossOrigin:s}){const n=C(),o=c.useRef(null),t=n?(o.current||(o.current=new window.Image),o.current):null,[l,i]=c.useState(()=>I(t,a));return f(()=>{i(I(t,a))},[t,a]),f(()=>{const d=N=>()=>{i(N)};if(!t)return;const u=d("loaded"),L=d("error");return t.addEventListener("load",u),t.addEventListener("error",L),e&&(t.referrerPolicy=e),typeof s=="string"&&(t.crossOrigin=s),()=>{t.removeEventListener("load",u),t.removeEventListener("error",L)}},[t,s,e]),l}var $=j,T=E,D=y;function g({className:a,...e}){return r.jsx($,{"data-slot":"avatar",className:A("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...e})}function h({className:a,...e}){return r.jsx(T,{"data-slot":"avatar-image",className:A("aspect-square size-full",a),...e})}function S({className:a,...e}){return r.jsx(D,{"data-slot":"avatar-fallback",className:A("bg-muted flex size-full items-center justify-center rounded-full",a),...e})}g.__docgenInfo={description:"",methods:[],displayName:"Avatar"};h.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};S.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};const U={component:g,tags:["autodocs"],args:{}},v={render:()=>r.jsxs(g,{children:[r.jsx(h,{src:"https://i.pravatar.cc/100?img=12",alt:"Bruker"}),r.jsx(S,{children:"AB"})]})},m={render:()=>r.jsxs(g,{children:[r.jsx(h,{src:"/no-such-image.png",alt:"Ugyldig"}),r.jsx(S,{children:"JD"})]})};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src='https://i.pravatar.cc/100?img=12' alt='Bruker' />
      <AvatarFallback>AB</AvatarFallback>
    </Avatar>
}`,...v.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src='/no-such-image.png' alt='Ugyldig' />
      <AvatarFallback>JD</AvatarFallback>
    </Avatar>
}`,...m.parameters?.docs?.source}}};export{m as Fallback,v as MedBilde,U as default};
