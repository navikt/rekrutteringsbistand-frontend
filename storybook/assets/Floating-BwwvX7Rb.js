import{r as d,R as c,ai as pe,ac as U,h as ve,z as we,aj as be,ak as xe,al as ye,am as Ae,an as Ce,ao as Oe,ap as Pe,aq as Ee,ar as X}from"./iframe-DnzzPsuE.js";import{u as Se}from"./Modal.context-C9jBMjOi.js";import{a as Fe}from"./useControllableState-CICtFSXA.js";import{u as q}from"./useClientLayoutEffect-DK3nPkze.js";const z={};function T(e,n){const t=d.useRef(z);return t.current===z&&(t.current=e(n)),t}const N=c[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],je=N&&N!==d.useLayoutEffect?N:e=>e();function K(e){const n=T(_e).current;return n.next=e,je(n.effect),n.trampoline}function _e(){const e={next:void 0,callback:Re,trampoline:(...n)=>{var t;return(t=e.callback)===null||t===void 0?void 0:t.call(e,...n)},effect:()=>{e.callback=e.next}};return e}function Re(){}function ke(e,n=!1){const t=c.useRef(null),o=c.useRef(null),r=d.useCallback(()=>{for(const a of[t,o])a.current!==null&&(cancelAnimationFrame(a.current),a.current=null)},[]);return d.useEffect(()=>()=>r(),[r]),K((a,i=null)=>{if(r(),e==null)return;const s="current"in e?e.current:e;if(s!=null){if(typeof s.getAnimations!="function"||globalThis.AKSEL_ANIMATIONS_DISABLED){a();return}t.current=requestAnimationFrame(()=>{function f(){s&&Promise.allSettled(s.getAnimations().map(m=>m.finished)).then(()=>{i?.aborted||pe.flushSync(a)})}n?o.current=requestAnimationFrame(f):f()})}})}function Ie(e){const n=T(Ne,e).current;return n.next=e,q(n.effect),n}function Ne(e){const n={current:e,next:e,effect:()=>{n.current=n.next}};return n}function $e(e){const{enabled:n=!0,open:t,ref:o=null,onComplete:r}=e,a=Ie(t),i=K(r),s=ke(o,t);d.useEffect(()=>{n&&s(()=>{t===a.current&&i()})},[n,t,i,s,a])}function De(e){return{name:"transformOrigin",options:e,fn(n){var t,o,r,a,i;const{placement:s,rects:f,middlewareData:m}=n,u=((t=m.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,j=u?0:e.arrowWidth,g=u?0:e.arrowHeight,[h,y]=Z(s),w={start:"0%",center:"50%",end:"100%"}[y],C=((r=(o=m.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+j/2,O=((i=(a=m.arrow)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0)+g/2;let l="",p="";return h==="bottom"?(l=u?w:`${C}px`,p=`${-g}px`):h==="top"?(l=u?w:`${C}px`,p=`${f.floating.height+g}px`):h==="right"?(l=`${-g}px`,p=u?w:`${O}px`):h==="left"&&(l=`${f.floating.width+g}px`,p=u?w:`${O}px`),{data:{x:l,y:p}}}}}function Z(e){const[n,t="center"]=e.split("-");return[n,t]}var G=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t};const[We,J]=U({name:"FloatingContext",hookName:"useFloating",providerName:"FloatingProvider"}),Q=({children:e})=>{const[n,t]=d.useState(null);return c.createElement(We,{anchor:n,onAnchorChange:t},e)},He=d.forwardRef((e,n)=>{var{virtualRef:t,asChild:o}=e,r=G(e,["virtualRef","asChild"]);const a=J(),i=d.useRef(null),s=ve(n,i);d.useEffect(()=>{a.onAnchorChange(t?.current||i.current)});const f=o?we:"div";return t?null:c.createElement(f,Object.assign({ref:s},r))}),Le={top:"bottom",right:"left",bottom:"top",left:"right"},Me=({width:e,height:n,className:t})=>{const o=Be(),r=Le[o.placedSide];return c.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.hideArrow?"hidden":void 0},"aria-hidden":!0},c.createElement("svg",{className:t,width:e,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",style:{display:"block"}},c.createElement("polygon",{points:"0,0 30,0 15,10"})))},[Ye,Be]=U({name:"FloatingContentContext",hookName:"useFloatingContentContext",providerName:"FloatingContentProvider"}),Xe=d.forwardRef((e,n)=>{var t,o,r,a,i,s,{children:f,side:m="bottom",sideOffset:$=0,align:u="center",alignOffset:j=0,avoidCollisions:g=!0,collisionBoundary:h=[],collisionPadding:y=0,hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:O,arrow:l,fallbackPlacements:p,enabled:P=!0,autoUpdateWhileMounted:_=!0}=e,D=G(e,["children","side","sideOffset","align","alignOffset","avoidCollisions","collisionBoundary","collisionPadding","hideWhenDetached","updatePositionStrategy","onPlaced","arrow","fallbackPlacements","enabled","autoUpdateWhileMounted"]);const V=J(),b=Se(!1),R=Object.assign({padding:5,width:0,height:0},l),[W,ee]=d.useState(null),te=R.width,H=R.height,ne=m+(u!=="center"?"-"+u:""),oe=typeof y=="number"?y:Object.assign({top:0,right:0,bottom:0,left:0},y),L=Array.isArray(h)?h:[h],re=L.length>0;function ae(v){return v!==null}const k={padding:oe,boundary:L.filter(ae),altBoundary:re,fallbackAxisSideDirection:"end",fallbackPlacements:p},{refs:ie,floatingStyles:M,placement:le,isPositioned:E,middlewareData:x,elements:A,update:I}=be({open:P,strategy:"fixed",placement:ne,whileElementsMounted:_?(...v)=>X(...v,{animationFrame:C==="always"}):void 0,elements:{reference:V.anchor},middleware:[xe({mainAxis:$+H,alignmentAxis:j}),g&&ye({mainAxis:!0,crossAxis:!1,limiter:Ee()}),g&&Ae(Object.assign({},k)),Ce(Object.assign(Object.assign({},k),{apply:({elements:v,rects:B,availableWidth:ue,availableHeight:ge})=>{const{width:he,height:me}=B.reference,F=v.floating.style;F.setProperty("--ac-floating-available-width",`${ue}px`),F.setProperty("--ac-floating-available-height",`${ge}px`),F.setProperty("--ac-floating-anchor-width",`${he}px`),F.setProperty("--ac-floating-anchor-height",`${me}px`)}})),W&&Oe({element:W,padding:R.padding}),De({arrowWidth:te,arrowHeight:H}),w&&Pe(Object.assign({strategy:"referenceHidden"},k))]});d.useEffect(()=>{if(!(_||!P)&&A.reference&&A.floating){const v=X(A.reference,A.floating,I);return()=>{v()}}},[_,P,A,I]),$e({enabled:!!b?.ref,open:P,ref:b?.ref,onComplete:I});const[Y,se]=Z(le),S=Fe(O);q(()=>{E&&S?.()},[E,S]);const ce=(t=x.arrow)===null||t===void 0?void 0:t.x,de=(o=x.arrow)===null||o===void 0?void 0:o.y,fe=((r=x.arrow)===null||r===void 0?void 0:r.centerOffset)!==0;return c.createElement("div",{ref:ie.setFloating,"data-aksel-floating-content-wrapper":"",style:Object.assign(Object.assign({},M),{transform:E?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:"9999999","--ac-floating-transform-origin":[(a=x.transformOrigin)===null||a===void 0?void 0:a.x,(i=x.transformOrigin)===null||i===void 0?void 0:i.y].join(" ")}),dir:"ltr"},c.createElement(Ye,{placedSide:Y,onArrowChange:ee,arrowX:ce,arrowY:de,hideArrow:fe},c.createElement("div",Object.assign({ref:n,"data-side":Y,"data-align":se},D,{style:Object.assign(Object.assign({},D.style),{animation:E?void 0:"none",opacity:!((s=x.hide)===null||s===void 0)&&s.referenceHidden?0:void 0})}),f,l?.height&&l?.width&&c.createElement(Me,{width:l.width,height:l.height,className:l.className}))))});Q.Anchor=He;Q.Content=Xe;export{Q as F};
