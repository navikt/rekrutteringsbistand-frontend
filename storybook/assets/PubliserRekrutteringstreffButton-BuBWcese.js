import{ak as x,h5 as j,ha as R,r as f,j as e,e as l,x as F,w as v,B as b}from"./iframe-BUQyu22L.js";import{M as o}from"./Modal-BhRDrGLS.js";import{B as L}from"./Box-BS8y_QQH.js";import{S as P}from"./Eye-v_rDD6k7.js";const B=(t,i)=>`${j.internUrl}/${t}/${i}`,k={PUBLISER:"PUBLISER",GJENÅPN:"GJENÅPN",FULLFØR:"FULLFØR",AVLYS:"AVLYS"},w={PUBLISER:"publiser",GJENÅPN:"gjenapn",FULLFØR:"fullfor",AVLYS:"avlys",AVPUBLISER:"avpubliser"},m=async(t,i,n)=>{try{await x(B(t,w[i]),{})}catch(a){throw R.logger.error(a,`${n} for rekrutteringstreff ${t}`),a}},S=t=>m(t,k.PUBLISER,"Feil ved publisering av rekrutteringstreff"),U=t=>m(t,k.GJENÅPN,"Feil ved gjenåpning av rekrutteringstreff"),N=t=>m(t,k.FULLFØR,"Feil ved fullføring av rekrutteringstreff"),A=t=>m(t,k.AVLYS,"Feil ved avlysning av rekrutteringstreff"),E=({rekrutteringstreffId:t,oppdaterData:i})=>{const[n,a]=f.useState(!1),r=f.useRef(null),u=()=>r.current?.showModal(),s=()=>{n||r.current?.close()},d=async()=>{if(n)return;a(!0);let c=!1;try{await A(t),i(),c=!0}catch(g){new v({message:"Handling på rekrutteringstreff feilet",error:g})}finally{a(!1),c&&r.current?.close()}};return e.jsxs(e.Fragment,{children:[e.jsx(l,{type:"button",size:"small",variant:"danger",onClick:u,children:"Avlys treffet"}),e.jsxs(o,{ref:r,onClose:()=>{n&&r.current?.showModal()},header:{heading:"Avlys treffet"},children:[e.jsx(o.Body,{children:e.jsx(F,{children:"Deltakere får ikke lenger tilgang til innholdet og du kan ikke redigere videre. Dette kan ikke angres."})}),e.jsxs(o.Footer,{children:[e.jsx(l,{type:"button",size:"small",variant:"danger",loading:n,onClick:()=>void d(),children:"Avlys treffet"}),e.jsx(l,{type:"button",size:"small",variant:"secondary",disabled:n,onClick:s,children:"Avbryt"})]})]})]})};E.__docgenInfo={description:"",methods:[],displayName:"AvlysRekrutteringstreffButton",props:{rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""},oppdaterData:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const M=({rekrutteringstreffId:t,harInvitert:i,tiltidspunktHarPassert:n,oppdaterData:a})=>{const[r,u]=f.useState(!1),s=f.useRef(null),d=()=>s.current?.showModal(),c=()=>{r||s.current?.close()},g=async()=>{if(r)return;u(!0);let p=!1;try{await N(t),a(),p=!0}catch(h){new v({message:"Avslutting av rekrutteringstreff feilet",error:h})}finally{u(!1),p&&s.current?.close()}},y=()=>{if(n){g();return}d()};return e.jsxs(e.Fragment,{children:[e.jsx(l,{type:"button",size:"small",variant:"primary",disabled:!i||r,loading:r,onClick:y,children:"Fullfør"}),e.jsxs(o,{ref:s,onClose:()=>{r&&s.current?.showModal()},header:{heading:"Fullfør rekrutteringstreff?"},children:[e.jsx(o.Body,{children:"Slutttidspunktet for rekrutteringstreffet har ikke passert ennå. Er du sikker på at du vil fullføre rekrutteringstreffet likevel?"}),e.jsxs(o.Footer,{children:[e.jsx(l,{type:"button",size:"small",loading:r,onClick:()=>void g(),children:"Fullfør"}),e.jsx(l,{type:"button",size:"small",variant:"secondary",disabled:r,onClick:c,children:"Avbryt"})]})]})]})};M.__docgenInfo={description:"",methods:[],displayName:"FullførRekrutteringstreffButton",props:{rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""},harInvitert:{required:!0,tsType:{name:"boolean"},description:""},tiltidspunktHarPassert:{required:!0,tsType:{name:"boolean"},description:""},oppdaterData:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const I=({erPubliseringklar:t,rekrutteringstreffId:i,oppdaterData:n,onPublisert:a})=>{const[r,u]=f.useState(!1),s=f.useRef(null),d=f.useRef(!1),c=()=>s.current?.showModal(),g=()=>{r||s.current?.close()},y=async()=>{if(r)return;u(!0);let p=!1;try{await S(i),n(),a?.(),p=!0}catch(h){new v({message:"Publisering av rekrutteringstreff feilet",error:h})}finally{p&&(d.current=!0,s.current?.close(),setTimeout(()=>{d.current=!1},0)),u(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(l,{type:"button",size:"small",disabled:!t||r,loading:r,onClick:c,children:"Publiser treffet"}),e.jsxs(o,{ref:s,onClose:()=>{d.current||r&&s.current?.showModal()},header:{heading:"Publiser treffet"},children:[e.jsx(o.Body,{children:e.jsx("div",{className:"bg-bg-subtle p-4 rounded-md",children:e.jsxs(L.New,{children:[e.jsx(b,{className:"font-bold",children:"Dette skjer når du publiserer treffet"}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(P,{fontSize:"1.5rem","aria-hidden":!0}),e.jsx(b,{className:"flex-1",children:"Treffet blir synlig for:"})]}),e.jsxs("ul",{className:"list-disc pl-16 mt-1",children:[e.jsx("li",{children:"Nav-ansatte i rekrutteringsbistand."}),e.jsx("li",{children:"Nav brukere som blir invitert via aktivitetsplanen."})]})]})})}),e.jsxs(o.Footer,{children:[e.jsx(l,{type:"button",variant:"primary",size:"small",loading:r,onClick:()=>void y(),children:"Publiser"}),e.jsx(l,{type:"button",variant:"secondary",size:"small",disabled:r,onClick:g,children:"Avbryt"})]})]})]})};I.__docgenInfo={description:"",methods:[],displayName:"PubliserRekrutteringstreffButton",props:{erPubliseringklar:{required:!0,tsType:{name:"boolean"},description:""},rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""},oppdaterData:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPublisert:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{E as A,M as F,I as P,U as g};
