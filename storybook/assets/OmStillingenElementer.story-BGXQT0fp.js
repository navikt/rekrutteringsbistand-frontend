import{r as x,m as R,f as S,u as E,e as I,hR as w,hA as K,hf as L,j as e,ar as _,B as D,hS as u,l as b,R as A,H as B,hy as P,hT as H}from"./iframe-BgMEyBOw.js";import{l as C}from"./leggTilKandidat-BgYrCGps.js";import{F as $,L as F}from"./LeggTilKandidatTilStilling-dgphnyn1.js";import{T as U}from"./TilgangskontrollForInnhold-CI9_GvDI.js";import{U as M}from"./umamiEvents-BDpRy9-M.js";import{B as V}from"./Box-D_MFaWfV.js";import{S as W}from"./ArrowRight-cZQpuv0I.js";import{O as G,K as z}from"./OmStillingBoks-nA84VA-z.js";import{K as q}from"./schema.zod-CndSGKHI.js";import{O as J}from"./OmAnnonsen-CVwdPqGB.js";import{O as Q}from"./OmBedriften-CqrHVQMD.js";import{T as f}from"./TekstMedIkon-ixhdWlXT.js";import{V as X}from"./VisEditorTekst-rZlP-bkA.js";import{f as y}from"./util-D0AmwIr_.js";import{S as Y}from"./LocationPin-DNbxiCkm.js";import{S as Z}from"./Clock-BKKZKdnP.js";import{S as ee}from"./Calendar-CwaqC0M5.js";import{S as te}from"./TimerStart-CpROVKM_.js";import{S as se}from"./StillingsTag-CzV5FSUG.js";import{S as ie}from"./StillingInkludering-BD-Wyokb.js";import"./preload-helper-BWMAHTUm.js";import"./LenkeKortMedIkon-BZF3IzAt.js";import"./LeggTilKandidater-BXrO1N4j.js";import"./index-Bl1X_brB.js";import"./Modal-BYLl8Pr3.js";import"./floating-ui.react-DBIgfcER.js";import"./Date.Input-B-XhQLT9.js";import"./useFormField-Bp_i8G6K.js";import"./useControllableState-q6FKqWzx.js";import"./ChevronDown-DgJvjKl7.js";import"./match-BHTYdbS3.js";import"./Modal.context-D-Q3Jf-p.js";import"./kandidat.mock-CxMq9CZf.js";import"./innsatsgrupper-BqldBv0r.js";import"./TextField-BWht4sue.js";import"./Tag-B6UGrW1v.js";import"./CheckmarkCircle-DhE4ECoX.js";import"./PlusCircle-LDQXrT-9.js";import"./ErrorBoundary-Dpcs9j0Y.js";import"./Link-yB4QutwC.js";import"./BasePrimitive-R1dwLZrY.js";import"./KandidatTyper-CkRsvxsW.js";import"./Definisjon-B_piS6F2.js";import"./stilling-util-BjBixF7p.js";import"./format-DrrAGn9F.js";import"./parseISO-Dei-hLif.js";import"./parse-C_zuhUlz.js";import"./getDefaultOptions-CTpR1hvo.js";var ne=function(t,i){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)i.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const re=x.forwardRef((t,i)=>{var{title:n,titleId:s}=t,r=ne(t,["title","titleId"]);let a=R();return a=n?s||"title-"+a:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:i,"aria-labelledby":a},r),n?x.createElement("title",{id:a},n):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.25a.75.75 0 0 0 0 1.5h.315c.109 1.966.642 3.846 1.546 5.302.502.81 1.116 1.479 1.81 1.948-.694.47-1.308 1.138-1.81 1.948-.904 1.456-1.437 3.336-1.546 5.302H6a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5h-.298c-.109-1.966-.643-3.846-1.546-5.302-.503-.81-1.116-1.479-1.81-1.948.694-.47 1.307-1.138 1.81-1.948.904-1.456 1.437-3.336 1.546-5.302H18a.75.75 0 0 0 0-1.5zm6.008 8c.972 0 2.027-.624 2.873-1.989.738-1.189 1.211-2.785 1.318-4.511H7.818c.107 1.726.58 3.322 1.318 4.511.846 1.365 1.901 1.989 2.872 1.989m0 1.5c-.971 0-2.026.624-2.872 1.989-.738 1.189-1.211 2.784-1.318 4.511h8.381c-.107-1.727-.58-3.322-1.318-4.511-.846-1.365-1.901-1.989-2.873-1.989",clipRule:"evenodd"}))});function v(){const{stillingsData:t,erEier:i}=S(),{visVarsel:n}=E(),{track:s}=I(),r=w(t),[a,l]=x.useState(!1),o=K(),d=L(),p=o.get("finnStilling")!==null,c=(()=>{if(!d)return null;const g=d.split("/").filter(Boolean),k=g.indexOf("kandidat");return k!==-1&&g.length>k+1&&g[k+1]||null})(),m=async g=>{s(M.Stilling.forslag_til_stilling_legg_til_kandidat),l(!0);try{await C([g],t.stilling.uuid),n({tekst:"Kandidat er lagt til i kandidatliste",type:"success"})}catch{n({tekst:"Kandidat kunne ikke legges til i kandidatliste",type:"error"})}finally{l(!1)}};return p&&c?e.jsxs(V.New,{background:"neutral-softA",borderRadius:"xlarge",paddingInline:"space-16",paddingBlock:"space-12",role:"button",tabIndex:0,"aria-label":"Legg til jobbsøkere. Velg og legg til jobbsøkere i stillingen.",className:"group flex items-start justify-between gap-4 cursor-pointer outline-none focus:ring-2 focus:ring-focus focus:ring-offset-2",onClick:()=>!a&&m(c),"aria-busy":a||void 0,children:[a?e.jsx(_,{}):e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("span",{className:"text-xl leading-none mt-0.5",children:"➕"}),e.jsx("div",{className:"flex flex-col",children:e.jsx(D,{spacing:!0,className:"m-0",children:"Legg jobbsøker til stillingen"})})]}),e.jsx(W,{"aria-hidden":!0,className:"transition-transform group-hover:translate-x-1 mt-1"})]}):r.visningsStatus===u.Slettet||r.visningsStatus===u.Fullfort||r.visningsStatus===u.IkkePublisert||!i&&(r.visningsStatus===u.StengtForSokere||r.visningsStatus===u.UtloptStengtForSokere)?null:e.jsx(U,{skjulVarsel:!0,kreverEnAvRollene:[b.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,b.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:e.jsx("div",{className:"@container/kandidat-knapper",children:e.jsxs("div",{className:"grid grid-cols-1 @3xl:grid-cols-2 gap-4 mb-6",children:[e.jsx($,{stillingId:t.stilling.uuid}),e.jsx(F,{stillingsId:t.stilling.uuid,stillingsTittel:t.stilling.title})]})})})}v.__docgenInfo={description:"",methods:[],displayName:"KandidatKnapper"};function ae(t){const i=[];if(!t)return"";if(t.postalCode){let s=t.address?`${t.address}, `:"";s+=`${t.postalCode} ${h(t.city??"")}`,i.push(s)}else t.municipal?i.push(h(t.municipal)):t.county?i.push(h(t.county)):t.country&&i.push(h(t.country));return i.join(", ")}function le(t){const i=[];return t?(t.forEach(s=>{i.push(ae(s))}),i.join(", ")):""}function h(t){const i=[" ","-","("],n=["i","og"];if(t){let s=t.toLowerCase();for(let r=0,a=i.length;r<a;r+=1){const l=s.split(i[r]);for(let o=0,d=l.length;o<d;o+=1)n.includes(l[o])||(l[o]=(l[o][0]||"").toUpperCase()+l[o].substr(1));s=l.join(i[r])}return s}return t}const N=t=>{if(!t)return"";const i=t.trim();if(i.startsWith("[")&&i.endsWith("]"))try{const n=JSON.parse(i);if(Array.isArray(n))return n.filter(Boolean).join(" ")}catch(n){new A({message:"Feil ved parseWorktime",error:n,details:`worktime=${t}`,skjulLogger:!0})}return t};function T({printRef:t,forhåndsvisData:i}){const{stillingsData:n,kandidatlisteInfo:s}=S(),r=le(n.stilling.locationList),{engagementtype:a,extent:l,workday:o,workhours:d,applicationdue:p,starttime:c}=n.stilling.properties;return e.jsxs("div",{"data-testid":"om-stillingen",children:[!i&&s?.kandidatlisteId&&s.kandidatlisteStatus!==q.Lukket&&e.jsx(v,{}),e.jsx("div",{className:"flex flex-col gap-x-[3.5rem] gap-y-8 md:flex-row",children:e.jsx("div",{className:"w-full",id:"print-content",ref:t,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(G,{tittel:"Om jobben",innholdTopp:!0,innhold:e.jsx(X,{htmlTekst:n.stilling.properties?.adtext}),gridInnhold:e.jsxs(e.Fragment,{children:[e.jsx(f,{tekst:r??"-",ikon:e.jsx(Y,{})}),e.jsx(f,{tekst:`${a??"-"} ${l?`- ${l}`:""}`,ikon:e.jsx(Z,{})}),e.jsx(f,{tekst:`${o?N(o):"-"} ${d?`- ${N(d)}`:""}`,ikon:e.jsx(ee,{})}),e.jsx(f,{tekst:`Søknadsfrist ${p?(()=>{const m=y({dato:p});return m||p.toLowerCase()})():"-"}`,ikon:e.jsx(re,{})}),e.jsx(f,{tekst:`Oppstart ${c?(()=>{const m=y({dato:c});return m||c.toLowerCase()})():"-"}`,ikon:e.jsx(te,{})})]})}),e.jsx("hr",{className:"border-gray-200 pb-8"}),e.jsx(Q,{}),e.jsx("hr",{className:"border-gray-200 pb-8"}),e.jsx(J,{})]})})})]})}T.__docgenInfo={description:"",methods:[],displayName:"OmStillingen",props:{forhåndsvisData:{required:!1,tsType:{name:"boolean"},description:""},printRef:{required:!0,tsType:{name:"union",raw:"RefObject<HTMLDivElement | null> | null",elements:[{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"RefObject<HTMLDivElement | null>"},{name:"null"}]},description:""}}};function O(){const{stillingsData:t}=S();return e.jsxs("div",{className:"py-5",children:[e.jsx(B,{size:"large",children:t.stilling.title??""}),e.jsx(se,{stillingsData:t,rad:!0})]})}O.__docgenInfo={description:"",methods:[],displayName:"OmStillingenHeader"};const it={tags:["autodocs"],render:()=>e.jsx(P,{children:e.jsxs("div",{className:"space-y-10 opacity-60 pointer-events-none",children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Header"}),e.jsx(O,{})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"OmStillingen"}),e.jsx(T,{printRef:H})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Kontaktpersoner"}),e.jsx(z,{})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"KandidatKnapper"}),e.jsx(v,{})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"StillingInkludering"}),e.jsx(ie,{})]})]})})},j={};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:"{}",...j.parameters?.docs?.source}}};export{j as Oversikt,it as default};
