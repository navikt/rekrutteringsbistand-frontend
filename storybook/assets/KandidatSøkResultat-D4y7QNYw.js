import{cb as S,r as c,j as e,S as v}from"./iframe-CC24wDKQ.js";import{L as T}from"./LagreIRekrutteringstreffKnapp-BYRUZWXP.js";import{u as f}from"./KandidaSokFilterContext-CcmI4N82.js";import{u as y}from"./KandidatSøkMarkerteContext-6l3bsNnr.js";import{K as N}from"./KandidatKort-BzWGX991.js";import{L}from"./LagreIKandidatlisteButton-CAofNFPK.js";import{R}from"./RekrutteringstreffFeatureToggle-CnYC5RCT.js";import{S as C}from"./SideScroll-ozGz9mYz.js";import{S as w}from"./SkeletonKort-BkBIeyND.js";import{u as M}from"./KandidatNavigeringContext-CTI9JYbz.js";import{a as _}from"./Checkbox-P-i_1nBW.js";import{P as b}from"./Pagination-bM2BhRzs.js";const q=({stillingsId:i,rekrutteringstreffId:o,alleredeLagtTilTreff:g,alleredeLagtTilKandidatliste:p})=>{const n=f(),{portefølje:u}=f(),l=S(u,n),{setKandidatNavigering:m}=M(),x=c.useRef(null);c.useEffect(()=>{m(l.data?.navigering.kandidatnumre??[])},[l.data?.navigering,m]);const{markerteKandidater:s,setMarkertListe:h,fjernMarkerteKandidater:j}=y();return e.jsx(v,{hooks:[l],skeleton:e.jsx("div",{className:"mt-14",children:e.jsx(w,{})}),children:r=>{if(!r)return null;const d=Math.ceil(r.antallTotalt/25),k=d>390?390:d,K=()=>{if(s&&s.length==r.kandidater.length)j();else if(r.kandidater){const a=r.kandidater.map(t=>t.arenaKandidatnr).filter(t=>t!=null&&t!=="");h(a)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:x,className:"flex items-center justify-between",children:[e.jsx("div",{className:"ml-5",children:e.jsx(_,{checked:s&&s.length>0&&s.length===r.kandidater.length,onClick:K,children:"Marker alle på siden"})}),e.jsxs("div",{className:"flex flex-row gap-2",children:[!o&&e.jsx(L,{stillingsId:i}),e.jsx(R,{children:!i&&e.jsx(T,{rekrutteringstreffId:o,kandidatsokKandidater:r.kandidater})})]})]}),e.jsxs(C,{children:[e.jsx("div",{className:"flex flex-col gap-1 pt-2",children:r.kandidater?.map((a,t)=>e.jsx(N,{stillingsId:i,alleredeLagtTil:p??g,kandidat:a},a.arenaKandidatnr||t))}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:["Viser ",r.antallTotalt," treff"]}),d>1&&e.jsx(b,{className:"my-4 flex justify-center",size:"medium",page:n.side,onPageChange:n.setSide,count:k})]})]})]})}})};q.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkResultat",props:{stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};export{q as K};
