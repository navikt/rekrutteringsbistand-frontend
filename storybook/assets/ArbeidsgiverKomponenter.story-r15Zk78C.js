import{j as e,r as u,b7 as N,b8 as g,d as L,b3 as T,b4 as S,b9 as w,S as R,B as M,ba as C,b2 as I}from"./iframe-BCPU83ju.js";import{A as f,L as x,S as v,V as E}from"./LeggTilArbeidsgiverForm-C_-qvxJK.js";import{S as _}from"./Plus-C-i0LPgt.js";import{M as l}from"./Modal-BBM7lRpi.js";import{T as H}from"./Tooltip-DfW2jNtM.js";import"./preload-helper-PPVm8Dsz.js";import"./util-DoVIJkK9.js";import"./stilling-util-BjBixF7p.js";import"./Box-8WIwS4-z.js";import"./BasePrimitive-C43Zdv_H.js";import"./Tag-BRiTi-pB.js";import"./Trash-Cta86JYs.js";import"./ComboboxProvider-hWOh8BcP.js";import"./Floating-DEVGGh4Z.js";import"./Modal.context-WcZRHucM.js";import"./useControllableState-BmfeGQkw.js";import"./useClientLayoutEffect-C0hqye8N.js";import"./useLatestRef-93o6EXzC.js";import"./useFormField-CPCdGz6D.js";import"./ChevronDown-j4ejZ-3f.js";import"./DismissableLayer-CPHSRetD.js";import"./owner-CO0wgQ-G.js";import"./Chips-B01r-O7O.js";import"./ChevronUp-NBmxYGug.js";import"./VStack-BIz_V_1H.js";import"./floating-ui.react-CkmWww4U.js";import"./Date.Input-DKZMtCa6.js";import"./Calendar-CrUnjqKD.js";import"./Portal-C-cW_6fP.js";const h=({arbeidsgiver:s,actionSlot:r})=>{const i=s.organisasjonsnummer;return e.jsx(f,{navn:s.navn,organisasjonsnummer:i,gateadresse:s.gateadresse,postnummer:s.postnummer,poststed:s.poststed,status:s.status,actionSlot:r})};h.__docgenInfo={description:"",methods:[],displayName:"ArbeidsgiverListeItem",props:{arbeidsgiver:{required:!0,tsType:{name:"z.infer",elements:[{name:"ArbeidsgiverSchema"}],raw:"z.infer<typeof ArbeidsgiverSchema>"},description:""},status:{required:!1,tsType:{name:"string"},description:""},actionSlot:{required:!1,tsType:{name:"ReactNode"},description:""}}};const b=({className:s})=>{const r=u.useRef(null),{treff:i}=N(),n=i?.status===g.FULLFØRT||i?.status===g.AVLYST,a=()=>r.current?.showModal(),d=()=>r.current?.close();return e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:a,variant:"secondary",icon:e.jsx(_,{}),disabled:n,className:s,type:"button",children:"Legg til arbeidsgiver"}),e.jsx(l,{ref:r,className:"overflow-visible",onClose:d,header:{heading:"Legg til arbeidsgivere"},children:e.jsx(l.Body,{className:"min-w-[500px] overflow-visible",children:e.jsx(x,{variant:"modal",onCompleted:()=>r.current?.close()})})})]})};b.__docgenInfo={description:"",methods:[],displayName:"LeggTilArbeidsgiverKnapp",props:{className:{required:!1,tsType:{name:"string"},description:""}}};const j=()=>{const{rekrutteringstreffId:s}=T(),r=S(s),i=w(s),[n,a]=u.useState(!1),d=async t=>{if(t)try{a(!0),await C(s,t.arbeidsgiverTreffId??t.organisasjonsnummer),r.mutate(),i.mutate()}finally{a(!1)}};return e.jsx(R,{hooks:[r],children:t=>e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsx("div",{children:e.jsx(b,{})}),t.length===0?e.jsx(M,{children:"Ingen arbeidsgivere lagt til"}):e.jsx("ul",{children:t.map((m,y)=>{const c=t.length===1,k=e.jsx(v,{navn:m.navn,loading:n,disabled:c||n,onConfirm:()=>d(m),arbeidsgivereHook:r,variant:"trash",renderTrigger:({button:p})=>c?e.jsx(H,{content:"Treffet må alltid ha en arbeidsgiver som deltar. Legg til en ny arbeidsgiver først.",className:"max-w-[200px] text-left",children:e.jsx("span",{children:p})}):p});return e.jsx("li",{children:e.jsx(h,{arbeidsgiver:m,actionSlot:k})},y)})})]})})};j.__docgenInfo={description:"",methods:[],displayName:"Arbeidsgivere"};const A=({modalRef:s})=>{const r=()=>{s.current?.close()};return e.jsx(l,{ref:s,className:"overflow-visible",onClose:r,header:{heading:"Legg til arbeidsgivere"},children:e.jsx(l.Body,{className:"min-w-[500px] overflow-visible",children:e.jsx(x,{variant:"modal",onCompleted:()=>{s.current?.close()}})})})};A.__docgenInfo={description:"",methods:[],displayName:"LeggTilArbeidsgiverModal",props:{modalRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDialogElement | null",elements:[{name:"HTMLDialogElement"},{name:"null"}]}],raw:"RefObject<HTMLDialogElement | null>"},description:""}}};const ce={tags:["autodocs"],render:()=>e.jsx(I,{children:e.jsxs("div",{className:"pointer-events-none space-y-10 opacity-60",children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"ArbeidsgiverKort"}),e.jsx(f,{navn:"Eksempelbedrift AS",organisasjonsnummer:"999999999",gateadresse:"Storgata 1",postnummer:"0155",poststed:"Oslo",status:"Lagt til"})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Arbeidsgivere (liste)"}),e.jsx(j,{})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"VelgArbeidsgiver"}),e.jsx(E,{arbeidsgiverCallback:()=>{}})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Modaler"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(A,{modalRef:{current:null}}),e.jsx(v,{navn:"Eksempelbedrift AS",loading:!1,disabled:!1,onConfirm:()=>{},arbeidsgivereHook:{mutate:()=>{}},variant:"trash",renderTrigger:()=>null})]})]})]})})},o={};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:"{}",...o.parameters?.docs?.source}}};export{o as Oversikt,ce as default};
