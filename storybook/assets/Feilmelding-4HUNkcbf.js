import{r as c,R as m,p as r,j as s,A as d,B as i,b as f}from"./iframe-WlOW16KT.js";import{C as j}from"./CopyButton-BzrJWFs_.js";const x=({zodError:a,error:e,message:t})=>{const[l,o]=c.useState(!1);return c.useEffect(()=>{e&&(e instanceof m?r.logger.error({operationId:e.feilkode,errorType:"RekbisError"},"Error vist i UI: "+e.message||t):r.logger.error({err:e instanceof Error?e:null,errorType:e?.constructor?.name||typeof e},`Error displayed in UI (${t})`))},[e,t]),a?(r.logger.info({zodError:a},"ZodError"),s.jsxs(d,{className:"w-full",style:{margin:"1rem"},variant:"error",children:[s.jsx("strong",{children:"Feil ved validering av data (ZodError)"}),s.jsxs(i,{children:["Antall feil ",a?.issues.length??"N/A"]}),s.jsxs(f,{className:"mt-4 mb-4",size:"small",variant:l?"secondary-neutral":"secondary",onClick:()=>o(!l),children:[l?"Skjul":"Vis"," detaljert feilmelding"]}),l&&s.jsx("div",{children:a?.issues?.map((n,h)=>s.jsxs("div",{className:"mb-2",children:[s.jsxs("dd",{children:[s.jsxs("strong",{children:[n.code,":"]})," ",n.message]}),s.jsxs("dt",{children:[s.jsx("strong",{children:"Path:"})," ",n.path&&s.jsxs("span",{children:[" ",n.path.join(".")]})]})]},h))})]})):e instanceof m?s.jsx("div",{style:{width:"100%"},children:s.jsxs(d,{style:{margin:"1rem"},variant:"error",children:[s.jsx(i,{className:"font-bold",children:"Noe gikk galt!"}),e.feilkode&&s.jsxs("dl",{className:"my-4",children:[s.jsx("dt",{className:"font-bold italic",children:"Feilkode for rapportering av feil:"}),s.jsxs("dd",{className:"ml-4 flex items-center",children:[e.feilkode," ",s.jsx(j,{className:"ml-2",copyText:e.feilkode})]})]}),s.jsx(i,{className:"font-bold",children:e.message||"Ukjent feil"}),s.jsxs(f,{className:"mt-4 mb-4",size:"small",variant:l?"secondary-neutral":"secondary",onClick:()=>o(!l),children:[l?"Skjul":"Vis"," detaljert feilmelding"]}),l&&s.jsxs("dl",{children:[s.jsx("dt",{className:"font-bold italic",children:"Teknisk feilmelding"}),s.jsx("dd",{className:"mb-4 ml-4",children:e.details??e.stack})]})]})}):s.jsxs(d,{style:{margin:"1rem"},variant:"error",children:[s.jsx(i,{className:"font-bold",children:"Noe gikk galt!"}),s.jsx(i,{children:"Ukjent feil ikke h√•ndtert. Rapporter inn via fagsystemsak."})]})};x.__docgenInfo={description:"",methods:[],displayName:"Feilmelding"};export{x as F};
