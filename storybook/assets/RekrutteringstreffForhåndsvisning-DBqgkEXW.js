import{b5 as $,b6 as z,b7 as H,r as D,j as e,B as n,H as m,e as M,n as C}from"./iframe-CcX8-4GA.js";import{S as g}from"./Skeleton-DqTyt297.js";import{t as u}from"./index-B40KJ5b4.js";import{S as R}from"./Clock-BqrlJNiO.js";import{S as I}from"./LocationPin-C0p5Jpp0.js";import{p as j}from"./parseISO-Ciw9O8eu.js";import{f as b}from"./format-DxFJCfdi.js";import{i as U}from"./isSameDay-DVbndqA5.js";const y=r=>r&&r.charAt(0).toUpperCase()+r.slice(1),N=r=>{if(!r)return null;try{const o=new Date(r);return b(o,"EEEE d. MMMM yyyy",{locale:C})}catch{return null}},_=r=>{if(!r)return null;try{const o=new Date(r);return b(o,"HH:mm",{locale:C})}catch{return null}},S=r=>b(r,"HH:mm"),A=()=>{const{rekrutteringstreffId:r}=$(),{data:o,isLoading:k}=z(r),t=H()?.watch?.(),p=(a,i)=>{if(!(!a||!i))try{const[l,h]=i.split(":").map(v=>parseInt(v,10)),d=new Date(a);return d.setHours(l||0,h||0,0,0),d.toISOString()}catch{return}},s=D.useMemo(()=>{if(!t)return null;const a=p(t.fraDato,t.fraTid),i=p(t.tilDato,t.tilTid),l=p(t.svarfristDato,t.svarfristTid);return{tittel:t.tittel,gateadresse:t.gateadresse,postnummer:t.postnummer,poststed:t.poststed,fraTid:a,tilTid:i,svarfrist:l}},[t]),T=D.useMemo(()=>t?.htmlContent?{htmlContent:t.htmlContent}:null,[t?.htmlContent]);if(k)return e.jsxs("div",{className:"bg-white text-black min-h-screen p-8 space-y-6","data-theme":"light",children:[e.jsx(g,{variant:"text",width:"60%",height:32}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{variant:"text",width:"100%",height:20}),e.jsx(g,{variant:"text",width:"100%",height:20}),e.jsx(g,{variant:"text",width:"80%",height:20})]})]});if(!s)return e.jsx("div",{className:"bg-white text-black min-h-screen p-8","data-theme":"light",children:e.jsx("div",{className:"text-center py-8",children:e.jsx(n,{children:"Kunne ikke laste rekrutteringstreff"})})});const x=s.fraTid?u(j(s.fraTid),"Europe/Oslo"):null,f=s.tilTid?u(j(s.tilTid),"Europe/Oslo"):null,E=()=>{if(!x||!f)return null;const a=N(s.fraTid),i=a?y(a):null,l=S(x),h=S(f);if(U(x,f))return`${i} kl ${l} til ${h}`;{const d=N(s.tilTid),v=d?y(d):null;return`${i} kl ${l} til ${v} kl ${h}`}},F=s.svarfrist?y(`${N(s.svarfrist)} kl ${_(s.svarfrist)}`):null,w=s.svarfrist?u(j(s.svarfrist),"Europe/Oslo"):null,O=u(new Date,"Europe/Oslo");let c=null;if(w){const i=w.getTime()-O.getTime(),l=Math.floor(i/864e5);l<0?c="Utl√∏pt":l===0?c="Utl√∏per i dag":l===1?c="Utl√∏per om 1 dag":c=`Utl√∏per om ${l} dager`}return e.jsx("div",{className:"bg-white text-black min-h-screen","data-theme":"light",children:e.jsx("div",{className:"max-w-7xl mx-auto p-2 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 2xl:grid-cols-6 gap-4 pt-4",children:[e.jsxs("div",{className:"2xl:col-span-4 space-y-6",children:[e.jsx("div",{children:e.jsx(m,{level:"1",size:"large",className:"text-gray-900",children:s.tittel})}),e.jsxs("div",{className:"flex flex-col gap-4 2xl:flex-row 2xl:gap-16",children:[(x||f)&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{"aria-hidden":!0,fontSize:"1.5rem",className:"text-gray-700 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx(n,{className:"text-gray-600 mb-0.5 font-bold",children:"Om 6 dager"}),e.jsx(n,{className:"text-gray-900",children:E()})]})]}),(s.gateadresse||s.postnummer||s.poststed)&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(I,{"aria-hidden":!0,fontSize:"1.5rem",className:"text-gray-700 flex-shrink-0"}),e.jsxs("div",{children:[s.gateadresse&&e.jsx(n,{className:"text-gray-900 font-bold",children:s.gateadresse}),(s.postnummer||s.poststed)&&e.jsxs(n,{className:"text-gray-900",children:[s.postnummer," ",s.poststed]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{level:"2",size:"medium",className:"text-gray-900 font-semibold",children:"Siste aktivitet"}),e.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg space-y-3",children:[e.jsx(m,{level:"3",size:"small",className:"text-gray-900 font-semibold",children:"Om treffet"}),T?.htmlContent&&e.jsx("div",{className:"prose prose-sm max-w-none text-gray-800",dangerouslySetInnerHTML:{__html:T.htmlContent}}),e.jsxs("div",{className:"space-y-1 pt-2",children:[e.jsx(n,{className:"text-gray-800",children:"Treff arbeidsgiverne"}),e.jsx(n,{className:"text-gray-800",children:"H√∏r om mulighetene"})]})]})]})]}),e.jsxs("div",{className:"2xl:col-span-2 space-y-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"p-4 rounded-lg space-y-2 bg-[var(--ax-surface-info-subtle,_#E6F0FF)] border border-[var(--ax-border-info-subtle,_#99C2FF)]",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{className:"text-gray-900 flex items-center gap-2",children:e.jsx("span",{role:"img","aria-label":"flammer",children:"üî•üî•üî•"})}),c&&e.jsx(n,{className:"text-gray-700 font-bold",children:c}),c!=="Utl√∏pt"&&e.jsxs(n,{className:"text-gray-700",children:["Du kan endre svaret ditt frem til ",F]})]}),e.jsx(M,{variant:"primary",size:"medium",className:"text-white",children:"Svar"})]})})}),o&&o.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{level:"2",size:"medium",className:"text-gray-900 font-semibold",children:"Arbeidsgivere"}),e.jsx("div",{className:"space-y-3",children:o.map((a,i)=>e.jsxs("div",{className:"bg-gray-100 p-5 rounded-lg",children:[e.jsx(m,{level:"3",size:"small",className:"text-gray-900 font-semibold mb-1",children:a.navn}),e.jsxs(n,{className:"text-gray-700",children:["Org.nr: ",a.organisasjonsnummer]})]},a.organisasjonsnummer||i))})]})]})]})})})};A.__docgenInfo={description:"",methods:[],displayName:"RekrutteringstreffForh√•ndsvisning"};export{A as R};
