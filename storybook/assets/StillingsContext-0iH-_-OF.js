import{K as m,g as f,o as p,I as l,a as g,r as i,R as S,u as v,e as x,j as k}from"./iframe-BZGI7Ig_.js";import{u as I}from"./index-DZOmuGKb.js";import"./stillingMock-BtxAEQoL.js";import"./stilling.dto-Dd_wOmtL.js";import{v as h}from"./stillingInfoUtil-C2V4vZ-Z.js";import"./SWRLaster-BBaxFb3n.js";const R=e=>`${m.internUrl}/veileder/stilling/${e}/kandidatlisteinfo`,C=p({kandidatlisteId:l(),antallKandidater:g(),kandidatlisteStatus:l()}),y=e=>I(e?.stillingsid?R(e.stillingsid):null,f(C,{skjulFeilmelding:!0}),{errorRetryCount:3,errorRetryInterval:3e3,revalidateOnFocus:!1,dedupingInterval:2e3}),E=({stillingsData:e,navIdent:t})=>t?e?.administration?.navIdent===t||e?.stilling?.administration?.navIdent===t||e?.eierNavident===t||e?.stillingsinfo?.eierNavident===t:!1,s=i.createContext(void 0),K=({stillingsData:e,children:t,refetch:d})=>{const{brukerData:{ident:a},harRolle:o}=v(),n=y(e?.stilling?.publishedByAdmin?e?.stillingsinfo:null),[r,u]=i.useState(null),c=i.useMemo(()=>o([x.AD_GRUPPE_REKRUTTERINGSBISTAND_UTVIKLER])||E({stillingsData:e,navIdent:a}),[e,a,o]);return k.jsx(s.Provider,{value:{omStilling:h(e),stillingsData:r||e,erEier:c,stillingsId:e?.stilling?.uuid,forhåndsvisData:r,setForhåndsvisData:u,refetch:d,kandidatlisteInfo:n?.data??null,kandidatlisteLaster:n?.isLoading??!1,refetchKandidatliste:n?.mutate},children:t})},w=()=>{const e=i.useContext(s);return e===void 0?null:e},_=()=>{const e=i.useContext(s);if(e===void 0)throw new S({message:"useStillingsContext må være i scope: StillingsContextProvider"});return e};K.__docgenInfo={description:"",methods:[],displayName:"StillingsContextMedData",props:{stillingsData:{required:!0,tsType:{name:"z.infer",elements:[{name:"StillingDataSchema"}],raw:"z.infer<typeof StillingDataSchema>"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},refetch:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{K as S,_ as a,w as u};
