import{r as m,k as C,l as f,ac as R,u as K,ad as D,j as e,S as H,aG as z,cn as O,e as g,w as B,cp as P,h as E,aI as V,A as L,H as o,B as i,R as M}from"./iframe-qbxWu-tL.js";import{s as A,P as G}from"./PersonbrukerTekst-Ce_jRmic.js";import{M as c}from"./Modal-BdvvbpSe.js";import{B as y}from"./Box-yhTuh1r0.js";import{V as b,H as N}from"./VStack-B7tXZA4Y.js";import{C as J}from"./Checkbox-SAZzQ4uP.js";import{S as _}from"./PlusCircle-CGvsqd1y.js";import{S as U}from"./PersonChat-DdmXQ8lb.js";import{S as $}from"./FileText-BABg21vC.js";import{T as W}from"./TilgangskontrollForInnhold-Cbf6wIfg.js";import{f as q}from"./util-DlAq864K.js";import{S as Q}from"./Handshake-BKNfSchT.js";import{S as X}from"./CircleSlash-Bmldl46U.js";import{S as Y}from"./ArrowForward-BTc-UjRK.js";import{S as Z}from"./Briefcase-BVWTYivD.js";var ee=function(s,a){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)a.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(t[r[l]]=s[r[l]]);return t};const se=m.forwardRef((s,a)=>{var{title:t,titleId:r}=s,l=ee(s,["title","titleId"]);let n=C();return n=t?r||"title-"+n:void 0,f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":n},l),t?f.createElement("title",{id:n},t):null,f.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.286 11.483a.75.75 0 0 1 .099-.33l4.5-7.795a2.75 2.75 0 0 1 4.763 2.75l-4.5 7.795a.75.75 0 0 1-.236.25l-3.732 2.465a.75.75 0 0 1-1.162-.671zm1.486.266-.167 2.79L14.937 13l3.028-5.243-2.165-1.25zm6.577-6.39-.634 1.097-2.165-1.25.634-1.098a1.25 1.25 0 1 1 2.165 1.25M12.5 4.75H5.75v15.5h11.5V15.5a.75.75 0 0 1 1.5 0v5c0 .69-.56 1.25-1.25 1.25h-12c-.69 0-1.25-.56-1.25-1.25v-16c0-.69.56-1.25 1.25-1.25h7a.75.75 0 0 1 0 1.5",clipRule:"evenodd"}))});var re=function(s,a){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)a.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(t[r[l]]=s[r[l]]);return t};const le=m.forwardRef((s,a)=>{var{title:t,titleId:r}=s,l=re(s,["title","titleId"]);let n=C();return n=t?r||"title-"+n:void 0,f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":n},l),t?f.createElement("title",{id:n},t):null,f.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.75 4.02a.766.766 0 0 0-.927-.75l-.366.08a30.8 30.8 0 0 1-12.914 0l-.367-.08a.766.766 0 0 0-.926.75V13a7.75 7.75 0 0 0 15.5 0zm-14 .903c4.127.814 8.373.814 12.5 0V13a6.25 6.25 0 1 1-12.5 0zm4 4.577a2.25 2.25 0 1 1 4.5 0v.75h.25c.69 0 1.25.56 1.25 1.25V15a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v-3.5c0-.69.56-1.25 1.25-1.25h.25zm3 0v.75h-1.5V9.5a.75.75 0 0 1 1.5 0m-3 2.25v2.5h4.5v-2.5z",clipRule:"evenodd"}))});function T(){const{stillingsData:s,refetch:a,erEier:t}=R(),{visVarsel:r}=K(),[l,n]=m.useState(!1),x=D(s,t),[I,k]=m.useState(!1),p=async(d,u)=>{n(!0);try{await A(d,u),r({type:"success",tekst:"Du har nå fullført oppdraget."}),x.mutate(),a&&a()}catch(j){r({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new E({message:"Klarte ikke å fullføre oppdrag",error:j})}n(!1)};return e.jsx(H,{hooks:[x],children:d=>{const j=(d?.kandidater?.filter(v=>!v.arkivert)??[]).filter(v=>v.utfall===z.FATT_JOBBEN).length+(d?.formidlingerAvUsynligKandidat?.filter(v=>v.utfall===z.FATT_JOBBEN)?.length||0),S=d?.antallStillinger,w=j,h=w===0;return d.status===O.Lukket?e.jsx(g,{size:"small",loading:l,onClick:()=>A(d.kandidatlisteId,O.Åpen),children:"Gjenåpne oppdraget"}):e.jsxs(e.Fragment,{children:[e.jsx(g,{size:"small",loading:l,onClick:()=>k(!0),children:"Fullfør oppdraget"}),e.jsxs(c,{width:600,open:I,onClose:()=>k(!1),header:{heading:"Fullfør oppdraget"},children:[e.jsxs(c.Body,{children:[e.jsx(B,{className:"mb-3",children:h?"Ingen stillinger er besatt":`${w} av ${S} 
                            ${S===1?"stilling":"stillinger"} er
                            besatt.`}),e.jsxs(y.New,{borderRadius:"large",background:"neutral-soft",className:"p-5",children:[e.jsx(B,{className:" font-bold",children:"Dette skjer når du fullfører"}),!h&&e.jsx(G,{})]})]}),e.jsxs(c.Footer,{children:[e.jsx(g,{type:"button",disabled:l||d.status===O.Lukket&&s.stilling.status===P.Stoppet,onClick:()=>d.kandidatlisteId&&p(d.kandidatlisteId,O.Lukket),children:"Fullfør"}),e.jsx(g,{type:"button",variant:"secondary",onClick:()=>k(!1),children:"Avbryt"})]})]})]})}})}T.__docgenInfo={description:"",methods:[],displayName:"HarKandidatlisteVisning"};const te="/api/stilling/opprett-stillingsinfo",ae=async s=>(await V(te,s)).json();function F(){const{stillingsData:s,refetch:a}=R(),{brukerData:t,valgtNavKontor:r}=K(),[l,n]=m.useState(!1),[x,I]=m.useState(!1),[k,p]=m.useState(!1),d=s.stilling.employer?.name||"Ukjent bedrift",u=s.stilling.employer?.orgnr,j=s.stilling.title,S=s.stilling.uuid,w=async()=>{n(!0);try{await ae({eierNavKontorEnhetId:r?.navKontor??"Ukjent Nav kontor",stillingsid:S,eierNavident:t.ident,eierNavn:t.navn})}catch(h){new E({message:"Feil under opprettelse av stillingsinfo",error:h})}finally{a?.(),n(!1),p(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"primary",size:"small",className:"my-2 h-5 w-full",onClick:()=>p(!0),children:"Bruk til rekrutteringsoppdrag"}),e.jsxs(c,{open:k,onClose:()=>p(!1),header:{heading:"Bruk annonsen til rekrutteringsoppdrag",closeButton:!0},width:"medium",children:[u?e.jsx(c.Body,{children:e.jsxs(b,{gap:"6",children:[e.jsx(i,{children:"Samarbeider du med en arbeidsgiver om å rekruttere, kan du bruke annonsen fra arbeidsplassen.no til det så slipper du å lage en ny annonsе."}),e.jsx(y.New,{background:"neutral-softA",className:" p-4 rounded-lg",children:e.jsxs(b,{gap:"2",children:[e.jsx(o,{size:"medium",level:"3",children:j}),e.jsx(o,{size:"small",level:"3",children:d}),e.jsxs(i,{size:"small",children:["Org.nr. ",u]})]})}),e.jsxs(b,{gap:"4",children:[e.jsx(o,{size:"small",level:"3",children:"Har du avtalt med arbeidsgiveren å bruke annonsen til rekruttering?"}),e.jsx(J,{checked:x,onChange:h=>I(h.target.checked),children:"Ja, vi har avtalt å bruke annonsen."})]}),e.jsxs(b,{gap:"4",children:[e.jsx(o,{size:"small",level:"3",children:"Hva som skjer"}),e.jsxs(b,{gap:"3",children:[e.jsxs(N,{gap:"3",align:"start",className:"items-start",children:[e.jsx(le,{className:"mt-1 flex-shrink-0"}),e.jsx(i,{className:"flex-1",children:"Du settes som eier av annonsen."})]}),e.jsxs(N,{gap:"3",align:"start",className:"items-start",children:[e.jsx(_,{className:"mt-1 flex-shrink-0"}),e.jsx(i,{className:"flex-1",children:"Nav-ansatte kan foreslå jobbsøkere til stillingen."})]}),e.jsxs(N,{gap:"3",align:"start",className:"items-start",children:[e.jsx(U,{className:"mt-1  flex-shrink-0"}),e.jsx(i,{className:"flex-1",children:"Du kan be jobbsøkere om samtykke til å dele CVen deres med arbeidsgiveren."})]}),e.jsxs(N,{gap:"3",align:"start",className:"items-start",children:[e.jsx($,{className:"mt-1 flex-shrink-0"}),e.jsx(i,{className:"flex-1",children:"Arbeidsgiveren får en oversikt over oppdraget og foreslåtte jobbsøkere på arbeidsgivers min-side (nav.no)."})]})]})]})]})}):e.jsx(c.Body,{children:e.jsxs(L,{variant:"error",children:[e.jsx(o,{spacing:!0,size:"small",level:"3",children:"Annonsen kan dessverre ikke brukes til oppdrag"}),e.jsx(i,{className:"mb-4",children:"For å kunne bruke annonsen til rekrutteringsoppdrag trenger den :"}),e.jsx("ul",{className:"list-disc list-inside mb-4",children:e.jsx("li",{children:"et gyldig organisasjonsnummer."})}),e.jsx(i,{children:"Har du et oppdrag med arbeidsgiveren kan du opprette en stillingsoppdrag selv her i Rekrutteringsbistand."})]})}),u?e.jsx(c.Footer,{children:e.jsxs(N,{gap:"4",children:[e.jsx(g,{variant:"secondary",onClick:()=>p(!1),children:"Avbryt"}),e.jsx(g,{loading:l,variant:"primary",onClick:w,disabled:!x,children:"Fullfør"})]})}):e.jsx(c.Footer,{children:e.jsx(g,{variant:"secondary",onClick:()=>p(!1),children:"Lukk"})})]})]})}F.__docgenInfo={description:"",methods:[],displayName:"OpprettStillingsoppdrag"};function ne(){const{stillingsData:s}=R(),a=s.stilling.employer?.orgnr,t=s.stillingsinfo!==null,r=e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsxs(y.New,{background:"neutral-soft",borderRadius:"large",padding:"3",children:[e.jsx(o,{size:"xsmall",level:"3",className:"mb-4",children:"Bruk til rekrutteringsoppdrag"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(i,{size:"small",children:"Du kan bruke annonsen til rekrutteringsoppdrag hvis du har avtalt det med arbeidsgiveren."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(i,{size:"small",children:"Ved å bruke til oppdrag vil den fungere som interne annonser."})]})]})]})]}),l=e.jsxs(y.New,{background:"brand-beige-moderate",borderRadius:"large",padding:"3",children:[e.jsx(o,{size:"xsmall",level:"3",className:"mb-4",children:"Annonsen mangler et gyldig organisasjonsnummer."}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(i,{size:"small",children:"Det gjør at den kan ikke brukes til rekrutteringsoppdrag."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(i,{size:"small",children:"Har du et oppdrag med arbeidsgiveren kan du opprette et stillingsoppdrag selv her i Rekrutteringsbistand."})]})]})]});return e.jsxs(W,{skjulVarsel:!0,kreverEnAvRollene:[M.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:[e.jsx(o,{size:"small",level:"2",children:"Hentet fra arbeidsplassen.no"}),e.jsxs(i,{size:"small",textColor:"subtle",children:["den ",q({dato:s.stilling.published})]}),e.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[t?e.jsx(T,{}):a?r:l,e.jsxs(y.New,{background:"neutral-soft",borderRadius:"large",padding:"3",children:[e.jsx(o,{size:"xsmall",level:"3",className:"mb-4",children:"Bruk til deling"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Y,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(i,{size:"small",children:"Du kan dele stillingen med folk i aktivitetsplanen via systemet, eller ved å kopiere delingslenken."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Z,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(i,{size:"small",children:"Personen søker selv, eller med litt hjelp."})]})]})]})]})]})}ne.__docgenInfo={description:"",methods:[],displayName:"FremdriftspanelArbeidsplassen"};export{ne as F,T as H,F as O};
