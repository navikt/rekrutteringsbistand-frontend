import{R as c,ax as ge,r as d,ay as me,ar as z,h as he,F as pe,az as ve,aA as we,aB as be,aC as ye,aD as xe,aE as Ae,aF as Ce,aG as Oe,aH as L}from"./iframe-DpIzbEh6.js";import{u as Pe}from"./Modal.context-BiOdcH09.js";import{a as Fe}from"./useControllableState-DSjvWJiE.js";import{u as Ee}from"./useClientLayoutEffect-BEllSSZA.js";import{u as Se}from"./useLatestRef-DZfpDuBf.js";const N=c[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],_e=N&&N!==d.useLayoutEffect?N:e=>e();function U(e){const o=ge(je).current;return o.next=e,_e(o.effect),o.trampoline}function je(){const e={next:void 0,callback:Re,trampoline:(...o)=>{var t;return(t=e.callback)===null||t===void 0?void 0:t.call(e,...o)},effect:()=>{e.callback=e.next}};return e}function Re(){}function ke(e,o=!1){const t=c.useRef(null),n=c.useRef(null),r=d.useCallback(()=>{for(const a of[t,n])a.current!==null&&(cancelAnimationFrame(a.current),a.current=null)},[]);return d.useEffect(()=>()=>r(),[r]),U((a,i=null)=>{if(r(),e==null)return;const s="current"in e?e.current:e;if(s!=null){if(typeof s.getAnimations!="function"||globalThis.AKSEL_ANIMATIONS_DISABLED){a();return}t.current=requestAnimationFrame(()=>{function f(){s&&Promise.allSettled(s.getAnimations().map(h=>h.finished)).then(()=>{i?.aborted||me.flushSync(a)})}o?n.current=requestAnimationFrame(f):f()})}})}function $e(e){const{enabled:o=!0,open:t,ref:n=null,onComplete:r}=e,a=Se(t),i=U(r),s=ke(n,t);d.useEffect(()=>{o&&s(()=>{t===a.current&&i()})},[o,t,i,s,a])}function Ne(e){return{name:"transformOrigin",options:e,fn(o){var t,n,r,a,i;const{placement:s,rects:f,middlewareData:h}=o,u=((t=h.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,_=u?0:e.arrowWidth,g=u?0:e.arrowHeight,[m,x]=q(s),w={start:"0%",center:"50%",end:"100%"}[x],C=((r=(n=h.arrow)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0)+_/2,O=((i=(a=h.arrow)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0)+g/2;let l="",p="";return m==="bottom"?(l=u?w:`${C}px`,p=`${-g}px`):m==="top"?(l=u?w:`${C}px`,p=`${f.floating.height+g}px`):m==="right"?(l=`${-g}px`,p=u?w:`${O}px`):m==="left"&&(l=`${f.floating.width+g}px`,p=u?w:`${O}px`),{data:{x:l,y:p}}}}}function q(e){const[o,t="center"]=e.split("-");return[o,t]}var T=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};const[Ie,G]=z({name:"FloatingContext",hookName:"useFloating",providerName:"FloatingProvider"}),K=({children:e})=>{const[o,t]=d.useState(null);return c.createElement(Ie,{anchor:o,onAnchorChange:t},e)},De=d.forwardRef((e,o)=>{var{virtualRef:t,asChild:n}=e,r=T(e,["virtualRef","asChild"]);const a=G(),i=d.useRef(null),s=he(o,i);d.useEffect(()=>{a.onAnchorChange(t?.current||i.current)});const f=n?pe:"div";return t?null:c.createElement(f,Object.assign({ref:s},r))}),We={top:"bottom",right:"left",bottom:"top",left:"right"},He=({width:e,height:o,className:t})=>{const n=Me(),r=We[n.placedSide];return c.createElement("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.hideArrow?"hidden":void 0},"aria-hidden":!0},c.createElement("svg",{className:t,width:e,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",style:{display:"block"}},c.createElement("polygon",{points:"0,0 30,0 15,10"})))},[Be,Me]=z({name:"FloatingContentContext",hookName:"useFloatingContentContext",providerName:"FloatingContentProvider"}),Ye=d.forwardRef((e,o)=>{var t,n,r,a,i,s,{children:f,side:h="bottom",sideOffset:I=0,align:u="center",alignOffset:_=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:x=0,hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:O,arrow:l,fallbackPlacements:p,enabled:P=!0,autoUpdateWhileMounted:j=!0}=e,D=T(e,["children","side","sideOffset","align","alignOffset","avoidCollisions","collisionBoundary","collisionPadding","hideWhenDetached","updatePositionStrategy","onPlaced","arrow","fallbackPlacements","enabled","autoUpdateWhileMounted"]);const J=G(),b=Pe(!1),R=Object.assign({padding:5,width:0,height:0},l),[W,Q]=d.useState(null),V=R.width,H=R.height,Z=h+(u!=="center"?"-"+u:""),ee=typeof x=="number"?x:Object.assign({top:0,right:0,bottom:0,left:0},x),B=Array.isArray(m)?m:[m],te=B.length>0;function ne(v){return v!==null}const k={padding:ee,boundary:B.filter(ne),altBoundary:te,fallbackAxisSideDirection:"end",fallbackPlacements:p},{refs:oe,floatingStyles:M,placement:re,isPositioned:F,middlewareData:y,elements:A,update:$}=ve({open:P,strategy:"fixed",placement:Z,whileElementsMounted:j?(...v)=>L(...v,{animationFrame:C==="always"}):void 0,elements:{reference:J.anchor},middleware:[we({mainAxis:I+H,alignmentAxis:_}),g&&be({mainAxis:!0,crossAxis:!1,limiter:Oe()}),g&&ye(Object.assign({},k)),xe(Object.assign(Object.assign({},k),{apply:({elements:v,rects:X,availableWidth:ce,availableHeight:de})=>{const{width:fe,height:ue}=X.reference,S=v.floating.style;S.setProperty("--ac-floating-available-width",`${ce}px`),S.setProperty("--ac-floating-available-height",`${de}px`),S.setProperty("--ac-floating-anchor-width",`${fe}px`),S.setProperty("--ac-floating-anchor-height",`${ue}px`)}})),W&&Ae({element:W,padding:R.padding}),Ne({arrowWidth:V,arrowHeight:H}),w&&Ce(Object.assign({strategy:"referenceHidden"},k))]});d.useEffect(()=>{if(!(j||!P)&&A.reference&&A.floating){const v=L(A.reference,A.floating,$);return()=>{v()}}},[j,P,A,$]),$e({enabled:!!b?.ref,open:P,ref:b?.ref,onComplete:$});const[Y,ae]=q(re),E=Fe(O);Ee(()=>{F&&E?.()},[F,E]);const ie=(t=y.arrow)===null||t===void 0?void 0:t.x,le=(n=y.arrow)===null||n===void 0?void 0:n.y,se=((r=y.arrow)===null||r===void 0?void 0:r.centerOffset)!==0;return c.createElement("div",{ref:oe.setFloating,"data-aksel-floating-content-wrapper":"",style:Object.assign(Object.assign({},M),{transform:F?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:"9999999","--ac-floating-transform-origin":[(a=y.transformOrigin)===null||a===void 0?void 0:a.x,(i=y.transformOrigin)===null||i===void 0?void 0:i.y].join(" ")}),dir:"ltr"},c.createElement(Be,{placedSide:Y,onArrowChange:Q,arrowX:ie,arrowY:le,hideArrow:se},c.createElement("div",Object.assign({ref:o,"data-side":Y,"data-align":ae},D,{style:Object.assign(Object.assign({},D.style),{animation:F?void 0:"none",opacity:!((s=y.hide)===null||s===void 0)&&s.referenceHidden?0:void 0})}),f,l?.height&&l?.width&&c.createElement(He,{width:l.width,height:l.height,className:l.className}))))});K.Anchor=De;K.Content=Ye;export{K as F};
