import{r,cY as m,j as s,ai as p,e as b}from"./iframe-vr_vckGk.js";import{S as x}from"./PersonChat-D-oi4X19.js";import{P as f}from"./Popover-DyiXONVJ.js";const w=()=>{const i=r.useRef(null),t=r.useRef(null),[e,o]=r.useState(!1),[l,c]=r.useState(!1),{open:u}=m();return r.useEffect(()=>{if(!t.current||!e){c(!1);return}const d=()=>{const n=t.current;return!!(n&&n.shadowRoot&&n.shadowRoot.childElementCount>0)},h=setTimeout(()=>{!d()&&e&&o(!1),c(!0)},250),a=new MutationObserver(()=>{l&&!d()&&e&&(o(!1),window.location.reload())});return t.current&&(a.observe(t.current,{childList:!0,subtree:!0,attributes:!0}),t.current.shadowRoot&&a.observe(t.current.shadowRoot,{childList:!0,subtree:!0})),()=>{clearTimeout(h),a.disconnect()}},[e,l]),s.jsxs(s.Fragment,{children:[s.jsx(b,{size:"small",ref:i,onClick:()=>o(!e),"aria-expanded":e,variant:"tertiary-neutral",icon:s.jsx(x,{}),className:u?"w-full text-left justify-start":"",children:u&&"Gi tilbakemelding"}),e&&p.createPortal(s.jsx(f,{open:e,onClose:()=>o(!1),anchorEl:i.current,children:s.jsx(f.Content,{className:"w-[360px]",children:s.jsx("skyra-survey",{ref:t,className:"w-full h-full",slug:"arbeids-og-velferdsetaten-nav/oversikt"})})}),document.body)]})};w.__docgenInfo={description:"",methods:[],displayName:"GiTilbakemelding"};export{w as G};
