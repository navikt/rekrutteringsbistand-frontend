import{a as F}from"./floating-ui.react-DgvfWY97.js";import{r as d,p as _,R as l,v as M,_ as $,aG as k,az as L,aB as z,aA as A,aD as B}from"./iframe-DUIlOHDN.js";import{u as G}from"./Date.Input-CLKoA6_E.js";import{u as T}from"./Modal.context-Cu402-Eo.js";import{D as U}from"./DismissableLayer-DsBtdNSu.js";import{u as x}from"./useClientLayoutEffect-Bhjp9e8S.js";var X=function(r,a){var n={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&a.indexOf(e)<0&&(n[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)a.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(n[e[t]]=r[e[t]]);return n};const Y=d.forwardRef((r,a)=>{var{className:n}=r,e=X(r,["className"]);const{cn:t}=_();return l.createElement("div",Object.assign({},e,{ref:a,className:t("navds-popover__content",n)}))});var Z=function(r,a){var n={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&a.indexOf(e)<0&&(n[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)a.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(n[e[t]]=r[e[t]]);return n};const q=d.forwardRef((r,a)=>{var{className:n,children:e,anchorEl:t,arrow:u=!0,open:s,onClose:c,placement:C="top",offset:f,strategy:i,flip:P=!0}=r,m=Z(r,["className","children","anchorEl","arrow","open","onClose","placement","offset","strategy","flip"]);const{cn:g}=_(),y=d.useRef(null),E=T(!1)!==void 0,R=G(!1),S=i??(E?"fixed":"absolute"),N=R?!1:P,b=M(!1),{update:v,refs:o,placement:O,middlewareData:{arrow:{x:h,y:w}={}},floatingStyles:D}=F({strategy:S,placement:C,open:s,middleware:[L(f??(b?8:u?16:4)),N&&z({padding:5,fallbackPlacements:["bottom","top"]}),A({padding:12}),B({element:y,padding:8})]});x(()=>{o.setReference(t)},[t]);const I=$(o.setFloating,a);x(()=>{if(!o.reference.current||!o.floating.current||!s)return;const p=k(o.reference.current,o.floating.current,v);return()=>p()},[o.floating,o.reference,v,s,t]);const j={top:"bottom",right:"left",bottom:"top",left:"right"}[O.split("-")[0]];return l.createElement(U,{asChild:!0,safeZone:{anchor:t,dismissable:o.floating.current},onDismiss:()=>s&&c?.(),enabled:s},l.createElement("div",Object.assign({ref:I},m,{className:g("navds-popover",n,{"navds-popover--hidden":!s||!t}),style:Object.assign(Object.assign({},m.style),D),"data-placement":O,"aria-hidden":!s||!t}),e,u&&!b&&l.createElement("div",{ref:p=>{y.current=p},style:Object.assign(Object.assign(Object.assign({},h!=null?{left:h}:{}),w!=null?{top:w}:{}),j?{[j]:"-0.5rem"}:{}),className:g("navds-popover__arrow")})))});q.Content=Y;export{q as P};
