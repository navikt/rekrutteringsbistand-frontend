import{r as o,m as v,j as s,B as c,e as j}from"./iframe-CGQVJkZv.js";import{s as x}from"./util-TyBsJmZS.js";import{u as k}from"./KandidatContext-ezRnioER.js";import{g as y,M as O}from"./miljø-Cn9pyrta.js";var w=function(e,i){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)i.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const S=o.forwardRef((e,i)=>{var{title:r,titleId:t}=e,a=w(e,["title","titleId"]);let d=v();return d=r?t||"title-"+d:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:i,"aria-labelledby":d},a),r?o.createElement("title",{id:d},r):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.532 3.471A.75.75 0 0 1 20.75 4v7.5a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H12.5a.75.75 0 0 1 0-1.5H20c.206 0 .393.083.529.218l.001.002zM4.75 9A.25.25 0 0 1 5 8.75h7a.75.75 0 0 0 0-1.5H5A1.75 1.75 0 0 0 3.25 9v10c0 .966.784 1.75 1.75 1.75h10A1.75 1.75 0 0 0 16.75 19v-7a.75.75 0 0 0-1.5 0v7a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25z",clipRule:"evenodd"}))}),_=y()===O.ProdGcp?"https://veilarbpersonflate.intern.nav.no":"https://veilarbpersonflate.intern.dev.nav.no",E=`${_}/dialog`;function M(){const{kandidatData:e}=k(),[i,r]=o.useState(!1),[t,a]=o.useState(0),[d,h]=o.useState([]),f=(e?.geografiJobbonsker?.length??0)>0,m=(e?.yrkeJobbonskerObj?.length??0)>0,p=(e?.kompetanseObj?.length??0)>0,u=e?.kommuneNavn!==null,g=(e?.sprak?.length??0)>0,b=async n=>{r(!0),await x(E,n),r(!1)};return o.useEffect(()=>{if(e){let n=0;const l=[];f?n+=20:l.push("Ønsket jobbsted"),m?n+=20:l.push("Jobbønske"),p?n+=20:l.push("Kompetanse"),g?n+=20:l.push("Språk"),u?n+=20:l.push("Bosted"),a(n),h(l)}},[e,f,m,p,g,u]),s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 flex h-2 w-full",children:[...Array(5)].map((n,l)=>s.jsx("div",{className:`mr-0.5 flex-1 rounded-sm last:mr-0 ${l*20<t?"bg-blue-500":"bg-gray-200"}`},l))}),t===100?s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"mt-1",children:"✓"}),s.jsx(c,{children:"Kandidaten har fullført profilen sin. Det øker sjansen for at de finner en jobb som passer."})]}):s.jsxs(s.Fragment,{children:[s.jsxs(c,{spacing:!0,children:["Hør om kandidaten kan ",t<60?"dele":"oppgi",": "]}),s.jsx("ul",{children:d.map(n=>s.jsxs("li",{children:["- ",n]},n))}),s.jsx("br",{}),s.jsx(c,{spacing:!0,children:"Det øker sjansen for at de finner en jobb som passer."}),s.jsx(j,{loading:i,disabled:!e.fodselsnummer,onClick:()=>e.fodselsnummer&&b(e.fodselsnummer),variant:"secondary",className:"mt-4 w-full",icon:s.jsx(S,{}),children:"Gå til dialogen i Modia"})]})]})}M.__docgenInfo={description:"",methods:[],displayName:"Profilkvalitet"};export{M as P};
