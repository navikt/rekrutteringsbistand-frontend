import{r as x,f as E,u as I,c as R,hd as w,gQ as L,j as e,L as K,B as _,e as b,R as D,H as A}from"./iframe-DUxtTNxK.js";import{l as B}from"./leggTilKandidat-k_AXCTFo.js";import{a as S}from"./StillingsContext-DwxaThtx.js";import{F as P,L as H}from"./LeggTilKandidatTilStilling-CNM_aWO2.js";import{v as C,V as u}from"./stillingInfoUtil-C2V4vZ-Z.js";import{T as $}from"./TilgangskontrollForInnhold-W-EIz6hs.js";import{U as F}from"./umamiEvents-BDpRy9-M.js";import{B as U}from"./Box-Cboms74W.js";import{S as V}from"./ArrowRight-Crh7Bvmc.js";import{O as M,K as W}from"./OmStillingBoks-B1mEByaN.js";import{K as G}from"./schema.zod-BcVu7MdB.js";import{O as z}from"./OmAnnonsen-CZ7Mg6wx.js";import{O as q}from"./OmBedriften-BNCUrEMc.js";import{T as f}from"./TekstMedIkon-DMjL_bYx.js";import{V as J}from"./VisEditorTekst-D2NPfj8z.js";import{f as y}from"./util-B3kSclT_.js";import{S as Q}from"./LocationPin-CqwfGdYC.js";import{S as X}from"./Clock-D_ghofxU.js";import{S as Y}from"./Calendar-vRZG72bU.js";import{S as Z}from"./TimerStart-CDfY-khB.js";import{S as ee}from"./StillingsTag-DrZ6LTx3.js";import{S as te}from"./StillingInkludering-B9dnPyW1.js";import{a as se,d as ie}from"./mocks-CBuYxMwl.js";import"./preload-helper-BWMAHTUm.js";import"./index-BB9gl3jm.js";import"./index-0HEPybu3.js";import"./stillingMock-BrGQ3Dix.js";import"./chunk-RHFAIXC4-CteuV83n.js";import"./stilling.dto-Bw9Mbzio.js";import"./SWRLaster-ahx2Fy0D.js";import"./Feilmelding-BvwgHkOs.js";import"./CopyButton-mlBszqul.js";import"./Checkmark-3br_GopI.js";import"./Sidelaster-Cl1Akhnj.js";import"./LenkeKortMedIkon-6lXZmlAl.js";import"./LeggTilKandidater-B3MXPfsg.js";import"./index-FAu4VCGm.js";import"./Modal-DyHa_SWt.js";import"./floating-ui.react-B3fQZbcy.js";import"./Date.Input-Vql_antk.js";import"./useFormField-QnfnlfxN.js";import"./useControllableState-BZbvvCv1.js";import"./ChevronDown-D9_c06q4.js";import"./match-tiuZ8ZDo.js";import"./Modal.context-DCuskc3o.js";import"./kandidat.mock-F3wnuv6n.js";import"./innsatsgrupper-BqldBv0r.js";import"./TextField-CWkQ5L8C.js";import"./Tag-CGXWCvcz.js";import"./CheckmarkCircle-CwMdng02.js";import"./PlusCircle-CC72zCDr.js";import"./stilling-typer-DLlwa7NU.js";import"./startOfDay-lTP3GKUn.js";import"./ErrorBoundary-CgpCiwMU.js";import"./Link-CRlAhKkl.js";import"./BasePrimitive-B-03YwKR.js";import"./KandidatTyper-CkRsvxsW.js";import"./Definisjon-DjvaLNw2.js";import"./stilling-util-BjBixF7p.js";import"./format-Co7MPrtN.js";import"./parseISO-DJIM71K9.js";import"./parse-B-xC80nj.js";import"./getDefaultOptions-QtkovLFY.js";import"./RekrutteringstreffContext-CgxDvbBy.js";var re=function(t,i){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)i.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};const ne=x.forwardRef((t,i)=>{var{title:r,titleId:s}=t,n=re(t,["title","titleId"]);let a=E();return a=r?s||"title-"+a:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:i,"aria-labelledby":a},n),r?x.createElement("title",{id:a},r):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.25a.75.75 0 0 0 0 1.5h.315c.109 1.966.642 3.846 1.546 5.302.502.81 1.116 1.479 1.81 1.948-.694.47-1.308 1.138-1.81 1.948-.904 1.456-1.437 3.336-1.546 5.302H6a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5h-.298c-.109-1.966-.643-3.846-1.546-5.302-.503-.81-1.116-1.479-1.81-1.948.694-.47 1.307-1.138 1.81-1.948.904-1.456 1.437-3.336 1.546-5.302H18a.75.75 0 0 0 0-1.5zm6.008 8c.972 0 2.027-.624 2.873-1.989.738-1.189 1.211-2.785 1.318-4.511H7.818c.107 1.726.58 3.322 1.318 4.511.846 1.365 1.901 1.989 2.872 1.989m0 1.5c-.971 0-2.026.624-2.872 1.989-.738 1.189-1.211 2.784-1.318 4.511h8.381c-.107-1.727-.58-3.322-1.318-4.511-.846-1.365-1.901-1.989-2.873-1.989",clipRule:"evenodd"}))});function v(){const{stillingsData:t,erEier:i}=S(),{visVarsel:r}=I(),{track:s}=R(),n=C(t),[a,o]=x.useState(!1),l=w(),d=L(),p=l.get("finnStilling")!==null,c=(()=>{if(!d)return null;const g=d.split("/").filter(Boolean),k=g.indexOf("kandidat");return k!==-1&&g.length>k+1&&g[k+1]||null})(),m=async g=>{s(F.Stilling.forslag_til_stilling_legg_til_kandidat),o(!0);try{await B([g],t.stilling.uuid),r({tekst:"Kandidat er lagt til i kandidatliste",type:"success"})}catch{r({tekst:"Kandidat kunne ikke legges til i kandidatliste",type:"error"})}finally{o(!1)}};return p&&c?e.jsxs(U.New,{background:"neutral-softA",borderRadius:"xlarge",paddingInline:"space-16",paddingBlock:"space-12",role:"button",tabIndex:0,"aria-label":"Legg til jobbsøkere. Velg og legg til jobbsøkere i stillingen.",className:"group flex items-start justify-between gap-4 cursor-pointer outline-none focus:ring-2 focus:ring-focus focus:ring-offset-2",onClick:()=>!a&&m(c),"aria-busy":a||void 0,children:[a?e.jsx(K,{}):e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("span",{className:"text-xl leading-none mt-0.5",children:"➕"}),e.jsx("div",{className:"flex flex-col",children:e.jsx(_,{spacing:!0,className:"m-0",children:"Legg jobbsøker til stillingen"})})]}),e.jsx(V,{"aria-hidden":!0,className:"transition-transform group-hover:translate-x-1 mt-1"})]}):n.visningsStatus===u.Slettet||n.visningsStatus===u.Fullfort||n.visningsStatus===u.IkkePublisert||!i&&(n.visningsStatus===u.StengtForSokere||n.visningsStatus===u.UtloptStengtForSokere)?null:e.jsx($,{skjulVarsel:!0,kreverEnAvRollene:[b.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,b.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:e.jsx("div",{className:"@container/kandidat-knapper",children:e.jsxs("div",{className:"grid grid-cols-1 @3xl:grid-cols-2 gap-4 mb-6",children:[e.jsx(P,{stillingId:t.stilling.uuid}),e.jsx(H,{stillingsId:t.stilling.uuid,stillingsTittel:t.stilling.title})]})})})}v.__docgenInfo={description:"",methods:[],displayName:"KandidatKnapper"};function ae(t){const i=[];if(!t)return"";if(t.postalCode){let s=t.address?`${t.address}, `:"";s+=`${t.postalCode} ${h(t.city??"")}`,i.push(s)}else t.municipal?i.push(h(t.municipal)):t.county?i.push(h(t.county)):t.country&&i.push(h(t.country));return i.join(", ")}function oe(t){const i=[];return t?(t.forEach(s=>{i.push(ae(s))}),i.join(", ")):""}function h(t){const i=[" ","-","("],r=["i","og"];if(t){let s=t.toLowerCase();for(let n=0,a=i.length;n<a;n+=1){const o=s.split(i[n]);for(let l=0,d=o.length;l<d;l+=1)r.includes(o[l])||(o[l]=(o[l][0]||"").toUpperCase()+o[l].substr(1));s=o.join(i[n])}return s}return t}const N=t=>{if(!t)return"";const i=t.trim();if(i.startsWith("[")&&i.endsWith("]"))try{const r=JSON.parse(i);if(Array.isArray(r))return r.filter(Boolean).join(" ")}catch(r){new D({message:"Feil ved parseWorktime",error:r,details:`worktime=${t}`,skjulLogger:!0})}return t};function T({printRef:t,forhåndsvisData:i}){const{stillingsData:r,kandidatlisteInfo:s}=S(),n=oe(r.stilling.locationList),{engagementtype:a,extent:o,workday:l,workhours:d,applicationdue:p,starttime:c}=r.stilling.properties;return e.jsxs("div",{"data-testid":"om-stillingen",children:[!i&&s?.kandidatlisteId&&s.kandidatlisteStatus!==G.Lukket&&e.jsx(v,{}),e.jsx("div",{className:"flex flex-col gap-x-[3.5rem] gap-y-8 md:flex-row",children:e.jsx("div",{className:"w-full",id:"print-content",ref:t,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(M,{tittel:"Om jobben",innholdTopp:!0,innhold:e.jsx(J,{htmlTekst:r.stilling.properties?.adtext}),gridInnhold:e.jsxs(e.Fragment,{children:[e.jsx(f,{tekst:n??"-",ikon:e.jsx(Q,{})}),e.jsx(f,{tekst:`${a??"-"} ${o?`- ${o}`:""}`,ikon:e.jsx(X,{})}),e.jsx(f,{tekst:`${l?N(l):"-"} ${d?`- ${N(d)}`:""}`,ikon:e.jsx(Y,{})}),e.jsx(f,{tekst:`Søknadsfrist ${p?(()=>{const m=y({dato:p});return m||p.toLowerCase()})():"-"}`,ikon:e.jsx(ne,{})}),e.jsx(f,{tekst:`Oppstart ${c?(()=>{const m=y({dato:c});return m||c.toLowerCase()})():"-"}`,ikon:e.jsx(Z,{})})]})}),e.jsx("hr",{className:"border-gray-200 pb-8"}),e.jsx(q,{}),e.jsx("hr",{className:"border-gray-200 pb-8"}),e.jsx(z,{})]})})})]})}T.__docgenInfo={description:"",methods:[],displayName:"OmStillingen",props:{forhåndsvisData:{required:!1,tsType:{name:"boolean"},description:""},printRef:{required:!0,tsType:{name:"union",raw:"RefObject<HTMLDivElement | null> | null",elements:[{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"RefObject<HTMLDivElement | null>"},{name:"null"}]},description:""}}};function O(){const{stillingsData:t}=S();return e.jsxs("div",{className:"py-5",children:[e.jsx(A,{size:"large",children:t.stilling.title??""}),e.jsx(ee,{stillingsData:t,rad:!0})]})}O.__docgenInfo={description:"",methods:[],displayName:"OmStillingenHeader"};const kt={tags:["autodocs"],render:()=>e.jsx(se,{children:e.jsxs("div",{className:"space-y-10 opacity-60 pointer-events-none",children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Header"}),e.jsx(O,{})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"OmStillingen"}),e.jsx(T,{printRef:ie})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Kontaktpersoner"}),e.jsx(W,{})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"KandidatKnapper"}),e.jsx(v,{})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"StillingInkludering"}),e.jsx(te,{})]})]})})},j={};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:"{}",...j.parameters?.docs?.source}}};export{j as Oversikt,kt as default};
