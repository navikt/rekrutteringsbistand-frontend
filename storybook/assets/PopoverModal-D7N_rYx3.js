import{r as i,cO as m,cq as k,j as n,cP as D,cr as I,cs as H,cu as A,ct as O,cv as P,cQ as _,cx as q,cR as L,cS as G,cw as K,cT as W,cU as z,cV as B,cW as U,cX as V,H as X,ah as Q}from"./iframe-Ck33ggOC.js";import{B as Z}from"./Box-BIT0Fl97.js";var C="Popover",[w]=I(C,[m]),h=m(),[J,u]=w(C),j=e=>{const{__scopePopover:s,children:t,open:a,defaultOpen:o,onOpenChange:r,modal:c=!1}=e,p=h(s),f=i.useRef(null),[v,g]=i.useState(!1),[x,l]=k({prop:a,defaultProp:o??!1,onChange:r,caller:C});return n.jsx(D,{...p,children:n.jsx(J,{scope:s,contentId:H(),triggerRef:f,open:x,onOpenChange:l,onOpenToggle:i.useCallback(()=>l(R=>!R),[l]),hasCustomAnchor:v,onCustomAnchorAdd:i.useCallback(()=>g(!0),[]),onCustomAnchorRemove:i.useCallback(()=>g(!1),[]),modal:c,children:t})})};j.displayName=C;var b="PopoverAnchor",Y=i.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,o=u(b,t),r=h(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:p}=o;return i.useEffect(()=>(c(),()=>p()),[c,p]),n.jsx(_,{...r,...a,ref:s})});Y.displayName=b;var N="PopoverTrigger",E=i.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,o=u(N,t),r=h(t),c=A(s,o.triggerRef),p=n.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":T(o.open),...a,ref:c,onClick:P(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?p:n.jsx(_,{asChild:!0,...r,children:p})});E.displayName=N;var $="PopoverPortal",[pe,ee]=w($,{forceMount:void 0}),d="PopoverContent",y=i.forwardRef((e,s)=>{const t=ee(d,e.__scopePopover),{forceMount:a=t.forceMount,...o}=e,r=u(d,e.__scopePopover);return n.jsx(q,{present:a||r.open,children:r.modal?n.jsx(re,{...o,ref:s}):n.jsx(te,{...o,ref:s})})});y.displayName=d;var oe=K("PopoverContent.RemoveScroll"),re=i.forwardRef((e,s)=>{const t=u(d,e.__scopePopover),a=i.useRef(null),o=A(s,a),r=i.useRef(!1);return i.useEffect(()=>{const c=a.current;if(c)return L(c)},[]),n.jsx(G,{as:oe,allowPinchZoom:!0,children:n.jsx(S,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,c=>{c.preventDefault(),r.current||t.triggerRef.current?.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,c=>{const p=c.detail.originalEvent,f=p.button===0&&p.ctrlKey===!0,v=p.button===2||f;r.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),te=i.forwardRef((e,s)=>{const t=u(d,e.__scopePopover),a=i.useRef(!1),o=i.useRef(!1);return n.jsx(S,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{e.onCloseAutoFocus?.(r),r.defaultPrevented||(a.current||t.triggerRef.current?.focus(),r.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:r=>{e.onInteractOutside?.(r),r.defaultPrevented||(a.current=!0,r.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=r.target;t.triggerRef.current?.contains(c)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&o.current&&r.preventDefault()}})}),S=i.forwardRef((e,s)=>{const{__scopePopover:t,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:r,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:v,onInteractOutside:g,...x}=e,l=u(d,t),R=h(t);return W(),n.jsx(z,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:r,children:n.jsx(B,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:v,onDismiss:()=>l.onOpenChange(!1),children:n.jsx(U,{"data-state":T(l.open),role:"dialog",id:l.contentId,...R,...x,ref:s,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),F="PopoverClose",M=i.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,o=u(F,t);return n.jsx(O.button,{type:"button",...a,ref:s,onClick:P(e.onClick,()=>o.onOpenChange(!1))})});M.displayName=F;var ne="PopoverArrow",se=i.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,o=h(t);return n.jsx(V,{...o,...a,ref:s})});se.displayName=ne;function T(e){return e?"open":"closed"}function ae({åpneKnapp:e,children:s,tittel:t}){return n.jsxs(j,{modal:!0,children:[n.jsx(E,{asChild:!0,children:e}),n.jsx(y,{side:"bottom",align:"start",className:"z-999",children:n.jsxs(Z.New,{background:"raised",borderRadius:"12",padding:"5",shadow:"dialog",borderColor:"neutral-subtle",borderWidth:"1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(X,{level:"3",size:"small",children:t}),n.jsx(M,{children:n.jsx(Q,{})})]}),s]})})]})}ae.__docgenInfo={description:"",methods:[],displayName:"PopoverModal",props:{tittel:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},åpneKnapp:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};export{ae as P,j as a,E as b,y as c,M as d};
