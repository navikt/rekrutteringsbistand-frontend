import{r as R,h as U,c1 as w,j as e,S as q,u as z,R as x,e as j}from"./iframe-BltkUtmC.js";import{u as T,a as i}from"./KandidaSokFilterContext-ApSCq_QI.js";import{u as H}from"./KandidatSøkMarkerteContext-Dsx2O0i3.js";import{K as J}from"./KandidatKort-BNhtU2Ze.js";import{L as Y}from"./LagreIKandidatlisteButton-B0mys88a.js";import{L as W}from"./LagreIRekrutteringstreffButton-8X-a1iid.js";import{R as Q}from"./RekrutteringstreffFeatureToggle-CAy6ULKd.js";import{S as _}from"./SideScroll-kRtIlIj7.js";import{S as X}from"./SkeletonKort-BVEr9E7B.js";import{C as u,a as Z}from"./Checkbox-XtnRdGMm.js";import{P as $}from"./Pagination-D_wX4eee.js";import{V as ee}from"./ValgteKontorer-BBvRZCF3.js";import{b as A,A as S,c as y,K as I,F as V,S as b,a as B,U as P,P as L,I as M}from"./Utdanningsnivå-BnL225MZ.js";import{A as re}from"./AlleFilterKomponent-zw0EJFDj.js";import{V as se}from"./ValgteFiltre-CC4vp376.js";import{T as g}from"./TilgangskontrollForInnhold-B6njUK_I.js";const te=R.createContext(void 0),ie=()=>{const r=R.useContext(te);if(!r)throw new U({message:"useKandidatNavigering must be used within a KandidatNavigeringProvider"});return r},O=({type:r,stillingsId:n,rekrutteringstreffId:l,alleredeLagtTilTreff:s,alleredeLagtTilKandidatliste:t})=>{const d=T(),p=w(r,d),{setKandidatNavigering:f}=ie(),o=R.useRef(null);R.useEffect(()=>{f(p.data?.navigering.kandidatnumre??[])},[p.data?.navigering,f]);const{markerteKandidater:c,setMarkertListe:h,fjernMarkerteKandidater:K}=H();return e.jsx(q,{hooks:[p],skeleton:e.jsx("div",{className:"mt-14",children:e.jsx(X,{})}),children:a=>{const k=Math.ceil(a.antallTotalt/25),C=k>390?390:k,F=()=>{if(c&&c.length==a.kandidater.length)K();else if(a.kandidater){const E=a.kandidater.map(m=>m.arenaKandidatnr).filter(m=>m!=null&&m!=="");h(E)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:o,className:"flex items-center justify-between",children:[e.jsx("div",{className:"ml-5",children:e.jsx(u,{checked:c&&c.length>0&&c.length===a.kandidater.length,onClick:F,children:"Marker alle på siden"})}),e.jsxs("div",{className:"flex flex-row gap-2",children:[!l&&e.jsx(Y,{stillingsId:n}),e.jsx(Q,{children:!n&&e.jsx(W,{rekrutteringstreffId:l,kandidatsokKandidater:a.kandidater})})]})]}),e.jsxs(_,{children:[e.jsx("div",{className:"flex flex-col gap-1 pt-2",children:a.kandidater?.map((E,m)=>e.jsx(J,{stillingsId:n,alleredeLagtTil:t??s,kandidat:E},E.arenaKandidatnr||m))}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:["Viser ",a.antallTotalt," treff"]}),k>1&&e.jsx($,{className:"my-4 flex justify-center",size:"medium",page:d.side,onPageChange:d.setSide,count:C})]})]})]})}})};O.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkResultat",props:{type:{required:!0,tsType:{name:"KandidatSøkPortefølje"},description:""},stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};var v=(function(r){return r.SkaffeArbeid="SKAFFE_ARBEID",r.BeholdeArbeid="BEHOLDE_ARBEID",r.ØkeDeltagelse="OKE_DELTAKELSE",r})({});function N(){const{hovedmål:r,setHovedmål:n}=T(),l=s=>{n(s)};return e.jsxs(Z,{size:"small",legend:"Velg kandidatens mål",value:r,onChange:l,children:[e.jsx(u,{value:"SKAFFE_ARBEID",children:"Skaffe arbeid"}),e.jsx(u,{value:"BEHOLDE_ARBEID",children:"Beholde arbeid"}),e.jsx(u,{value:"OKE_DELTAKELSE",children:"Øke deltagelse eller mål om arbeid"})]})}N.__docgenInfo={description:"",methods:[],displayName:"Hovedmål"};function G(){return e.jsx("div",{className:"flex gap-4 ",children:e.jsx("div",{className:"block @[720px]:hidden",children:e.jsx("div",{className:"whitespace-nowrap",children:e.jsxs(re,{children:[e.jsx(A,{}),e.jsx(S,{}),e.jsx(y,{}),e.jsx(I,{}),e.jsx(V,{}),e.jsx(b,{}),e.jsx(B,{})," ",e.jsx(N,{})," ",e.jsx(P,{}),e.jsx(L,{}),e.jsx(M,{})]})})})})}G.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkFilter"};function D(){const r=T(),n=Object.values(r).some(s=>Array.isArray(s)&&s.length>0),l=[{type:r.ønsketYrke,setVerdi:r.setØnsketYrke},{type:r.ønsketSted,setVerdi:r.setØnsketSted},{type:r.innsatsgruppe,setVerdi:r.setInnsatsgruppe},{type:r.hovedmål,setVerdi:r.setHovedmål,mapVerdiNavn:s=>Object.keys(v).find(t=>v[t]===s)||s},{type:r.kompetanse,setVerdi:r.setKompetanse},{type:r.førerkort,setVerdi:r.setFørerkort},{type:r.språk,setVerdi:r.setSpråk},{type:r.arbeidserfaring,setVerdi:r.setArbeidserfaring},{type:r.utdanningsnivå,setVerdi:r.setUtdanningsnivå},{type:r.prioritertMålgruppe,setVerdi:r.setPrioritertMålgruppe}];return r.fritekst&&l.unshift({type:[r.fritekst],setVerdi:()=>r.setFritekst("")}),e.jsx("div",{className:"my-2 w-full",children:e.jsx(se,{filtre:l,tømFiltreProps:n?{fjernFritekst:()=>r.setFritekst("")}:void 0})})}D.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkChips"};const ae=({stillingsId:r,rekrutteringstreffId:n,alleredeLagtTilTreff:l,alleredeLagtTilKandidatliste:s})=>{const{portefølje:t,setPortefølje:d}=T(),{valgtNavKontor:p,brukerData:f}=z(),o="tab-ellipsis",c=()=>e.jsx(j,{variant:t===i.MINE_BRUKERE?"primary":"tertiary",onClick:()=>d(i.MINE_BRUKERE),size:"xsmall",className:o,title:"Mine brukere","aria-label":"Mine brukere",children:"Mine"}),h=()=>p?e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,x.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:e.jsx(j,{variant:t===i.MITT_KONTOR?"primary":"tertiary",onClick:()=>d(i.MITT_KONTOR),size:"xsmall",className:o,title:"Mitt kontor","aria-label":"Mitt kontor",children:"Mitt kontor"})}):null,K=()=>f?.enheter&&f.enheter.length>1?e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,x.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:e.jsx(j,{variant:t===i.MINE_KONTORER?"primary":"tertiary",onClick:()=>d(i.MINE_KONTORER),size:"xsmall",className:o,title:"Mine kontorer","aria-label":"Mine kontorer",children:"Mine kontorer"})}):null,a=()=>e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(j,{variant:t===i.ALLE?"primary":"tertiary",onClick:()=>d(i.ALLE),size:"xsmall",className:o,title:"Alle kontorer","aria-label":"Alle kontorer",children:"Alle"})}),k=()=>e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(j,{variant:t===i.VALGTE_KONTORER?"primary":"tertiary",onClick:()=>d(i.VALGTE_KONTORER),size:"xsmall",className:o,title:"Valgte kontorer","aria-label":"Valgte kontorer",children:"Velg kontor"})});return e.jsxs("div",{className:"@container",children:[e.jsxs("div",{className:"flex justify-between flex-col @3xl:flex-row @3xl:gap-0 gap-3 ",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(a,{}),e.jsx(c,{}),e.jsx(h,{}),e.jsx(K,{}),e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(k,{})})]}),e.jsx(G,{})]}),t===i.VALGTE_KONTORER&&e.jsx(ee,{}),e.jsxs("div",{className:"@container/kandidatsøk flex",children:[e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsx(D,{}),e.jsx(O,{alleredeLagtTilTreff:l,alleredeLagtTilKandidatliste:s,type:t,stillingsId:r,rekrutteringstreffId:n})]}),e.jsxs("div",{className:"hidden @[720px]:block ml-4 pt-4  max-w-[200px]",children:[e.jsx(A,{}),e.jsx(_,{className:"mt-4",children:e.jsxs("div",{className:"flex flex-col gap-4 ",children:[e.jsx(S,{}),e.jsx(y,{}),e.jsx(I,{}),e.jsx(V,{}),e.jsx(b,{}),e.jsx(B,{}),e.jsx(N,{}),e.jsx(P,{}),e.jsx(L,{}),e.jsx(M,{})]})})]})]})]})};ae.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkTabs",props:{stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};export{ae as K};
