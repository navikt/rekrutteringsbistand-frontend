import{r as s,m as v,j as e,A as y,x as j,e as g}from"./iframe-uCi_mQk4.js";import{_ as b}from"./style-IPWjfSc8.js";import{S as d}from"./Skeleton-C9BU2TEp.js";var w=function(r,a){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&a.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(r);i<t.length;i++)a.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(r,t[i])&&(n[t[i]]=r[t[i]]);return n};const k=s.forwardRef((r,a)=>{var{title:n,titleId:t}=r,i=w(r,["title","titleId"]);let o=v();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":o},i),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 4.25h-5.475l-.026-.041c-.281-.422-.78-.709-1.499-.709s-1.218.287-1.499.709l-.026.041H5a.75.75 0 0 0-.75.75v14c0 .414.336.75.75.75h14a.75.75 0 0 0 .75-.75V5a.75.75 0 0 0-.75-.75m-13.25 14V5.75h12.5v12.5zm4-9.125a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m4.5 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m1.461 6.112a.75.75 0 0 1-.948.474c-1.854-.617-3.66-.621-5.526 0a.75.75 0 0 1-.474-1.422c2.174-.725 4.313-.72 6.474 0a.75.75 0 0 1 .474.948",clipRule:"evenodd"}))}),I=({validating:r,analyse:a,analyseError:n,harGodkjentKiFeil:t,showAnalysis:i,erRedigeringAvPublisertTreff:o,onGodkjennKiFeil:p,ariaLabel:x})=>{const c=!!a&&!n?!!a?.bryterRetningslinjer:!1,h=i&&c,l=s.useMemo(()=>r?"skeleton":n?"error":i&&c?"text":"none",[r,n,i,c]),u=s.useRef(null),f=s.useRef(null),m=s.useRef(null);return s.useEffect(()=>{l==="skeleton"&&u.current?.focus(),l==="error"&&f.current?.focus(),l==="text"&&m.current?.focus()},[l]),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:"inline-flex justify-center items-start w-10 pt-1",children:h?e.jsx(k,{"aria-hidden":!0,fontSize:"2em",className:"text-red-600"}):null}),e.jsxs("div",{className:"jsx-6f9897316c52e603 w-full",children:[e.jsx(b,{id:"6f9897316c52e603",children:"@keyframes kiFadeIn{to{opacity:1}}"}),l==="skeleton"&&e.jsxs("div",{ref:u,tabIndex:-1,role:"status","aria-live":"polite","aria-busy":"true",className:"jsx-6f9897316c52e603",children:[e.jsx(d,{variant:"text",width:"100%",height:31}),e.jsx(d,{variant:"text",width:"100%",height:31}),e.jsx(d,{variant:"text",width:"100%",height:31}),e.jsx(d,{variant:"text",width:"100%",height:31}),e.jsx(d,{variant:"text",width:"100%",height:31}),e.jsx(d,{variant:"text",width:"100%",height:31})]}),l==="error"&&e.jsx("div",{ref:f,tabIndex:-1,role:"alert",className:"jsx-6f9897316c52e603",children:e.jsx(y,{variant:"error",children:n?.message??"En feil oppstod under validering."})}),l==="text"&&e.jsx("div",{ref:m,tabIndex:-1,role:"region","aria-label":x,style:{opacity:0,animation:"kiFadeIn 300ms ease-in forwards"},className:"jsx-6f9897316c52e603 aksel-error-message p-1",children:e.jsx(j,{children:a?.begrunnelse})})]})]}),c&&!t&&e.jsx("div",{className:"pt-4",children:e.jsx(g,{variant:"secondary",size:"small",onClick:p,children:o?"Bruk likevel":"Lagre likevel"})})]})};I.__docgenInfo={description:"",methods:[],displayName:"KiAnalysePanel",props:{validating:{required:!0,tsType:{name:"boolean"},description:""},analyse:{required:!0,tsType:{name:"union",raw:"any | undefined",elements:[{name:"any"},{name:"undefined"}]},description:""},analyseError:{required:!0,tsType:{name:"union",raw:"any | undefined",elements:[{name:"any"},{name:"undefined"}]},description:""},harGodkjentKiFeil:{required:!0,tsType:{name:"boolean"},description:""},showAnalysis:{required:!0,tsType:{name:"boolean"},description:""},erRedigeringAvPublisertTreff:{required:!0,tsType:{name:"boolean"},description:""},onGodkjennKiFeil:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},ariaLabel:{required:!0,tsType:{name:"string"},description:""}}};export{I as K};
