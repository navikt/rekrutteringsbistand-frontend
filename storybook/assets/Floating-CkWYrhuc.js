import{r as d,l as c,aH as pe,Q as U,T as ve,p as we,ab as be,aJ as xe,aK as ye,aL as Ae,aV as Ce,aM as Oe,aW as Pe,aX as Ee,aI as B}from"./iframe-D0GwblT9.js";import{u as Se}from"./Modal.context-DI9DxRcm.js";import{a as Fe}from"./useControllableState-bKZctjKQ.js";import{u as z}from"./useClientLayoutEffect-B_75iQJq.js";const T={};function q(e,n){const t=d.useRef(T);return t.current===T&&(t.current=e(n)),t}const N=c[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],_e=N&&N!==d.useLayoutEffect?N:e=>e();function K(e){const n=q(je).current;return n.next=e,_e(n.effect),n.trampoline}function je(){const e={next:void 0,callback:Ie,trampoline:(...n)=>{var t;return(t=e.callback)===null||t===void 0?void 0:t.call(e,...n)},effect:()=>{e.callback=e.next}};return e}function Ie(){}function Re(e,n=!1){const t=c.useRef(null),o=c.useRef(null),r=d.useCallback(()=>{for(const a of[t,o])a.current!==null&&(cancelAnimationFrame(a.current),a.current=null)},[]);return d.useEffect(()=>()=>r(),[r]),K((a,i=null)=>{if(r(),e==null)return;const s="current"in e?e.current:e;if(s!=null){if(typeof s.getAnimations!="function"||globalThis.AKSEL_ANIMATIONS_DISABLED){a();return}t.current=requestAnimationFrame(()=>{function f(){s&&Promise.allSettled(s.getAnimations().map(m=>m.finished)).then(()=>{i?.aborted||pe.flushSync(a)})}n?o.current=requestAnimationFrame(f):f()})}})}function ke(e){const n=q(Ne,e).current;return n.next=e,z(n.effect),n}function Ne(e){const n={current:e,next:e,effect:()=>{n.current=n.next}};return n}function $e(e){const{enabled:n=!0,open:t,ref:o=null,onComplete:r}=e,a=ke(t),i=K(r),s=Re(o,t);d.useEffect(()=>{n&&s(()=>{t===a.current&&i()})},[n,t,i,s,a])}function We(e){return{name:"transformOrigin",options:e,fn(n){var t,o,r,a,i;const{placement:s,rects:f,middlewareData:m}=n,u=((t=m.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,_=u?0:e.arrowWidth,g=u?0:e.arrowHeight,[h,y]=J(s),w={start:"0%",center:"50%",end:"100%"}[y],C=((r=(o=m.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+_/2,O=((i=(a=m.arrow)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0)+g/2;let l="",p="";return h==="bottom"?(l=u?w:`${C}px`,p=`${-g}px`):h==="top"?(l=u?w:`${C}px`,p=`${f.floating.height+g}px`):h==="right"?(l=`${-g}px`,p=u?w:`${O}px`):h==="left"&&(l=`${f.floating.width+g}px`,p=u?w:`${O}px`),{data:{x:l,y:p}}}}}function J(e){const[n,t="center"]=e.split("-");return[n,t]}var Q=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t};const[De,V]=U({name:"FloatingContext",hookName:"useFloating",providerName:"FloatingProvider"}),Z=({children:e})=>{const[n,t]=d.useState(null);return c.createElement(De,{anchor:n,onAnchorChange:t},e)},He=d.forwardRef((e,n)=>{var{virtualRef:t,asChild:o}=e,r=Q(e,["virtualRef","asChild"]);const a=V(),i=d.useRef(null),s=ve(n,i);d.useEffect(()=>{a.onAnchorChange(t?.current||i.current)});const f=o?we:"div";return t?null:c.createElement(f,Object.assign({ref:s},r))}),Le={top:"bottom",right:"left",bottom:"top",left:"right"},Me=({width:e,height:n,className:t})=>{const o=Ye(),r=Le[o.placedSide];return c.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.hideArrow?"hidden":void 0},"aria-hidden":!0},c.createElement("svg",{className:t,width:e,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",style:{display:"block"}},c.createElement("polygon",{points:"0,0 30,0 15,10"})))},[Xe,Ye]=U({name:"FloatingContentContext",hookName:"useFloatingContentContext",providerName:"FloatingContentProvider"}),Be=d.forwardRef((e,n)=>{var t,o,r,a,i,s,{children:f,side:m="bottom",sideOffset:$=0,align:u="center",alignOffset:_=0,avoidCollisions:g=!0,collisionBoundary:h=[],collisionPadding:y=0,hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:O,arrow:l,fallbackPlacements:p,enabled:P=!0,autoUpdateWhileMounted:j=!0}=e,W=Q(e,["children","side","sideOffset","align","alignOffset","avoidCollisions","collisionBoundary","collisionPadding","hideWhenDetached","updatePositionStrategy","onPlaced","arrow","fallbackPlacements","enabled","autoUpdateWhileMounted"]);const G=V(),b=Se(!1),I=Object.assign({padding:5,width:0,height:0},l),[D,ee]=d.useState(null),te=I.width,H=I.height,ne=m+(u!=="center"?"-"+u:""),oe=typeof y=="number"?y:Object.assign({top:0,right:0,bottom:0,left:0},y),L=Array.isArray(h)?h:[h],re=L.length>0;function ae(v){return v!==null}const R={padding:oe,boundary:L.filter(ae),altBoundary:re,fallbackAxisSideDirection:"end",fallbackPlacements:p},{refs:ie,floatingStyles:M,placement:le,isPositioned:E,middlewareData:x,elements:A,update:k}=be({open:P,strategy:"fixed",placement:ne,whileElementsMounted:j?(...v)=>B(...v,{animationFrame:C==="always"}):void 0,elements:{reference:G.anchor},middleware:[xe({mainAxis:$+H,alignmentAxis:_}),g&&ye({mainAxis:!0,crossAxis:!1,limiter:Ee()}),g&&Ae(Object.assign({},R)),Ce(Object.assign(Object.assign({},R),{apply:({elements:v,rects:Y,availableWidth:ue,availableHeight:ge})=>{const{width:he,height:me}=Y.reference,F=v.floating.style;F.setProperty("--ac-floating-available-width",`${ue}px`),F.setProperty("--ac-floating-available-height",`${ge}px`),F.setProperty("--ac-floating-anchor-width",`${he}px`),F.setProperty("--ac-floating-anchor-height",`${me}px`)}})),D&&Oe({element:D,padding:I.padding}),We({arrowWidth:te,arrowHeight:H}),w&&Pe(Object.assign({strategy:"referenceHidden"},R))]});d.useEffect(()=>{if(!(j||!P)&&A.reference&&A.floating){const v=B(A.reference,A.floating,k);return()=>{v()}}},[j,P,A,k]),$e({enabled:!!b?.ref,open:P,ref:b?.ref,onComplete:k});const[X,se]=J(le),S=Fe(O);z(()=>{E&&S?.()},[E,S]);const ce=(t=x.arrow)===null||t===void 0?void 0:t.x,de=(o=x.arrow)===null||o===void 0?void 0:o.y,fe=((r=x.arrow)===null||r===void 0?void 0:r.centerOffset)!==0;return c.createElement("div",{ref:ie.setFloating,"data-aksel-floating-content-wrapper":"",style:Object.assign(Object.assign({},M),{transform:E?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:"9999999","--ac-floating-transform-origin":[(a=x.transformOrigin)===null||a===void 0?void 0:a.x,(i=x.transformOrigin)===null||i===void 0?void 0:i.y].join(" ")}),dir:"ltr"},c.createElement(Xe,{placedSide:X,onArrowChange:ee,arrowX:ce,arrowY:de,hideArrow:fe},c.createElement("div",Object.assign({ref:n,"data-side":X,"data-align":se},W,{style:Object.assign(Object.assign({},W.style),{animation:E?void 0:"none",opacity:!((s=x.hide)===null||s===void 0)&&s.referenceHidden?0:void 0})}),f,l?.height&&l?.width&&c.createElement(Me,{width:l.width,height:l.height,className:l.className}))))});Z.Anchor=He;Z.Content=Be;export{Z as F};
