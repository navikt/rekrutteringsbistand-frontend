import{aq as x,u as S,G as h,cB as T,r as j,ci as R,ch as v,j as t,a7 as E,B as b,cG as a,R as c}from"./iframe-yXg8aEsL.js";import{l as K}from"./leggTilKandidat-41Z5bSnz.js";import{F as I,L as N}from"./LeggTilKandidatTilStilling-B6Vux18y.js";import{T as _}from"./TilgangskontrollForInnhold-jp8h3Tpu.js";import{U as B}from"./umamiEvents-4lZbqD_K.js";import{B as y}from"./Box-Ddg8qx2G.js";import{S as A}from"./ArrowRight-CVL_Qk_s.js";function P(){const{stillingsData:i,erEier:u}=x(),{visVarsel:r}=S(),{track:m}=h(),s=T(i),[e,o]=j.useState(!1),f=R(),d=v(),p=f?.get("finnStilling")!==null,g=(()=>{if(!d)return null;const n=d.split("/").filter(Boolean),l=n.indexOf("kandidat");return l!==-1&&n.length>l+1&&n[l+1]||null})(),k=async n=>{m(B.Stilling.forslag_til_stilling_legg_til_kandidat),o(!0);try{await K([n],i.stilling.uuid),r({tekst:"Kandidat er lagt til i kandidatliste",type:"success"})}catch{r({tekst:"Kandidat kunne ikke legges til i kandidatliste",type:"error"})}finally{o(!1)}};return p&&g?t.jsxs(y.New,{background:"neutral-softA",borderRadius:"xlarge",paddingInline:"space-16",paddingBlock:"space-12",role:"button",tabIndex:0,"aria-label":"Legg til jobbsøkere. Velg og legg til jobbsøkere i stillingen.",className:"group focus:ring-focus flex cursor-pointer items-start justify-between gap-4 outline-none focus:ring-2 focus:ring-offset-2",onClick:()=>!e&&k(g),"aria-busy":e||void 0,children:[e?t.jsx(E,{}):t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"mt-0.5 text-xl leading-none",children:"➕"}),t.jsx("div",{className:"flex flex-col",children:t.jsx(b,{spacing:!0,className:"m-0",children:"Legg jobbsøker til stillingen"})})]}),t.jsx(A,{"aria-hidden":!0,className:"mt-1 transition-transform group-hover:translate-x-1"})]}):s.visningsStatus===a.Slettet||s.visningsStatus===a.Fullfort||s.visningsStatus===a.IkkePublisert||!u&&(s.visningsStatus===a.StengtForSokere||s.visningsStatus===a.UtloptStengtForSokere)?null:t.jsx(_,{skjulVarsel:!0,kreverEnAvRollene:[c.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,c.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:t.jsx("div",{className:"@container/kandidat-knapper contain-layout",children:t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 @3xl:grid-cols-2",children:[t.jsx(I,{stillingId:i.stilling.uuid}),t.jsx(N,{stillingsId:i.stilling.uuid,stillingsTittel:i.stilling.title})]})})})}P.__docgenInfo={description:"",methods:[],displayName:"KandidatKnapper"};export{P as K};
