import{r as f,l as F,m as g,b3 as W,bi as ne,j as e,B as h,at as E,d as k,an as se,H as _,bu as ae,i as ie,b8 as T,bv as le,bk as m,f as A,n as oe,bw as de,bx as v,by as ce}from"./iframe-DQa1UAKP.js";import{M as me}from"./MeldingsmalVisning-Dbbbzetk.js";import{M as b}from"./Modal-CSMNSt-W.js";import{V as S,H as w}from"./VStack-PaUjtRpj.js";import{S as pe}from"./Table-oEbQcJVn.js";import{S as ue}from"./Bell-CxFcLzt9.js";import{J as x}from"./HendelseLabel-CTu8aGET.js";import{L as fe}from"./link-orwoM3LM.js";import{S as he}from"./Plus-Z3B_-J4Z.js";import{V as ve}from"./VisPerson-pzkSwRiV.js";import{S as ge}from"./SVGDarkmode-BYrGTTGi.js";import{B as L}from"./Box-BN3emj-o.js";import{S as P}from"./CheckmarkCircle-D0hitU8i.js";import{S as K}from"./XMarkOctagon-BrSp7HmG.js";import{S as B}from"./PlusCircle-Clm5Bx8h.js";import{S as xe}from"./EnvelopeClosed-CC0wtJP8.js";import{e as ke}from"./util-CxLzg3xj.js";import{T as Y}from"./Tooltip-DTPCdp4J.js";import{C as be}from"./Checkbox-Cw5u9KGl.js";import{S as Te}from"./Person-1hAiuHxA.js";import{S as ye}from"./Trash-Kw9Zps5x.js";import{T as U}from"./Tag-BKmTuQ3h.js";import"./preload-helper-PPVm8Dsz.js";import"./floating-ui.react-DJuqNH_e.js";import"./Date.Input-gqCIIY8-.js";import"./useFormField-DpwiCcJU.js";import"./useControllableState-CXsJzE3b.js";import"./ChevronDown-GJKeW2bL.js";import"./Calendar-CeD7kRJ5.js";import"./owner-CO0wgQ-G.js";import"./useClientLayoutEffect-0SK8t1yY.js";import"./Modal.context-duc3HSLS.js";import"./BasePrimitive-CSzh4H_y.js";import"./use-merged-ref-CnWrBl3m.js";import"./KandidatContext-9XACdH4l.js";import"./KandidatOversikt-CCjH_1iw.js";import"./TekstMedIkon-Dn8s99UG.js";import"./LocationPin-_dsRRTm8.js";import"./HandHeart-cSxh1dyw.js";import"./TidslinjeFelt-D8wsI-9E.js";import"./compareAsc-FNMlka8k.js";import"./differenceInMonths-DesdxuHu.js";import"./endOfMonth-UxI5uGxo.js";import"./endOfDay-NAM91ts4.js";import"./KandidatUtdanning-DUIbXn4S.js";import"./GråBoks-LXbTdioo.js";import"./IkonNavnAvatar-Cqf0B4l2.js";import"./Detaljer-Dq-m9Cor.js";import"./SealCheckmark-Bjeo_mpH.js";import"./KandidatØnsker-CT91HjCJ.js";import"./BriefcaseClock-BLHIYpx5.js";import"./Clock-B5mzZQQG.js";import"./TimerStart-DuqZdXWU.js";import"./KandidatOversiktDivider-DFYDqMF1.js";import"./KandidatOversiktSidebar-D9aeg1HR.js";import"./Profilkvalitet-CzPKDL72.js";import"./miljø-Cn9pyrta.js";import"./ExternalLink-D1hS-9ly.js";import"./NavigerTilAktivitetsplanenKnapp-BYiZ802C.js";import"./LenkeKortMedIkon-C0s3Ajs2.js";import"./ArrowRight-DWzt0jr_.js";import"./image-C7zTMpti.js";import"./Portal-nkH-bbLf.js";import"./Fieldset-BWfMX66k.js";var je=function(t,r){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(s[n[a]]=t[n[a]]);return s};const Ie=f.forwardRef((t,r)=>{var{title:s,titleId:n}=t,a=je(t,["title","titleId"]);let i=F();return i=s?n||"title-"+i:void 0,g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":i},a),s?g.createElement("title",{id:i},s):null,g.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 3A.75.75 0 0 1 7 2.25h10a.75.75 0 0 1 .75.75v6.25H21a.75.75 0 0 1 .75.75v11a.75.75 0 0 1-.75.75H3a.75.75 0 0 1-.75-.75V10A.75.75 0 0 1 3 9.25h3.25zm11.5 17.25v-9.5h2.5v9.5zm-1.5-16.5v16.5h-8.5V3.75zm-10 7v9.5h-2.5v-9.5zm3.75-5a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75m3 0a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75m-2.25 6.75a.75.75 0 0 0-1.5 0v2a.75.75 0 0 0 1.5 0zm2.25-.75a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))});var Se=function(t,r){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(s[n[a]]=t[n[a]]);return s};const we=f.forwardRef((t,r)=>{var{title:s,titleId:n}=t,a=Se(t,["title","titleId"]);let i=F();return i=s?n||"title-"+i:void 0,g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":i},a),s?g.createElement("title",{id:i},s):null,g.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 4A.75.75 0 0 1 7 3.25h13a.75.75 0 0 1 .75.75v13A3.75 3.75 0 0 1 17 20.75H5.5a2.25 2.25 0 0 1-2.25-2.25V6A.75.75 0 0 1 4 5.25h2.25zm0 14.5a.75.75 0 0 1-1.5 0V6.75h1.5zm13-1.5A2.25 2.25 0 0 1 17 19.25H7.622q.126-.354.128-.75V4.75h11.5zm-10-9a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-.75.75h-7a.75.75 0 0 1-.75-.75zm1.5.75v2.5h5.5v-2.5zM9.25 16a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var Ne=function(t,r){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(s[n[a]]=t[n[a]]);return s};const Ce=f.forwardRef((t,r)=>{var{title:s,titleId:n}=t,a=Ne(t,["title","titleId"]);let i=F();return i=s?n||"title-"+i:void 0,g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":i},a),s?g.createElement("title",{id:i},s):null,g.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.53 1.57a.75.75 0 0 0-1.06 0l-9.9 9.9a.75.75 0 0 0 0 1.06l9.9 9.9a.75.75 0 0 0 1.06 0l9.9-9.9a.75.75 0 0 0 0-1.06zM12 20.84 3.161 12l8.84-8.839 8.838 8.84zm-.92-11.86c-.19.19-.33.49-.33.92a.75.75 0 0 1-1.5 0c0-.77.26-1.471.77-1.98.51-.51 1.21-.77 1.98-.77s1.47.26 1.98.77c.51.509.77 1.21.77 1.98 0 .517-.217.944-.452 1.273-.224.314-.512.601-.748.837l-.02.02c-.26.26-.463.466-.607.668-.14.196-.173.319-.173.402v.4a.75.75 0 0 1-1.5 0v-.4c0-.518.217-.945.452-1.274.224-.313.512-.6.748-.837l.02-.02c.26-.26.463-.465.607-.668.14-.196.173-.319.173-.401 0-.43-.14-.73-.33-.92s-.49-.33-.92-.33-.73.14-.92.33m-.03 6.923a.95.95 0 1 1 1.9 0 .95.95 0 0 1-1.9 0",clipRule:"evenodd"}))}),O=({modalref:t,inviterInternalDtoer:r,onFjernJobbsøker:s,onInvitasjonSendt:n})=>{const{rekrutteringstreffId:a}=W(),{data:i}=ne(),[o,d]=f.useState(!1),c=r.length,p=c>1,u=c===1?"Inviter jobbsøkeren til treff":`Inviter ${c} jobbsøkere til treff`,y=async()=>{d(!0);const l=r.map(I=>I.personTreffId);try{await ae(a,l),n()}catch(I){throw new ie({message:"Feil ved invitasjon av jobbsøkere",error:I})}finally{d(!1)}},j=()=>{t&&t.current&&t.current.close()};return e.jsxs(b,{ref:t,header:{heading:u},onClose:j,width:"medium",children:[e.jsx(b.Body,{children:e.jsxs(S,{gap:"4",children:[e.jsxs(S,{gap:"4",children:[e.jsxs(h,{children:["Sjekk at jobbsøker",p?"ne":"en"," du har valgt stemmer, og send dem en invitasjon i aktivitetsplanen."]}),e.jsxs("div",{children:[e.jsxs(w,{className:"border-border-subtle text-text-subtle border-b pb-2",gap:"4",children:[e.jsx(E,{className:"flex-1",children:"Navn og fødselsnummer"}),e.jsx(E,{className:"w-36 flex-shrink-0",children:"Veileder"}),p&&e.jsx("div",{style:{width:"48px"},className:"flex-shrink-0 text-right",children:e.jsx(E,{children:"Fjern"})})]}),e.jsx("ul",{className:"mt-2 space-y-2",children:r.map(l=>e.jsx("li",{children:e.jsxs(w,{align:"center",className:"py-2",gap:"4",children:[e.jsxs(S,{gap:"0",className:"flex-1",children:[e.jsxs(h,{children:[l.fornavn," ",l.etternavn]}),e.jsx(h,{textColor:"subtle",children:l.fødselsnummer})]}),e.jsx(h,{className:"w-36 flex-shrink-0",children:l.veilederNavIdent}),p&&e.jsx("div",{style:{width:"48px"},className:"flex flex-shrink-0 justify-end",children:e.jsx(k,{variant:"tertiary",size:"small",icon:e.jsx(se,{"aria-hidden":!0}),onClick:()=>s(l.fødselsnummer),"aria-label":`Fjern ${l.fornavn} ${l.etternavn}`})})]})},l.fødselsnummer))})]})]}),e.jsxs(S,{gap:"4","data-color":"bg-bg-subtle",className:"bg-bg-subtle rounded-md p-4",children:[e.jsx(_,{level:"3",size:"small",children:"Dette skjer videre"}),e.jsxs(S,{gap:"3",children:[e.jsxs(w,{gap:"2",align:"start",children:[e.jsx("div",{className:"mt-[2px] w-6 flex-none",children:e.jsx(pe,{fontSize:"1.5rem","aria-hidden":!0})}),e.jsx(h,{className:"flex-1",children:'Jobbsøkeren får et kort i aktivitetsplanen i kolonnen "Forslag". Kortet inneholder navnet på treffet, tid, sted og svarfrist.'})]}),e.jsxs(w,{gap:"2",align:"start",children:[e.jsx("div",{className:"mt-[2px] w-6 flex-none",children:e.jsx(we,{fontSize:"1.5rem","aria-hidden":!0})}),e.jsx(h,{className:"flex-1",children:"Aktivitetskortet lenker til en informasjonsside om treffet. Der ser de mer informasjon om treffet og svarer på invitasjonen."})]}),e.jsxs(w,{gap:"2",align:"start",children:[e.jsx("div",{className:"mt-[2px] w-6 flex-none",children:e.jsx(ue,{fontSize:"1.5rem","aria-hidden":!0})}),e.jsx(h,{className:"flex-1",children:"[Fremtid] Veileder får beskjed i Modia Arbeidsrettet Oppfølging."})]})]})]}),i&&e.jsx(me,{tittel:"Melding til jobbsøker",undertekst:"Jobbsøkeren varsles på måten de har valgt (sms, epost, nav.no).",smsTekst:i.kandidatInvitertTreff.smsTekst,epostTittel:i.kandidatInvitertTreff.epostTittel,epostHtmlBody:i.kandidatInvitertTreff.epostHtmlBody})]})}),e.jsxs(b.Footer,{children:[e.jsx(k,{variant:"primary",onClick:y,loading:o,disabled:c===0,children:c===1?"Inviter jobbsøkeren":`Inviter ${c} jobbsøkere`}),e.jsx(k,{variant:"secondary",onClick:j,children:"Avbryt"})]})]})};O.__docgenInfo={description:"",methods:[],displayName:"InviterModal",props:{modalref:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLDialogElement | null>",elements:[{name:"union",raw:"HTMLDialogElement | null",elements:[{name:"HTMLDialogElement"},{name:"null"}]}]},description:""},inviterInternalDtoer:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  personTreffId: string;
  fornavn: string;
  etternavn: string;
  fødselsnummer: string;
  veilederNavIdent?: string | null;
}`,signature:{properties:[{key:"personTreffId",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsnummer",value:{name:"string",required:!0}},{key:"veilederNavIdent",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}}]}}],raw:"InviterInternalDto[]"},description:""},onFjernJobbsøker:{required:!0,tsType:{name:"signature",type:"function",raw:"(fødselsnummer: string) => void",signature:{arguments:[{type:{name:"string"},name:"fødselsnummer"}],return:{name:"void"}}},description:""},onInvitasjonSendt:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const J=({rekrutteringstreffStatus:t,className:r})=>{const{rekrutteringstreffId:s}=W(),n=t===T.FULLFØRT||t===T.AVLYST;return e.jsx(fe,{href:`/rekrutteringstreff/${s}/finn-kandidater`,children:e.jsx(k,{icon:e.jsx(he,{}),type:"button",variant:"secondary",disabled:n,className:r,children:"Legg til jobbsøker"})})};J.__docgenInfo={description:"",methods:[],displayName:"LeggTilJobbsøkerKnapp",props:{rekrutteringstreffStatus:{required:!1,tsType:{name:"z.infer",elements:[{name:"RekrutteringstreffStatusEnum"}],raw:`z.infer<
  typeof RekrutteringstreffStatusEnum
>`},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const Z=t=>!t||t.length===0?t:t.split(" ").map(r=>r&&r[0].toUpperCase()+r.substring(1).toLowerCase()).join(" "),M=({fornavn:t,etternavn:r,personTreffId:s,rekrutteringstreffId:n})=>{const a=f.useRef(null),i=`${Z(r)}, ${Z(t)}`;if(!s)return e.jsx("span",{children:i});const o=()=>a.current?.showModal(),d=()=>a.current?.close();return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"aksel-link",onClick:o,children:i}),e.jsx(b,{ref:a,onClose:d,width:"1280px",header:{heading:""},children:e.jsx(b.Body,{className:"h-[1024px] overflow-auto",children:e.jsx(f.Suspense,{fallback:e.jsx(le,{}),children:e.jsx(ve,{personTreffId:s,rekrutteringstreffId:n})})})})]})};M.__docgenInfo={description:"",methods:[],displayName:"NavnLenke",props:{fornavn:{required:!0,tsType:{name:"string"},description:""},etternavn:{required:!0,tsType:{name:"string"},description:""},personTreffId:{required:!0,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""}}};const $="data:image/svg+xml,%3csvg%20width='158'%20height='158'%20viewBox='0%200%20158%20158'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M133.368%2079.6259C143.541%2062.7065%20128.297%2040.1332%20123.39%2036.5444M123.39%2036.5444C122.396%2034.7495%20118.64%2034.2699%20117.149%2033.4453M123.39%2036.5444C121.144%2037.5378%20119.811%2037.0677%20117.12%2037.0987M123.39%2036.5444C123.451%2033.5451%20121.841%2032.7806%20119.061%2030.5625'%20stroke='%232C4163'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M23.319%2084.9406C8.21926%2067.6586%2020.2026%2043.1548%2027.7501%2040.9414M27.7501%2040.9414C28.509%2039.0348%2032.1733%2038.0825%2033.5481%2037.0754M27.7501%2040.9414C30.1042%2041.6417%2031.3671%2041.0062%2034.0399%2040.6956M27.7501%2040.9414C27.3088%2037.9741%2028.8089%2037.0114%2031.2855%2034.4585'%20stroke='%232C4163'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M8.06863%20134.647C10.2192%20148.704%2063.5479%20149.012%2076.7768%20149.012C90.0057%20149.012%20152.686%20150.264%20149.911%20138.374C147.136%20126.484%2098.6871%20118.639%2076.7768%20126.002C54.8665%20133.366%205.91808%20120.589%208.06863%20134.647Z'%20fill='%231C232F'/%3e%3cpath%20d='M67.3242%2091.9316C63.4549%20110.848%2063.518%20120.509%2067.3242%20136.067'%20stroke='%232C4163'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M94.1895%2090.9722C92.8997%20109.477%2092.9207%20118.929%2094.1895%20134.148'%20stroke='%232C4163'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M139.269%2081.4813C147.733%2095.7945%20148.143%20119.342%2077.0169%20117.761C5.89043%20116.18%2012.721%2091.3086%2016.9883%2078.4479C21.2556%2065.5871%2026.3816%2042.0394%2077.0169%2042.0396C127.652%2042.0397%20130.805%2067.1682%20139.269%2081.4813Z'%20fill='%23378F53'/%3e%3cpath%20d='M80.1193%2089.0481C79.9806%2092.8718%2071.5385%2091.5369%2070.9517%2088.5556C74.2029%2087.9031%2076.1218%2088.3828%2080.1193%2089.0481Z'%20fill='%232C4163'/%3e%3cg%20clip-path='url(%23clip0_6216_51441)'%3e%3cellipse%20cx='60.8782'%20cy='71.5066'%20rx='8.22879'%20ry='12.6175'%20fill='white'/%3e%3cellipse%20cx='60.8784'%20cy='65.6832'%20rx='4.35642'%20ry='6.79403'%20fill='%232C4163'/%3e%3cellipse%20cx='88.9529'%20cy='71.5066'%20rx='8.22879'%20ry='12.6175'%20fill='white'/%3e%3cellipse%20cx='88.9531'%20cy='65.6832'%20rx='4.35642'%20ry='6.79403'%20fill='%232C4163'/%3e%3c/g%3e%3cpath%20d='M89.4219%20136.132C91.5298%20135.314%2093.2863%20135.298%2095.5264%20135.508C96.7224%20135.619%2097.9598%20135.285%2099.1086%20135.393'%20stroke='%232C4163'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M60.9452%20135.773C62.7746%20136.391%2064.7248%20136.01%2066.596%20136.211C67.8149%20136.342%2069.2073%20135.59%2070.3884%20135.989'%20stroke='%232C4163'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M75.1258%2013.6571C61.3296%20-0.788333%2055.7866%2026.3187%2075.6028%2033.8809C94.065%2024.5736%2088.9617%20-1.63392%2075.1258%2013.6571Z'%20fill='%232C4163'/%3e%3cdefs%3e%3cclipPath%20id='clip0_6216_51441'%3e%3crect%20width='44.5323'%20height='25.235'%20fill='white'%20transform='translate(52.6494%2058.8892)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Re={src:$,height:158,width:158,blurDataURL:$},G="data:image/svg+xml,%3csvg%20width='158'%20height='157'%20viewBox='0%200%20158%20157'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M133.368%2078.6576C143.541%2061.7382%20128.297%2039.165%20123.39%2035.5762M123.39%2035.5762C122.396%2033.7813%20118.64%2033.3016%20117.149%2032.477M123.39%2035.5762C121.144%2036.5695%20119.811%2036.0994%20117.12%2036.1304M123.39%2035.5762C123.451%2032.5769%20121.841%2031.8123%20119.061%2029.5942'%20stroke='%232C4163'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M23.319%2083.9724C8.21926%2066.6904%2020.2026%2042.1865%2027.7501%2039.9731M27.7501%2039.9731C28.509%2038.0665%2032.1733%2037.1142%2033.5481%2036.1071M27.7501%2039.9731C30.1042%2040.6734%2031.3671%2040.038%2034.0399%2039.7274M27.7501%2039.9731C27.3088%2037.0058%2028.8089%2036.0432%2031.2855%2033.4902'%20stroke='%232C4163'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M8.06863%20133.678C10.2192%20147.736%2063.5479%20148.043%2076.7768%20148.043C90.0057%20148.043%20152.686%20149.296%20149.911%20137.406C147.136%20125.516%2098.6871%20117.67%2076.7768%20125.034C54.8665%20132.397%205.91808%20119.62%208.06863%20133.678Z'%20fill='%23ECEDEF'/%3e%3cpath%20d='M67.3242%2090.9634C63.4549%20109.88%2063.518%20119.541%2067.3242%20135.099'%20stroke='%232C4163'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M94.1895%2090.0039C92.8997%20108.509%2092.9207%20117.96%2094.1895%20133.18'%20stroke='%232C4163'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M139.269%2080.5131C147.733%2094.8263%20148.143%20118.374%2077.0169%20116.793C5.89043%20115.212%2012.721%2090.3403%2016.9883%2077.4796C21.2556%2064.6189%2026.3816%2041.0712%2077.0169%2041.0713C127.652%2041.0714%20130.805%2066.1999%20139.269%2080.5131Z'%20fill='%2300893C'/%3e%3cpath%20d='M80.1193%2088.0799C79.9806%2091.9035%2071.5385%2090.5686%2070.9517%2087.5874C74.2029%2086.9349%2076.1218%2087.4146%2080.1193%2088.0799Z'%20fill='%232C4163'/%3e%3cg%20clip-path='url(%23clip0_6216_51485)'%3e%3cellipse%20cx='60.8782'%20cy='70.5384'%20rx='8.22879'%20ry='12.6175'%20fill='white'/%3e%3cellipse%20cx='60.8784'%20cy='64.7149'%20rx='4.35642'%20ry='6.79403'%20fill='%232C4163'/%3e%3cellipse%20cx='88.9529'%20cy='70.5384'%20rx='8.22879'%20ry='12.6175'%20fill='white'/%3e%3cellipse%20cx='88.9531'%20cy='64.7149'%20rx='4.35642'%20ry='6.79403'%20fill='%232C4163'/%3e%3c/g%3e%3cpath%20d='M89.4219%20135.164C91.5298%20134.345%2093.2863%20134.33%2095.5264%20134.539C96.7224%20134.651%2097.9598%20134.317%2099.1086%20134.424'%20stroke='%232C4163'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M60.9452%20134.805C62.7746%20135.423%2064.7248%20135.042%2066.596%20135.243C67.8149%20135.374%2069.2073%20134.622%2070.3884%20135.021'%20stroke='%232C4163'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M75.1258%2012.6889C61.3296%20-1.75659%2055.7866%2025.3504%2075.6028%2032.9126C94.065%2023.6053%2088.9617%20-2.60219%2075.1258%2012.6889Z'%20fill='%232C4163'/%3e%3cdefs%3e%3cclipPath%20id='clip0_6216_51485'%3e%3crect%20width='44.5323'%20height='25.235'%20fill='white'%20transform='translate(52.6494%2057.9209)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Ee={src:G,height:157,width:158,blurDataURL:G},X=({jobbsøkerHendelserDTO:t,rekrutteringstreffId:r,rekrutteringstreffStatus:s})=>{const n=t.length,a=t.filter(l=>l.hendelsestype===m.OPPRETTET).length,i=t.filter(l=>l.hendelsestype===m.INVITERT).length,o=t.filter(l=>l.hendelsestype===m.SVART_JA_TIL_INVITASJON).length,d=t.filter(l=>l.hendelsestype===m.SVART_NEI_TIL_INVITASJON).length,c=t.filter(l=>l.hendelsestype===m.SVART_JA_TREFF_AVLYST).length,p=t.filter(l=>l.hendelsestype===m.SVART_JA_TREFF_FULLFØRT).length,u=Math.max(0,i-o-d),y=t.slice(-5),j=c+p>0;return e.jsxs(L.New,{background:"neutral-softA",className:"mb-4 flex h-full flex-col px-4 py-3",borderRadius:"xlarge",children:[e.jsx(_,{level:"2",size:"small",className:"mb-4 text-left",children:"Jobbsøkere"}),e.jsx("div",{className:"min-h-[18rem] flex-1",children:n===0?e.jsxs("div",{className:"flex flex-col items-center p-4",children:[e.jsx(L.New,{background:"neutral-softA",className:"mb-2 rounded-full",children:e.jsx(ge,{light:Ee,dark:Re,alt:"legg_til_jobbsøker"})}),e.jsx(h,{className:"text-center",children:e.jsx("span",{className:"block",children:"Finn og legg til en jobbsøker så dukker aktivitetene deres opp her."})})]}):e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:j?e.jsxs(e.Fragment,{children:[p>0&&e.jsx(x,{icon:e.jsx(P,{className:"text-green-500"}),hendelseType:m.SVART_JA_TREFF_FULLFØRT,antall:p}),c>0&&e.jsx(x,{icon:e.jsx(K,{className:"text-[var(--ax-text-meta-purple-decoration)]"}),hendelseType:m.SVART_JA_TREFF_AVLYST,antall:c})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{icon:e.jsx(B,{className:"text-[var(--ax-text-neutral)]"}),hendelseType:m.OPPRETTET,antall:a}),e.jsx(x,{icon:e.jsx(xe,{className:"text-[var(--ax-text-accent-subtle)]"}),hendelseType:m.INVITERT,antall:i}),e.jsx(x,{icon:e.jsx(P,{className:"text-[var(--ax-text-success-decoration)]"}),hendelseType:m.SVART_JA_TIL_INVITASJON,antall:o}),e.jsx(x,{icon:e.jsx(K,{className:"text-[var(--ax-text-meta-purple-decoration)]"}),hendelseType:m.SVART_NEI_TIL_INVITASJON,antall:d}),e.jsx(x,{icon:e.jsx(Ce,{className:"text-[var(--ax-text-accent-subtle)]"}),hendelseType:"ubesvart",antall:u})]})}),e.jsx(_,{size:"xsmall",level:"4",className:"mt-8 mb-2",children:"Siste aktivitet"}),e.jsx("div",{className:"mt-4",children:y.map(l=>e.jsxs("div",{className:"mb-4 flex gap-3",children:[e.jsxs("div",{className:"mb-2 w-[10rem] shrink-0",children:[e.jsx(x,{icon:e.jsx(B,{className:"text-[var(--ax-text-neutral)]"}),hendelseType:l.hendelsestype},l.id),e.jsx(E,{className:"ml-6",children:A(new Date(l.tidspunkt),"dd. MMMM yyyy",{locale:oe})})]}),e.jsxs("div",{children:[l.fornavn&&l.etternavn&&e.jsx(M,{fornavn:l.fornavn,etternavn:l.etternavn,personTreffId:l.personTreffId,rekrutteringstreffId:r}),l.fødselsnummer&&e.jsx(h,{children:l.fødselsnummer})]})]},l.id))})]})}),e.jsx(J,{rekrutteringstreffStatus:s,className:"mt-auto w-full"})]})};X.__docgenInfo={description:"",methods:[],displayName:"JobbsøkerHendelserKort",props:{jobbsøkerHendelserDTO:{required:!0,tsType:{name:"z.infer",elements:[{name:"JobbsøkerHendelserSchema"}],raw:"z.infer<typeof JobbsøkerHendelserSchema>"},description:""},rekrutteringstreffStatus:{required:!0,tsType:{name:"z.infer",elements:[{name:"RekrutteringstreffStatusEnum"}],raw:`z.infer<
  typeof RekrutteringstreffStatusEnum
>`},description:""},rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""}}};const Q=({rekrutteringstreffId:t,jobbsøkerId:r,jobbsøkerNavn:s,setVisModal:n,jobbsøkereHook:a})=>{const[i,o]=f.useState(!1),[d,c]=f.useState(null),p=async()=>{o(!0),c(null);try{await de(t,r),a?.mutate(),o(!1),n(!1)}catch{c("Noe gikk galt ved sletting av jobbsøker"),o(!1)}};return e.jsxs(b,{header:{heading:"Slett jobbsøker"},open:!0,onClose:()=>n(!1),children:[e.jsx(b.Body,{children:s&&e.jsxs(h,{children:["Er du sikker på at du vil slette ",s," fra dette rekrutteringstreffet?"]})}),e.jsxs(b.Footer,{children:[e.jsx(k,{variant:"danger",onClick:()=>p(),loading:i,children:"Slett"}),e.jsx(k,{variant:"secondary",onClick:()=>n(!1),loading:i,children:"Avbryt"}),d&&e.jsx(h,{className:"text-red-500",children:d})]})]})};Q.__docgenInfo={description:"",methods:[],displayName:"SlettJobbsøkerModal",props:{rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""},jobbsøkerId:{required:!0,tsType:{name:"string"},description:""},jobbsøkerNavn:{required:!1,tsType:{name:"string"},description:""},setVisModal:{required:!0,tsType:{name:"signature",type:"function",raw:"(val: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"val"}],return:{name:"void"}}},description:""},jobbsøkereHook:{required:!1,tsType:{name:"Pick",elements:[{name:"SWRResponse",elements:[{name:"z.infer",elements:[{name:"JobbsøkereSchema"}],raw:"z.infer<typeof JobbsøkereSchema>"}],raw:"SWRResponse<JobbsøkereDTO>"},{name:"literal",value:"'mutate'"}],raw:"Pick<SWRResponse<JobbsøkereDTO>, 'mutate'>"},description:""}}};const ee=({showTooltip:t,children:r,content:s})=>t?e.jsx(Y,{content:s,children:e.jsx("div",{children:r})}):e.jsx(e.Fragment,{children:r});ee.__docgenInfo={description:"",methods:[],displayName:"TooltipWithShowProperty",props:{showTooltip:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},content:{required:!0,tsType:{name:"string"},description:""}}};const _e=(t,r)=>{switch(r?.hendelsestype){case m.AKTIVITETSKORT_OPPRETTELSE_FEIL:return{text:"Invitasjon feilet",variant:"error"};case m.SVART_JA_TREFF_AVLYST:return{text:"Treff avlyst",variant:"warning"};case m.SVART_JA_TREFF_FULLFØRT:return{text:"Treff fullført",variant:"success"}}const s=ke(t)?.replaceAll("_"," ")||"";switch(t){case v.SVART_JA:return{text:s,variant:"success"};case v.SVART_NEI:return{text:s,variant:"neutral"};case v.INVITERT:case v.LAGT_TIL:return{text:s,variant:"info"};case v.SLETTET:return{text:s,variant:"error"};default:return{text:s,variant:"neutral"}}},Me=t=>{const r=t?.find(s=>s.hendelsestype===m.OPPRETTET);return r?{datoLagtTil:r.tidspunkt,lagtTilAv:r.aktørIdentifikasjon}:{datoLagtTil:"Ukjent dato",lagtTilAv:"Ukjent"}},Le=t=>{if(!t)return null;const s=t.filter(i=>i.hendelsestype===m.MOTTATT_SVAR_FRA_MINSIDE).filter(i=>{const d=i.hendelseData?.eksternStatus;return d==="FERDIGSTILT"||d==="FEILET"||d==="SENDT"||d==="FEIL"});if(s.length===0)return null;const a=s.sort((i,o)=>{const d=new Date(o.tidspunkt).getTime()-new Date(i.tidspunkt).getTime();if(d!==0)return d;const c=p=>{const u=p?.eksternStatus;return u==="FERDIGSTILT"?3:u==="FEILET"||u==="FEIL"?2:u==="SENDT"?1:0};return c(o.hendelseData)-c(i.hendelseData)})[0];return a?.hendelseData?a.hendelseData:null},Fe=t=>{if(!t)return"Feilet";switch(t){case"SMS":return"SMS";case"EPOST":return"Epost";default:return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}},Ae=t=>{if(!t)return"neutral";switch(t){case"FERDIGSTILT":return"success";case"SENDT":return"info";case"FEILET":case"FEIL":return"error";default:return"neutral"}},Oe=t=>{switch(t){case"FERDIGSTILT":return"Levert";case"SENDT":return"Sendt";case"FEILET":case"FEIL":return"Feilet";default:return"Ukjent status"}},Je=t=>t.length===0?"":t.length===1?t[0]:t.slice(0,-1).join(", ")+" og "+t[t.length-1],Ve=(t,r)=>{switch(t){case"KANDIDAT_INVITERT_TREFF":return"Invitert";case"KANDIDAT_INVITERT_TREFF_ENDRET":return r&&r.length>0?`Endret (${Je(r)})`:"Endret";default:return null}},ze=t=>{const r=[],s=Ve(t.mal,t.flettedata);return s&&r.push(s),r.push(Oe(t.eksternStatus)),t.opprettet&&r.push(A(new Date(t.opprettet),"dd.MM.yyyy HH:mm")),t.eksternFeilmelding&&r.push(t.eksternFeilmelding),r.join(" · ")},V=({fornavn:t,etternavn:r,personTreffId:s,navKontor:n,veileder:a,status:i,sisteRelevanteHendelse:o,hendelser:d,onCheckboxChange:c,erValgt:p,erDeaktivert:u=!1,onInviterClick:y,jobbsøkereHook:j,rekrutteringstreffId:l,rekrutteringstreffStatus:I})=>{const[te,z]=f.useState(!1),q=_e(i,o),{datoLagtTil:D,lagtTilAv:H}=Me(d),C=Le(d);return e.jsxs(L.New,{background:"neutral-softA",borderRadius:"xlarge",padding:"4",marginBlock:"2",className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[I===T.PUBLISERT&&e.jsxs(be,{hideLabel:!0,checked:p,onChange:re=>c(re.target.checked),disabled:u,children:["Velg kandidat ",t," ",r]}),e.jsxs("div",{children:[e.jsx(_,{size:"small",children:e.jsx(M,{fornavn:t,etternavn:r,personTreffId:s,rekrutteringstreffId:l})}),e.jsxs(h,{size:"small",className:"text-text-subtle mt-1 flex items-center gap-6",children:[n&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ie,{fontSize:"1.25rem"}),n]}),a?.navn&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Te,{fontSize:"1.25rem"}),"Følges opp av ",a.navn," ",a.navIdent&&`(${a.navIdent})`]}),H&&D&&e.jsxs("span",{children:["Lagt til av ",H,","," ",A(new Date(D),"dd.MM.yyyy")]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[I===T.PUBLISERT&&i===v.LAGT_TIL&&y&&e.jsx(k,{size:"small",variant:"secondary",onClick:y,children:"Inviter"}),e.jsx(ee,{content:"Kan ikke slette jobbsøker som er invitert",showTooltip:i!==v.LAGT_TIL,children:e.jsx(k,{size:"small",variant:"secondary",disabled:i!==v.LAGT_TIL,icon:e.jsx(ye,{"aria-hidden":!0}),onClick:()=>z(!0),children:"Slett"})}),te&&e.jsx(Q,{rekrutteringstreffId:l,jobbsøkerId:s,jobbsøkerNavn:`${t} ${r}`,jobbsøkereHook:j,setVisModal:z}),C&&e.jsx(Y,{content:ze(C),children:e.jsx(U,{size:"small",variant:Ae(C.eksternStatus),className:"cursor-help text-nowrap",children:Fe(C.eksternKanal)})}),e.jsx(U,{size:"medium",variant:q.variant,className:"text-nowrap",children:q.text})]})]})};V.__docgenInfo={description:"",methods:[],displayName:"JobbsøkerKort",props:{fødselsnummer:{required:!1,tsType:{name:"string"},description:""},personTreffId:{required:!0,tsType:{name:"string"},description:""},fornavn:{required:!0,tsType:{name:"string"},description:""},etternavn:{required:!0,tsType:{name:"string"},description:""},navKontor:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},veileder:{required:!1,tsType:{name:"union",raw:"Veileder | null",elements:[{name:"signature",type:"object",raw:`{
  navn?: string | null;
  navIdent?: string | null;
}`,signature:{properties:[{key:"navn",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"navIdent",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}}]}},{name:"null"}]},description:""},status:{required:!0,tsType:{name:"z.infer",elements:[{name:"JobbsøkerStatusEnum"}],raw:"z.infer<typeof JobbsøkerStatusEnum>"},description:""},sisteRelevanteHendelse:{required:!1,tsType:{name:"z.infer",elements:[{name:"HendelseSchema"}],raw:"z.infer<typeof HendelseSchema>"},description:""},hendelser:{required:!1,tsType:{name:"Array",elements:[{name:"z.infer",elements:[{name:"HendelseSchema"}],raw:"z.infer<typeof HendelseSchema>"}],raw:"HendelseDTO[]"},description:""},onCheckboxChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:""},erValgt:{required:!0,tsType:{name:"boolean"},description:""},erDeaktivert:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onInviterClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},jobbsøkereHook:{required:!1,tsType:{name:"Pick",elements:[{name:"SWRResponse",elements:[{name:"z.infer",elements:[{name:"JobbsøkereSchema"}],raw:"z.infer<typeof JobbsøkereSchema>"}],raw:"SWRResponse<JobbsøkereDTO>"},{name:"literal",value:"'mutate'"}],raw:"Pick<SWRResponse<JobbsøkereDTO>, 'mutate'>"},description:""},rekrutteringstreffId:{required:!0,tsType:{name:"string"},description:""},rekrutteringstreffStatus:{required:!0,tsType:{name:"z.infer",elements:[{name:"RekrutteringstreffStatusEnum"}],raw:`z.infer<
  typeof RekrutteringstreffStatusEnum
>`},description:""}}};const qe=({children:t})=>{const r=[{fornavn:"Ola",etternavn:"Nordmann",personTreffId:"person-1",fødselsnummer:"01010112345",veilederNavIdent:"Z123456",veilederNavn:"Veileder V",navkontor:"NAV Oslo",hendelser:[{id:"h1",hendelsestype:"OPPRETT",tidspunkt:new Date().toISOString(),aktørIdentifikasjon:"Z654321",fornavn:"Ola",etternavn:"Nordmann",fødselsnummer:"01010112345",personTreffId:"person-1"}]},{fornavn:"Kari",etternavn:"Hansen",personTreffId:"person-2",fødselsnummer:"02020254321",veilederNavIdent:"Z111111",veilederNavn:"Veileder K",navkontor:"NAV Bergen",hendelser:[{id:"h2",hendelsestype:"OPPRETT",tidspunkt:new Date().toISOString(),aktørIdentifikasjon:"Z222222",fornavn:"Kari",etternavn:"Hansen",fødselsnummer:"02020254321",personTreffId:"person-2"},{id:"h3",hendelsestype:"INVITER",tidspunkt:new Date().toISOString(),aktørIdentifikasjon:"Z222222",fornavn:"Kari",etternavn:"Hansen",fødselsnummer:"02020254321",personTreffId:"person-2"}]}];return e.jsx(e.Fragment,{children:t(r)})},De=()=>{const[t,r]=f.useState(new Set),[s,n]=f.useState([]),a=f.useRef(null);return e.jsx(qe,{children:i=>e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(o=>{const d=t.has(o.fødselsnummer);return e.jsx("li",{children:e.jsx(V,{fornavn:o.fornavn,etternavn:o.etternavn,personTreffId:o.personTreffId,fødselsnummer:o.fødselsnummer,navKontor:o.navkontor,veileder:{navn:o.veilederNavn,navIdent:o.veilederNavIdent},rekrutteringstreffId:"storybook-treff",rekrutteringstreffStatus:T.PUBLISERT,jobbsøkereHook:void 0,status:v.LAGT_TIL,erValgt:d,onCheckboxChange:c=>{r(p=>{const u=new Set(p);return c?u.add(o.fødselsnummer):u.delete(o.fødselsnummer),u})},onInviterClick:()=>{n([{personTreffId:o.personTreffId,fornavn:o.fornavn,etternavn:o.etternavn,fødselsnummer:o.fødselsnummer,veilederNavIdent:o.veilederNavIdent}]),a.current?.showModal()}})},o.fødselsnummer)})}),e.jsx(O,{modalref:a,inviterInternalDtoer:s,onInvitasjonSendt:()=>{a.current?.close(),n([]),r(new Set)},onFjernJobbsøker:o=>n(d=>d.filter(c=>c.fødselsnummer!==o))})]})})},N=t=>e.jsxs("section",{style:{display:"grid",gap:"0.5rem"},children:[e.jsx("h4",{style:{fontWeight:600,fontSize:"0.85rem"},children:t.title}),t.children]}),Xt={title:"App/Rekrutteringstreff/JobbsøkerKomponenter",tags:["autodocs"],parameters:{layout:"padded",docs:{description:{component:"Samleside for jobbsøker-relaterte UI-komponenter. Hver seksjon viser en enkelt komponent i en minimal state."}}},decorators:[t=>e.jsx(ce,{rekrutteringstreffId:"storybook-treff",children:e.jsx(t,{})})],render:()=>{const t=f.useRef(null),[r,s]=f.useState(!1);return e.jsxs("div",{style:{display:"grid",gap:"2.5rem"},children:[e.jsx(N,{title:"JobbsøkerKort",children:e.jsx(V,{fornavn:"Ola",etternavn:"Nordmann",personTreffId:"person-1",navKontor:"NAV Oslo",veileder:{navn:"Veileder V",navIdent:"Z123456"},status:v.LAGT_TIL,rekrutteringstreffId:"storybook-treff",rekrutteringstreffStatus:T.FULLFØRT,jobbsøkereHook:void 0,onCheckboxChange:()=>{},erValgt:!1,onInviterClick:()=>s(!0)})}),e.jsx(N,{title:"Jobbsøkere (liste mock)",children:e.jsx(De,{})}),e.jsx(N,{title:"JobbsøkerHendelserKort (tom)",children:e.jsx(X,{jobbsøkerHendelserDTO:[],rekrutteringstreffId:"",rekrutteringstreffStatus:T.PUBLISERT})}),e.jsx(N,{title:"LeggTilJobbsøkerKnapp & InviterModal",children:e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[e.jsx(J,{}),e.jsx("button",{type:"button",onClick:()=>s(!0),style:{border:"1px solid #ccc",padding:"0.5rem 0.75rem",borderRadius:4,background:"white",cursor:"pointer"},children:"Åpne InviterModal"}),e.jsx(O,{modalref:t,inviterInternalDtoer:[{personTreffId:"person-1",fornavn:"Ola",etternavn:"Nordmann",fødselsnummer:"01010112345",veilederNavIdent:"Z123456"}],onFjernJobbsøker:()=>{},onInvitasjonSendt:()=>{s(!1)}}),r&&e.jsx("p",{style:{fontSize:12,color:"#555"},children:"(Modal ville vært åpen her dersom komponenten styrer dialog)"})]})}),e.jsx(N,{title:"NavnLenke",children:e.jsx(M,{fornavn:"Ola",etternavn:"Nordmann",personTreffId:"person-1",rekrutteringstreffId:"treff-1"})})]})}},R={};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:"{}",...R.parameters?.docs?.source}}};export{R as Oversikt,Xt as default};
