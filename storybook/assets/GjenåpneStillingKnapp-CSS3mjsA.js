import{r as o,E as I,R as h,aL as x,u as y,bu as K,cI as d,j as e,d as r,H as R,B as O,J as _,cL as N,cM as E,Q as C,cA as w,A as F,S as L,cN as z}from"./iframe-Cb_tEQhr.js";import{B as P}from"./Box-B2xKaxHG.js";import{S as B}from"./EyeSlash-CjTlngG3.js";import{S as D}from"./CircleSlash-Bq-GOaQO.js";import{M as v}from"./Modal-CxDUfJGc.js";import{a as A}from"./Checkbox-DLKvtWfC.js";import{S as M}from"./Pencil-Dilr86s3.js";import{F as V}from"./FullførStillingModal-KfGIiNGp.js";import{S as G}from"./Tasklist-kpvIf_s4.js";import{s as H}from"./PersonbrukerTekst-CVhFlcLv.js";var T=function(t,i){var l={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(l[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)i.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(l[s[n]]=t[s[n]]);return l};const W=o.forwardRef((t,i)=>{var{title:l,titleId:s}=t,n=T(t,["title","titleId"]);let a=I();return a=l?s||"title-"+a:void 0,h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:i,"aria-labelledby":a},n),l?h.createElement("title",{id:a},l):null,h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 6.25a.75.75 0 0 0-.75.75v10c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75V7a.75.75 0 0 0-.75-.75zm.75 10v-8.5h1.5v8.5zm6.25-10a.75.75 0 0 0-.75.75v10c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75V7a.75.75 0 0 0-.75-.75zm.75 10v-8.5h1.5v8.5z",clipRule:"evenodd"}))});var $=function(t,i){var l={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(l[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)i.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(l[s[n]]=t[s[n]]);return l};const J=o.forwardRef((t,i)=>{var{title:l,titleId:s}=t,n=$(t,["title","titleId"]);let a=I();return a=l?s||"title-"+a:void 0,h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:i,"aria-labelledby":a},n),l?h.createElement("title",{id:a},l):null,h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.62 6.354a.75.75 0 0 1 .744-.01l9 5a.75.75 0 0 1 0 1.312l-9 5A.75.75 0 0 1 8.25 17V7a.75.75 0 0 1 .37-.646m1.13 1.92v7.451L16.456 12z",clipRule:"evenodd"}))});function Q(){const{stillingsData:t,refetch:i}=x(),{valgtNavKontor:l,brukerData:s}=y(),n=K(),[a,c]=o.useState(!1),[p,u]=o.useState(!1),[g,k]=o.useState(!1),b=async(j,S)=>{c(!0);try{const m=await N({...t,stilling:{...t.stilling,status:j,privacy:p?"SHOW_ALL":"INTERNAL_NOT_SHOWN",administration:{...t.stilling.administration,status:S}}},{eierNavident:s.ident,eierNavn:s.navn,eierNavKontorEnhetId:l?.navKontor});m.stilling.uuid&&(i?.(),n.push(`/stilling/${m.stilling.uuid}`))}finally{c(!1)}},f=t.stilling.status;return f===d.Aktiv?e.jsx(e.Fragment,{children:e.jsx(r,{loading:a,icon:e.jsx(W,{}),size:"small",className:"mt-4 w-full",onClick:()=>b(d.Inaktiv,E.Pending),children:"Pause søkerforslag"})}):f===d.Inaktiv?e.jsxs(e.Fragment,{children:[e.jsxs(P.New,{background:"brand-beige-moderate",borderRadius:"large",className:"my-4 p-4",children:[e.jsx(R,{level:"2",size:"xsmall",className:"mb-2",children:"Du mottar ikke søkerforslag"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(O,{size:"small",children:"Oppdraget er skjult. Folk kan fortsatt finne oppdraget ved å filtrerer det inn."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(O,{size:"small",children:"Andre kan ikke foreslå jobbsøkere."})]})]})]}),e.jsxs(e.Fragment,{children:[e.jsx(r,{loading:a,icon:e.jsx(J,{}),size:"small",className:"mt-4 w-full",onClick:()=>k(!0),children:"Åpne søkerforslag"}),e.jsxs(v,{open:g,onClose:()=>k(!1),header:{heading:"Åpne søkerforslag",size:"small",closeButton:!1},width:"small",children:[(t?.stilling?.properties?.applicationurl!=null||t?.stilling?.properties?.applicationemail!=null)&&e.jsx(v.Body,{children:e.jsx(_,{children:e.jsx(A,{checked:p,onChange:j=>u(j.target.checked),children:"Publiser stillingsoppdraget offentlig på arbeidsplassen.no også"})})}),e.jsxs(v.Footer,{children:[e.jsx(r,{type:"button",onClick:()=>b(d.Aktiv,E.Done),children:"Åpne søkerforslag"}),e.jsx(r,{type:"button",variant:"secondary",onClick:()=>k(!1),children:"Avbryt"})]})]})]})]}):null}Q.__docgenInfo={description:"",methods:[],displayName:"EndreSøkeforslag"};function U(){const{stillingsData:t,erEier:i,kandidatlisteInfo:l}=x(),s=K();return i?e.jsx(r,{disabled:l?.kandidatlisteStatus==="LUKKET",variant:"secondary",size:"small",className:"h-5 w-full",icon:e.jsx(M,{}),onClick:()=>s.push(`/stilling/${t.stilling.uuid}/rediger`),children:"Rediger"}):null}U.__docgenInfo={description:"",methods:[],displayName:"RedigerStillingKnapp"};function q(){const[t,i]=o.useState(!1),{stillingsData:l,erEier:s}=x(),n=C(l,s);return e.jsxs(e.Fragment,{children:[e.jsx(r,{onClick:()=>i(!0),disabled:n.data?.status===w.Lukket&&l.stilling.status===d.Stoppet||!n.data?.kandidatlisteId,variant:"secondary",size:"small",className:"h-5 w-full",icon:e.jsx(G,{}),children:"Fullfør"}),t&&e.jsx(V,{setVisModal:()=>i(!1)})]})}q.__docgenInfo={description:"",methods:[],displayName:"FullførStillingKnapp"};function X(){const[t,i]=o.useState(!1),{stillingsData:l,refetch:s,kandidatlisteInfo:n}=x(),{brukerData:a,valgtNavKontor:c,visVarsel:p}=y(),u=async()=>{i(!0);try{await Promise.all([N({...l,stilling:{...l.stilling,status:d.Stoppet}},{eierNavident:a.ident,eierNavn:a.navn,eierNavKontorEnhetId:c?.navKontor})]),p({type:"success",tekst:"Stillingoppdrag stoppet."}),s?.()}catch(g){p({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new F({message:"Klarte ikke å stoppe oppdrag via stopp knapp",error:g})}i(!1)};return n?.kandidatlisteStatus===w.Lukket&&l.stilling.status!==d.Stoppet?e.jsx(r,{loading:t,size:"small",className:"w-full",onClick:u,children:"Set som avsluttet"}):null}X.__docgenInfo={description:"",methods:[],displayName:"StoppStillingKnapp"};function Y(){const{stillingsData:t,refetch:i,erEier:l}=x(),{valgtNavKontor:s,brukerData:n,visVarsel:a}=y(),c=C(t,l),[p,u]=o.useState(!1),[g,k]=o.useState(!1),[b,f]=o.useState(!1),j=async S=>{u(!0);try{await H(S,w.Åpen),await N({...t,stilling:{...t.stilling,status:d.Aktiv,privacy:g?"SHOW_ALL":"INTERNAL_NOT_SHOWN"}},{eierNavident:n.ident,eierNavn:n.navn,eierNavKontorEnhetId:s?.navKontor}),a({type:"success",tekst:"Oppdraget gjenåpnet."}),i?.(),c.mutate()}catch(m){a({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new F({message:"Klarte ikke å gjenåpne oppdrag",error:m})}u(!1)};return e.jsx(L,{hooks:[c],children:S=>e.jsxs(e.Fragment,{children:[e.jsx(r,{loading:p,size:"small",className:"w-full",onClick:()=>f(!0),children:"Gjenåpne"}),e.jsxs(v,{open:b,onClose:()=>f(!1),header:{heading:"Gjenåpne stillingsoppdrag",size:"small",closeButton:!1},width:"small",children:[t?.stillingsinfo?.stillingskategori!==z.Formidling&&(t?.stilling?.properties?.applicationurl!=null||t?.stilling?.properties?.applicationemail!=null)&&e.jsx(v.Body,{children:e.jsx(_,{children:e.jsx(A,{checked:g,onChange:m=>k(m.target.checked),children:"Publiser stillingsoppdraget offentlig på arbeidsplassen.no også"})})}),e.jsxs(v.Footer,{children:[e.jsx(r,{type:"button",onClick:()=>j(S.kandidatlisteId),children:"Gjenåpne"}),e.jsx(r,{type:"button",variant:"secondary",onClick:()=>f(!1),children:"Avbryt"})]})]})]})})}Y.__docgenInfo={description:"",methods:[],displayName:"GjenåpneStillingKnapp"};export{Q as E,q as F,Y as G,U as R,X as S};
