import{r as d,y as _,R as h,am as w,u as O,bc as R,cg as u,j as e,o,H as M,B as K,E as b,ch as I,cl as z,an as F,S as B,ci as P,cc as N,w as E,cm as $}from"./iframe-DZyrTSlI.js";import{B as L}from"./Box-C5SzHthS.js";import{S as D}from"./EyeSlash-C4HKtCGY.js";import{S as G}from"./CircleSlash-C_QNxvX-.js";import{M as v}from"./Modal-DGAQvmmn.js";import{a as T}from"./Checkbox-SQiPBzAX.js";import{S as W}from"./Pencil-BjUL-Vnc.js";import{P as J,s as H}from"./PersonbrukerTekst-D-xg_Sye.js";import{S as U}from"./ClockDashed-rjBmLAoK.js";import{S as q}from"./Tasklist-BZ82i7iV.js";var Q=function(s,a){var l={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&a.indexOf(t)<0&&(l[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(s);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(s,t[n])&&(l[t[n]]=s[t[n]]);return l};const X=d.forwardRef((s,a)=>{var{title:l,titleId:t}=s,n=Q(s,["title","titleId"]);let i=_();return i=l?t||"title-"+i:void 0,h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},n),l?h.createElement("title",{id:i},l):null,h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.75 3.75V7.5a.75.75 0 0 1-1.5 0v-4c0-.69.56-1.25 1.25-1.25h9c.69 0 1.25.56 1.25 1.25v7a.75.75 0 0 1-1.5 0V3.75zm-1.75 7a.25.25 0 0 0-.25.25v9.25h12.5v-6.5H12a.75.75 0 0 1-.75-.75v-2a.25.25 0 0 0-.25-.25zM4.25 11c0-.966.784-1.75 1.75-1.75h5c.966 0 1.75.784 1.75 1.75v1.25h5.75c.69 0 1.25.56 1.25 1.25v7c0 .69-.56 1.25-1.25 1.25h-13c-.69 0-1.25-.56-1.25-1.25zM10 4.75a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var Y=function(s,a){var l={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&a.indexOf(t)<0&&(l[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(s);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(s,t[n])&&(l[t[n]]=s[t[n]]);return l};const Z=d.forwardRef((s,a)=>{var{title:l,titleId:t}=s,n=Y(s,["title","titleId"]);let i=_();return i=l?t||"title-"+i:void 0,h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},n),l?h.createElement("title",{id:i},l):null,h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 6.25a.75.75 0 0 0-.75.75v10c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75V7a.75.75 0 0 0-.75-.75zm.75 10v-8.5h1.5v8.5zm6.25-10a.75.75 0 0 0-.75.75v10c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75V7a.75.75 0 0 0-.75-.75zm.75 10v-8.5h1.5v8.5z",clipRule:"evenodd"}))});var ee=function(s,a){var l={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&a.indexOf(t)<0&&(l[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(s);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(s,t[n])&&(l[t[n]]=s[t[n]]);return l};const te=d.forwardRef((s,a)=>{var{title:l,titleId:t}=s,n=ee(s,["title","titleId"]);let i=_();return i=l?t||"title-"+i:void 0,h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},n),l?h.createElement("title",{id:i},l):null,h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.62 6.354a.75.75 0 0 1 .744-.01l9 5a.75.75 0 0 1 0 1.312l-9 5A.75.75 0 0 1 8.25 17V7a.75.75 0 0 1 .37-.646m1.13 1.92v7.451L16.456 12z",clipRule:"evenodd"}))});function se(){const{stillingsData:s,refetch:a}=w(),{valgtNavKontor:l,brukerData:t}=O(),n=R(),[i,c]=d.useState(!1),[p,g]=d.useState(!1),[f,k]=d.useState(!1),y=async(j,x)=>{c(!0);try{const m=await I({...s,stilling:{...s.stilling,status:j,privacy:p?"SHOW_ALL":"INTERNAL_NOT_SHOWN",administration:{...s.stilling.administration,status:x}}},{eierNavident:t.ident,eierNavn:t.navn,eierNavKontorEnhetId:l?.navKontor});m.stilling.uuid&&(a?.(),n.push(`/stilling/${m.stilling.uuid}`))}finally{c(!1)}},r=s.stilling.status;return r===u.Aktiv?e.jsx(e.Fragment,{children:e.jsx(o,{loading:i,icon:e.jsx(Z,{}),size:"small",className:"w-full  mt-4",onClick:()=>y(u.Inaktiv,z.Pending),children:"Pause søkerforslag"})}):r===u.Inaktiv?e.jsxs(e.Fragment,{children:[e.jsxs(L.New,{background:"brand-beige-moderate",borderRadius:"large",className:"my-4 p-4",children:[e.jsx(M,{level:"2",size:"xsmall",className:"mb-2",children:"Du mottar ikke søkerforslag"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(K,{size:"small",children:"Oppdraget er skjult. Folk kan fortsatt finne oppdraget ved å filtrerer det inn."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(K,{size:"small",children:"Andre kan ikke foreslå jobbsøkere."})]})]})]}),e.jsx(o,{loading:i,icon:e.jsx(te,{}),size:"small",className:"w-full  mt-4",onClick:()=>k(!0),children:"Åpne søkerforslag"}),e.jsxs(v,{open:f,onClose:()=>k(!1),header:{heading:"Åpne søkerforslag",size:"small",closeButton:!1},width:"small",children:[(s?.stilling?.properties?.applicationurl!=null||s?.stilling?.properties?.applicationemail!=null)&&e.jsx(v.Body,{children:e.jsx(b,{children:e.jsx(T,{checked:p,onChange:j=>g(j.target.checked),children:"Publiser stillingsoppdraget offentlig på arbeidsplassen.no også"})})}),e.jsxs(v.Footer,{children:[e.jsx(o,{type:"button",onClick:()=>y(u.Aktiv,z.Done),children:"Åpne søkerforslag"}),e.jsx(o,{type:"button",variant:"secondary",onClick:()=>k(!1),children:"Avbryt"})]})]})]}):null}se.__docgenInfo={description:"",methods:[],displayName:"EndreSøkeforslag"};function le(){const{stillingsData:s,erEier:a,kandidatlisteInfo:l}=w(),t=R();return a?e.jsx(o,{disabled:l?.kandidatlisteStatus==="LUKKET",variant:"secondary",size:"small",className:"h-5 w-full",icon:e.jsx(W,{}),onClick:()=>t.push(`/stilling/${s.stilling.uuid}/rediger`),children:"Rediger"}):null}le.__docgenInfo={description:"",methods:[],displayName:"RedigerStillingKnapp"};function V(){return e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Oppdraget og annonsen"}),e.jsxs("div",{className:"flex flex-col gap-3 ",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{"aria-hidden":!0}),e.jsx(b,{size:"small",className:"m-0",children:"Annonsen vises ikke lenger som aktiv."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{"aria-hidden":!0}),e.jsx(b,{size:"small",className:"m-0",children:"Du kan fremdeles se detaljer om oppdraget."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{"aria-hidden":!0}),e.jsx(b,{size:"small",className:"m-0",children:"Du kan gjenåpne oppdraget hvis du vil gjøre noen endringer."})]})]})]})}V.__docgenInfo={description:"",methods:[],displayName:"FullførOppdragTekst"};function ne(){const[s,a]=d.useState(!1),{stillingsData:l,refetch:t,erEier:n}=w(),{valgtNavKontor:i,brukerData:c,visVarsel:p}=O(),[g,f]=d.useState(!1),k=F(l,n),y=async r=>{f(!0);try{await Promise.all([H(r,N.Lukket),I({...l,stilling:{...l.stilling,status:u.Stoppet}},{eierNavident:c.ident,eierNavn:c.navn,eierNavKontorEnhetId:i?.navKontor})]),p({type:"success",tekst:"Du har nå fullført oppdraget."}),t?.(),k.mutate(),t&&t()}catch(j){p({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new E({message:"Klarte ikke å fullføre oppdrag",error:j})}f(!1),a(!1)};return e.jsx(B,{hooks:[k],children:r=>{const x=(r?.kandidater?.filter(S=>!S.arkivert)??[]).filter(S=>S.utfall===P.FATT_JOBBEN).length+(r?.formidlingerAvUsynligKandidat?.filter(S=>S.utfall===P.FATT_JOBBEN)?.length||0),m=r?.antallStillinger,C=x,A=C===0;return e.jsxs(e.Fragment,{children:[e.jsxs(v,{width:600,open:s,onClose:()=>a(!1),header:{heading:"Fullfør oppdraget"},children:[e.jsxs(v.Body,{children:[e.jsx(b,{className:"mb-3",children:A?"Ingen stillinger er besatt":`${C} av ${m} 
                  ${m===1?"stilling":"stillinger"} er
                  besatt.`}),e.jsxs(L.New,{borderRadius:"large",background:"neutral-soft",className:"p-5",children:[e.jsx(b,{className:" font-bold",children:"Dette skjer når du fullfører"}),e.jsx(V,{}),!A&&e.jsx(J,{})]})]}),e.jsxs(v.Footer,{children:[e.jsx(o,{type:"button",disabled:g||r.status===N.Lukket&&l.stilling.status===u.Stoppet,onClick:()=>r.kandidatlisteId&&y(r.kandidatlisteId),children:"Fullfør"}),e.jsx(o,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Avbryt"})]})]}),e.jsx(o,{onClick:()=>a(!0),disabled:g||r.status===N.Lukket&&l.stilling.status===u.Stoppet||!r.kandidatlisteId,variant:"secondary",size:"small",className:"h-5 w-full",icon:e.jsx(q,{}),children:"Fullfør"})]})}})}ne.__docgenInfo={description:"",methods:[],displayName:"FullførStillingKnapp"};function ae(){const[s,a]=d.useState(!1),{stillingsData:l,refetch:t,kandidatlisteInfo:n}=w(),{brukerData:i,valgtNavKontor:c,visVarsel:p}=O(),g=async()=>{a(!0);try{await Promise.all([I({...l,stilling:{...l.stilling,status:u.Stoppet}},{eierNavident:i.ident,eierNavn:i.navn,eierNavKontorEnhetId:c?.navKontor})]),p({type:"success",tekst:"Stillingoppdrag stoppet."}),t?.()}catch(f){p({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new E({message:"Klarte ikke å stoppe oppdrag via stopp knapp",error:f})}a(!1)};return n?.kandidatlisteStatus===N.Lukket&&l.stilling.status!==u.Stoppet?e.jsx(o,{loading:s,size:"small",className:"w-full",onClick:g,children:"Set som avsluttet"}):null}ae.__docgenInfo={description:"",methods:[],displayName:"StoppStillingKnapp"};function ie(){const{stillingsData:s,refetch:a,erEier:l}=w(),{valgtNavKontor:t,brukerData:n,visVarsel:i}=O(),c=F(s,l),[p,g]=d.useState(!1),[f,k]=d.useState(!1),[y,r]=d.useState(!1),j=async x=>{g(!0);try{await Promise.all([H(x,N.Åpen),I({...s,stilling:{...s.stilling,status:u.Aktiv,privacy:f?"SHOW_ALL":"INTERNAL_NOT_SHOWN"}},{eierNavident:n.ident,eierNavn:n.navn,eierNavKontorEnhetId:t?.navKontor})]),i({type:"success",tekst:"Oppdraget gjenåpnet."}),a?.(),c.mutate()}catch(m){i({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new E({message:"Klarte ikke å gjenåpne oppdrag",error:m})}g(!1)};return e.jsx(B,{hooks:[c],children:x=>e.jsxs(e.Fragment,{children:[e.jsx(o,{loading:p,size:"small",className:"w-full",onClick:()=>r(!0),children:"Gjenåpne"}),e.jsxs(v,{open:y,onClose:()=>r(!1),header:{heading:"Gjenåpne stillingsoppdrag",size:"small",closeButton:!1},width:"small",children:[s?.stillingsinfo?.stillingskategori!==$.Formidling&&(s?.stilling?.properties?.applicationurl!=null||s?.stilling?.properties?.applicationemail!=null)&&e.jsx(v.Body,{children:e.jsx(b,{children:e.jsx(T,{checked:f,onChange:m=>k(m.target.checked),children:"Publiser stillingsoppdraget offentlig på arbeidsplassen.no også"})})}),e.jsxs(v.Footer,{children:[e.jsx(o,{type:"button",onClick:()=>j(x.kandidatlisteId),children:"Gjenåpne"}),e.jsx(o,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Avbryt"})]})]})]})})}ie.__docgenInfo={description:"",methods:[],displayName:"GjenåpneStillingKnapp"};export{se as E,ne as F,ie as G,le as R,ae as S};
