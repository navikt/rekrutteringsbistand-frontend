import{r as d,k as j,l as c,j as s,B as f,e as x}from"./iframe-qbxWu-tL.js";import{s as k}from"./util-C1rHrxvH.js";import{u as y}from"./KandidatContext-DSwhTM5P.js";import{g as O,M as w}from"./miljø-Cn9pyrta.js";var S=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const _=d.forwardRef((e,o)=>{var{title:r,titleId:t}=e,a=S(e,["title","titleId"]);let i=j();return i=r?t||"title-"+i:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":i},a),r?c.createElement("title",{id:i},r):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.532 3.471A.75.75 0 0 1 20.75 4v7.5a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H12.5a.75.75 0 0 1 0-1.5H20c.206 0 .393.083.529.218l.001.002zM4.75 9A.25.25 0 0 1 5 8.75h7a.75.75 0 0 0 0-1.5H5A1.75 1.75 0 0 0 3.25 9v10c0 .966.784 1.75 1.75 1.75h10A1.75 1.75 0 0 0 16.75 19v-7a.75.75 0 0 0-1.5 0v7a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25z",clipRule:"evenodd"}))}),E=O()===w.ProdGcp?"https://veilarbpersonflate.intern.nav.no":"https://veilarbpersonflate.intern.dev.nav.no",M=`${E}/dialog`;function N(){const{kandidatData:e}=y(),[o,r]=d.useState(!1),[t,a]=d.useState(0),[i,b]=d.useState([]),m=(e?.geografiJobbonsker?.length??0)>0,p=(e?.yrkeJobbonskerObj?.length??0)>0,u=(e?.kompetanseObj?.length??0)>0,g=e?.kommuneNavn!==null,h=(e?.sprak?.length??0)>0,v=async n=>{r(!0),await k(M,n),r(!1)};return d.useEffect(()=>{if(e){let n=0;const l=[];m?n+=20:l.push("Ønsket jobbsted"),p?n+=20:l.push("Jobbønske"),u?n+=20:l.push("Kompetanse"),h?n+=20:l.push("Språk"),g?n+=20:l.push("Bosted"),a(n),b(l)}},[e,m,p,u,h,g]),s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 flex h-2 w-full",children:[...Array(5)].map((n,l)=>s.jsx("div",{className:`mr-0.5 flex-1 rounded-sm last:mr-0 ${l*20<t?"bg-blue-500":"bg-gray-200"}`},l))}),t===100?s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"mt-1",children:"✓"}),s.jsx(f,{children:"Kandidaten har fullført profilen sin. Det øker sjansen for at de finner en jobb som passer."})]}):s.jsxs(s.Fragment,{children:[s.jsxs(f,{spacing:!0,children:["Hør om kandidaten kan ",t<60?"dele":"oppgi",": "]}),s.jsx("ul",{children:i.map(n=>s.jsxs("li",{children:["- ",n]},n))}),s.jsx("br",{}),s.jsx(f,{spacing:!0,children:"Det øker sjansen for at de finner en jobb som passer."}),s.jsx(x,{loading:o,disabled:!e.fodselsnummer,onClick:()=>e.fodselsnummer&&v(e.fodselsnummer),variant:"secondary",className:"mt-4 w-full",icon:s.jsx(_,{}),children:"Gå til dialogen i Modia"})]})]})}N.__docgenInfo={description:"",methods:[],displayName:"Profilkvalitet"};export{N as P};
