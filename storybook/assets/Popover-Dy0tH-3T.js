import{a as k}from"./floating-ui.react-BeyQwPMw.js";import{r as u,e as C,R as c,i as F,aA as M,aC as $,aB as L,aE as A,h as B,aH as H}from"./iframe-DpIzbEh6.js";import{u as T}from"./Date.Input-C0FLtTG3.js";import{u as U}from"./Modal.context-BiOdcH09.js";import{D as X}from"./DismissableLayer-D8ZhvvRv.js";import{u as x}from"./useClientLayoutEffect-BEllSSZA.js";var Y=function(r,a){var n={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&a.indexOf(e)<0&&(n[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)a.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(n[e[t]]=r[e[t]]);return n};const Z=u.forwardRef((r,a)=>{var{className:n}=r,e=Y(r,["className"]);const{cn:t}=C();return c.createElement("div",Object.assign({},e,{ref:a,className:t("navds-popover__content",n)}))});var q=function(r,a){var n={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&a.indexOf(e)<0&&(n[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)a.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(n[e[t]]=r[e[t]]);return n};const z=u.forwardRef((r,a)=>{var{className:n,children:e,anchorEl:t,arrow:m=!0,open:s,onClose:f,placement:E="top",offset:i,strategy:d,flip:P=!0}=r,g=q(r,["className","children","anchorEl","arrow","open","onClose","placement","offset","strategy","flip"]);const{cn:v}=C(),y=u.useRef(null),_=U(!1)!==void 0,R=T(!1),S=d??(_?"fixed":"absolute"),D=R?!1:P,l=F(!1),{update:b,refs:o,placement:O,middlewareData:{arrow:{x:h,y:w}={}},floatingStyles:N}=k({strategy:S,placement:E,open:s,middleware:[M(i??(l?.isDarkside?8:m?16:4)),D&&$({padding:5,fallbackPlacements:["bottom","top"]}),L({padding:12}),A({element:y,padding:8})]});x(()=>{o.setReference(t)},[t,o]);const I=B(o.setFloating,a);x(()=>{if(!o.reference.current||!o.floating.current||!s)return;const p=H(o.reference.current,o.floating.current,b);return()=>p()},[o.floating,o.reference,b,s,t]);const j={top:"bottom",right:"left",bottom:"top",left:"right"}[O.split("-")[0]];return c.createElement(X,{asChild:!0,safeZone:{anchor:t},onDismiss:()=>s&&f?.(),enabled:s},c.createElement("div",Object.assign({ref:I},g,{className:v("navds-popover",n,{"navds-popover--hidden":!s||!t}),style:Object.assign(Object.assign({},g.style),N),"data-placement":O,"aria-hidden":!s||!t}),e,m&&!l?.isDarkside&&c.createElement("div",{ref:p=>{y.current=p},style:Object.assign(Object.assign(Object.assign({},h!=null?{left:h}:{}),w!=null?{top:w}:{}),j?{[j]:"-0.5rem"}:{}),className:v("navds-popover__arrow")})))});z.Content=Z;export{z as P};
