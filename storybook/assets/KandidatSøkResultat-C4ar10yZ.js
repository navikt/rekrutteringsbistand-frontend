import{cc as N,r as p,j as r,S as T}from"./iframe-BQ1incyN.js";import{L}from"./LagreIRekrutteringstreffKnapp-BXtDpCMF.js";import{u}from"./KandidaSokFilterContext-D9ePWtxj.js";import{u as R}from"./KandidatSøkMarkerteContext-CjaKukke.js";import{K as M}from"./KandidatKort-BdP1J5qx.js";import{L as b}from"./LagreIKandidatlisteButton-B_4CPO78.js";import{R as C}from"./RekrutteringstreffFeatureToggle-Bvwm09oe.js";import{S as P}from"./SideScroll-CxXUqZTg.js";import{S as w}from"./SkeletonKort-B6rYl6Vo.js";import{u as _}from"./KandidatNavigeringContext-r-rUSlvK.js";import{a as q}from"./Checkbox-BDzM6iJ5.js";import{P as F}from"./Pagination-DIJJGrwa.js";const k=(e,{inkluderSide:i})=>{const o={fritekst:e.fritekst,portefølje:e.portefølje,sortering:e.sortering,valgtKontor:[...e.valgtKontor].sort(),innsatsgruppe:[...e.innsatsgruppe].sort(),ønsketYrke:[...e.ønsketYrke].sort(),ønsketSted:[...e.ønsketSted].sort(),borPåØnsketSted:e.borPåØnsketSted,kompetanse:[...e.kompetanse].sort(),førerkort:[...e.førerkort].sort(),prioritertMålgruppe:[...e.prioritertMålgruppe].sort(),hovedmål:[...e.hovedmål].sort(),utdanningsnivå:[...e.utdanningsnivå].sort(),arbeidserfaring:[...e.arbeidserfaring].sort(),språk:[...e.språk].sort(),ferskhet:e.ferskhet??null,orgenhet:e.orgenhet},l=i?{...o,side:e.side}:o;return JSON.stringify(l)},A=({stillingsId:e,rekrutteringstreffId:i,alleredeLagtTilTreff:o,alleredeLagtTilKandidatliste:l})=>{const n=u(),{portefølje:f}=u(),m=N(f,n),{setKandidatNavigering:g}=_(),x=p.useRef(null);p.useEffect(()=>{g(m.data?.navigering.kandidatnumre??[])},[m.data?.navigering,g]);const{markerteKandidater:a,setMarkertListe:h,fjernMarkerteKandidater:j}=R(),S=k(n,{inkluderSide:!1}),K=k(n,{inkluderSide:!0});return r.jsx(T,{hooks:[m],skeleton:r.jsx("div",{className:"mt-14",children:r.jsx(w,{})}),children:t=>{if(!t)return null;const c=Math.ceil(t.antallTotalt/25),v=c>390?390:c,y=()=>{if(a&&a.length==t.kandidater.length)j();else if(t.kandidater){const d=t.kandidater.map(s=>s.arenaKandidatnr).filter(s=>s!=null&&s!=="");h(d)}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:x,className:"flex items-center justify-between",children:[r.jsx("div",{className:"ml-5",children:r.jsx(q,{checked:a&&a.length>0&&a.length===t.kandidater.length,onClick:y,children:"Marker alle på siden"})}),r.jsxs("div",{className:"flex flex-row gap-2",children:[!i&&r.jsx(b,{stillingsId:e}),r.jsx(C,{children:!e&&r.jsx(L,{rekrutteringstreffId:i,kandidatsokKandidater:t.kandidater})})]})]}),r.jsxs(P,{lagreScrollNøkkel:`kandidater-${K}`,children:[r.jsx("div",{className:"flex flex-col gap-1 pt-2",children:t.kandidater?.map((d,s)=>r.jsx(M,{stillingsId:e,alleredeLagtTil:l??o,kandidat:d},d.arenaKandidatnr||s))}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:["Viser ",t.antallTotalt," treff"]}),c>1&&r.jsx(F,{className:"my-4 flex justify-center",size:"medium",page:n.side,onPageChange:n.setSide,count:v})]})]},S)]})}})};A.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkResultat",props:{stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};export{A as K};
