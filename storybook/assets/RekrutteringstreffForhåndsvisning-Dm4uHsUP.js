import{b3 as C,b4 as H,b5 as M,r as S,j as e,B as n,P as y,H as m,d as R,f as k,n as F}from"./iframe-Dyt_T7m6.js";import{S as g}from"./Skeleton-DmfYPgIQ.js";import{t as u}from"./index-B40KJ5b4.js";import{S as I}from"./Clock-B94WCDsD.js";import{S as U}from"./LocationPin-DRB_sTIL.js";import{i as _}from"./isSameDay-DI5VtCD9.js";const N=t=>t&&t.charAt(0).toUpperCase()+t.slice(1),b=t=>{if(!t)return null;try{const o=new Date(t);return k(o,"EEEE d. MMMM yyyy",{locale:F})}catch{return null}},A=t=>{if(!t)return null;try{const o=new Date(t);return k(o,"HH:mm",{locale:F})}catch{return null}},E=t=>k(t,"HH:mm"),L=()=>{const{rekrutteringstreffId:t}=C(),{data:o,isLoading:T}=H(t),r=M()?.watch?.(),p=(a,i)=>{if(!(!a||!i))try{const[l,h]=i.split(":").map(j=>parseInt(j,10)),d=new Date(a);return d.setHours(l||0,h||0,0,0),d.toISOString()}catch{return}},s=S.useMemo(()=>{if(!r)return null;const a=p(r.fraDato,r.fraTid),i=p(r.tilDato,r.tilTid),l=p(r.svarfristDato,r.svarfristTid);return{tittel:r.tittel,gateadresse:r.gateadresse,postnummer:r.postnummer,poststed:r.poststed,fraTid:a,tilTid:i,svarfrist:l}},[r]),v=r?.htmlContent,w=S.useMemo(()=>v?{htmlContent:v}:null,[v]);if(T)return e.jsxs("div",{className:"min-h-screen space-y-6 bg-white p-8 text-black","data-theme":"light",children:[e.jsx(g,{variant:"text",width:"60%",height:32}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{variant:"text",width:"100%",height:20}),e.jsx(g,{variant:"text",width:"100%",height:20}),e.jsx(g,{variant:"text",width:"80%",height:20})]})]});if(!s)return e.jsx("div",{className:"min-h-screen bg-white p-8 text-black","data-theme":"light",children:e.jsx("div",{className:"py-8 text-center",children:e.jsx(n,{children:"Kunne ikke laste rekrutteringstreff"})})});const x=s.fraTid?u(y(s.fraTid),"Europe/Oslo"):null,f=s.tilTid?u(y(s.tilTid),"Europe/Oslo"):null,O=()=>{if(!x||!f)return null;const a=b(s.fraTid),i=a?N(a):null,l=E(x),h=E(f);if(_(x,f))return`${i} kl ${l} til ${h}`;{const d=b(s.tilTid),j=d?N(d):null;return`${i} kl ${l} til ${j} kl ${h}`}},$=s.svarfrist?N(`${b(s.svarfrist)} kl ${A(s.svarfrist)}`):null,D=s.svarfrist?u(y(s.svarfrist),"Europe/Oslo"):null,z=u(new Date,"Europe/Oslo");let c=null;if(D){const i=D.getTime()-z.getTime(),l=Math.floor(i/864e5);l<0?c="Utl√∏pt":l===0?c="Utl√∏per i dag":l===1?c="Utl√∏per om 1 dag":c=`Utl√∏per om ${l} dager`}return e.jsx("div",{className:"min-h-screen bg-white text-black","data-theme":"light",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 p-2",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-4 2xl:grid-cols-6",children:[e.jsxs("div",{className:"space-y-6 2xl:col-span-4",children:[e.jsx("div",{children:e.jsx(m,{level:"1",size:"large",className:"text-gray-900",children:s.tittel})}),e.jsxs("div",{className:"flex flex-col gap-4 2xl:flex-row 2xl:gap-16",children:[(x||f)&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(I,{"aria-hidden":!0,fontSize:"1.5rem",className:"flex-shrink-0 text-gray-700"}),e.jsxs("div",{children:[e.jsx(n,{className:"mb-0.5 font-bold text-[var(--ax-text-neutral-subtle)]",children:"Om 6 dager"}),e.jsx(n,{className:"text-gray-900",children:O()})]})]}),(s.gateadresse||s.postnummer||s.poststed)&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(U,{"aria-hidden":!0,fontSize:"1.5rem",className:"flex-shrink-0 text-gray-700"}),e.jsxs("div",{children:[s.gateadresse&&e.jsx(n,{className:"font-bold text-gray-900",children:s.gateadresse}),(s.postnummer||s.poststed)&&e.jsxs(n,{className:"text-gray-900",children:[s.postnummer," ",s.poststed]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{level:"2",size:"medium",className:"font-semibold text-gray-900",children:"Siste aktivitet"}),e.jsxs("div",{className:"space-y-3 rounded-lg bg-gray-100 p-6",children:[e.jsx(m,{level:"3",size:"small",className:"font-semibold text-gray-900",children:"Om treffet"}),w?.htmlContent&&e.jsx("div",{className:"prose prose-sm max-w-none text-gray-800",dangerouslySetInnerHTML:{__html:w.htmlContent}}),e.jsxs("div",{className:"space-y-1 pt-2",children:[e.jsx(n,{className:"text-gray-800",children:"Treff arbeidsgiverne"}),e.jsx(n,{className:"text-gray-800",children:"H√∏r om mulighetene"})]})]})]})]}),e.jsxs("div",{className:"space-y-6 2xl:col-span-2",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"space-y-2 rounded-lg border border-[var(--ax-border-info-subtle,_#99C2FF)] bg-[var(--ax-surface-info-subtle,_#E6F0FF)] p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{className:"flex items-center gap-2 text-gray-900",children:e.jsx("span",{role:"img","aria-label":"flammer",children:"üî•üî•üî•"})}),c&&e.jsx(n,{className:"font-bold text-gray-700",children:c}),c!=="Utl√∏pt"&&e.jsxs(n,{className:"text-gray-700",children:["Du kan endre svaret ditt frem til ",$]})]}),e.jsx(R,{variant:"primary",size:"medium",className:"text-white",children:"Svar"})]})})}),o&&o.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{level:"2",size:"medium",className:"font-semibold text-gray-900",children:"Arbeidsgivere"}),e.jsx("div",{className:"space-y-3",children:o.map((a,i)=>e.jsxs("div",{className:"rounded-lg bg-gray-100 p-5",children:[e.jsx(m,{level:"3",size:"small",className:"mb-1 font-semibold text-gray-900",children:a.navn}),e.jsxs(n,{className:"text-gray-700",children:["Org.nr: ",a.organisasjonsnummer]})]},a.organisasjonsnummer||i))})]})]})]})})})};L.__docgenInfo={description:"",methods:[],displayName:"RekrutteringstreffForh√•ndsvisning"};export{L as R};
