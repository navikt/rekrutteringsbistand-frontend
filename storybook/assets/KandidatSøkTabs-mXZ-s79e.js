import{r as R,h as U,bX as w,j as e,S as q,u as z,R as x,e as j}from"./iframe-DbFLZ0zb.js";import{u as T,a}from"./KandidaSokFilterContext-CkpDQXFS.js";import{L as H}from"./LagreIRekrutteringstreffKnapp-DSLawwlG.js";import{u as J}from"./KandidatSøkMarkerteContext-Bha_4kIs.js";import{K as Y}from"./KandidatKort-DFDjwS-d.js";import{L as W}from"./LagreIKandidatlisteButton-DRpHVBHL.js";import{R as X}from"./RekrutteringstreffFeatureToggle-B-63aCWH.js";import{S as _}from"./SideScroll-ZQYVt9rM.js";import{S as Q}from"./SkeletonKort-DgrFMtbc.js";import{C as u,a as Z}from"./Checkbox-yOH5r9us.js";import{P as $}from"./Pagination-DHcbHC_G.js";import{V as ee}from"./ValgteKontorer-BIGK079q.js";import{b as A,A as S,c as y,K as I,F as V,S as b,a as B,U as P,P as L,I as M}from"./Utdanningsnivå-HJ2E9ZcL.js";import{A as re}from"./AlleFilterKomponent-CZ4gp3YI.js";import{V as se}from"./ValgteFiltre-CsrXrFQf.js";import{T as g}from"./TilgangskontrollForInnhold-PzM5X6Y2.js";const te=R.createContext(void 0),ae=()=>{const r=R.useContext(te);if(!r)throw new U({message:"useKandidatNavigering must be used within a KandidatNavigeringProvider"});return r},O=({type:r,stillingsId:n,rekrutteringstreffId:l,alleredeLagtTilTreff:s,alleredeLagtTilKandidatliste:t})=>{const o=T(),p=w(r,o),{setKandidatNavigering:f}=ae(),d=R.useRef(null);R.useEffect(()=>{f(p.data?.navigering.kandidatnumre??[])},[p.data?.navigering,f]);const{markerteKandidater:c,setMarkertListe:h,fjernMarkerteKandidater:K}=J();return e.jsx(q,{hooks:[p],skeleton:e.jsx("div",{className:"mt-14",children:e.jsx(Q,{})}),children:i=>{const k=Math.ceil(i.antallTotalt/25),C=k>390?390:k,F=()=>{if(c&&c.length==i.kandidater.length)K();else if(i.kandidater){const E=i.kandidater.map(m=>m.arenaKandidatnr).filter(m=>m!=null&&m!=="");h(E)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:d,className:"flex items-center justify-between",children:[e.jsx("div",{className:"ml-5",children:e.jsx(u,{checked:c&&c.length>0&&c.length===i.kandidater.length,onClick:F,children:"Marker alle på siden"})}),e.jsxs("div",{className:"flex flex-row gap-2",children:[!l&&e.jsx(W,{stillingsId:n}),e.jsx(X,{children:!n&&e.jsx(H,{rekrutteringstreffId:l,kandidatsokKandidater:i.kandidater})})]})]}),e.jsxs(_,{children:[e.jsx("div",{className:"flex flex-col gap-1 pt-2",children:i.kandidater?.map((E,m)=>e.jsx(Y,{stillingsId:n,alleredeLagtTil:t??s,kandidat:E},E.arenaKandidatnr||m))}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:["Viser ",i.antallTotalt," treff"]}),k>1&&e.jsx($,{className:"my-4 flex justify-center",size:"medium",page:o.side,onPageChange:o.setSide,count:C})]})]})]})}})};O.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkResultat",props:{type:{required:!0,tsType:{name:"KandidatSøkPortefølje"},description:""},stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};var v=(function(r){return r.SkaffeArbeid="SKAFFE_ARBEID",r.BeholdeArbeid="BEHOLDE_ARBEID",r.ØkeDeltagelse="OKE_DELTAKELSE",r})({});function N(){const{hovedmål:r,setHovedmål:n}=T(),l=s=>{n(s)};return e.jsxs(Z,{size:"small",legend:"Velg kandidatens mål",value:r,onChange:l,children:[e.jsx(u,{value:"SKAFFE_ARBEID",children:"Skaffe arbeid"}),e.jsx(u,{value:"BEHOLDE_ARBEID",children:"Beholde arbeid"}),e.jsx(u,{value:"OKE_DELTAKELSE",children:"Øke deltagelse eller mål om arbeid"})]})}N.__docgenInfo={description:"",methods:[],displayName:"Hovedmål"};function G(){return e.jsx("div",{className:"flex gap-4 ",children:e.jsx("div",{className:"block @[720px]:hidden",children:e.jsx("div",{className:"whitespace-nowrap",children:e.jsxs(re,{children:[e.jsx(A,{}),e.jsx(S,{}),e.jsx(y,{}),e.jsx(I,{}),e.jsx(V,{}),e.jsx(b,{}),e.jsx(B,{})," ",e.jsx(N,{})," ",e.jsx(P,{}),e.jsx(L,{}),e.jsx(M,{})]})})})})}G.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkFilter"};function D(){const r=T(),n=Object.values(r).some(s=>Array.isArray(s)&&s.length>0),l=[{type:r.ønsketYrke,setVerdi:r.setØnsketYrke},{type:r.ønsketSted,setVerdi:r.setØnsketSted},{type:r.innsatsgruppe,setVerdi:r.setInnsatsgruppe},{type:r.hovedmål,setVerdi:r.setHovedmål,mapVerdiNavn:s=>Object.keys(v).find(t=>v[t]===s)||s},{type:r.kompetanse,setVerdi:r.setKompetanse},{type:r.førerkort,setVerdi:r.setFørerkort},{type:r.språk,setVerdi:r.setSpråk},{type:r.arbeidserfaring,setVerdi:r.setArbeidserfaring},{type:r.utdanningsnivå,setVerdi:r.setUtdanningsnivå},{type:r.prioritertMålgruppe,setVerdi:r.setPrioritertMålgruppe}];return r.fritekst&&l.unshift({type:[r.fritekst],setVerdi:()=>r.setFritekst("")}),e.jsx("div",{className:"my-2 w-full",children:e.jsx(se,{filtre:l,tømFiltreProps:n?{fjernFritekst:()=>r.setFritekst("")}:void 0})})}D.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkChips"};const ie=({stillingsId:r,rekrutteringstreffId:n,alleredeLagtTilTreff:l,alleredeLagtTilKandidatliste:s})=>{const{portefølje:t,setPortefølje:o}=T(),{valgtNavKontor:p,brukerData:f}=z(),d="tab-ellipsis",c=()=>e.jsx(j,{variant:t===a.MINE_BRUKERE?"primary":"tertiary",onClick:()=>o(a.MINE_BRUKERE),size:"xsmall",className:d,title:"Mine brukere","aria-label":"Mine brukere",children:"Mine"}),h=()=>p?e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,x.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:e.jsx(j,{variant:t===a.MITT_KONTOR?"primary":"tertiary",onClick:()=>o(a.MITT_KONTOR),size:"xsmall",className:d,title:"Mitt kontor","aria-label":"Mitt kontor",children:"Mitt kontor"})}):null,K=()=>f?.enheter&&f.enheter.length>1?e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,x.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:e.jsx(j,{variant:t===a.MINE_KONTORER?"primary":"tertiary",onClick:()=>o(a.MINE_KONTORER),size:"xsmall",className:d,title:"Mine kontorer","aria-label":"Mine kontorer",children:"Mine kontorer"})}):null,i=()=>e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(j,{variant:t===a.ALLE?"primary":"tertiary",onClick:()=>o(a.ALLE),size:"xsmall",className:d,title:"Alle kontorer","aria-label":"Alle kontorer",children:"Alle"})}),k=()=>e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(j,{variant:t===a.VALGTE_KONTORER?"primary":"tertiary",onClick:()=>o(a.VALGTE_KONTORER),size:"xsmall",className:d,title:"Valgte kontorer","aria-label":"Valgte kontorer",children:"Velg kontor"})});return e.jsxs("div",{className:"@container contain-layout",children:[e.jsxs("div",{className:"flex justify-between flex-col @3xl:flex-row @3xl:gap-0 gap-3 ",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(i,{}),e.jsx(c,{}),e.jsx(h,{}),e.jsx(K,{}),e.jsx(g,{skjulVarsel:!0,kreverEnAvRollene:[x.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:e.jsx(k,{})})]}),e.jsx(G,{})]}),t===a.VALGTE_KONTORER&&e.jsx(ee,{}),e.jsxs("div",{className:"@container/kandidatsøk contain-layout flex",children:[e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsx(D,{}),e.jsx(O,{alleredeLagtTilTreff:l,alleredeLagtTilKandidatliste:s,type:t,stillingsId:r,rekrutteringstreffId:n})]}),e.jsxs("div",{className:"hidden @[720px]:block ml-4 pt-4  max-w-[200px]",children:[e.jsx(A,{}),e.jsx(_,{className:"mt-4",children:e.jsxs("div",{className:"flex flex-col gap-4 ",children:[e.jsx(S,{}),e.jsx(y,{}),e.jsx(I,{}),e.jsx(V,{}),e.jsx(b,{}),e.jsx(B,{}),e.jsx(N,{}),e.jsx(P,{}),e.jsx(L,{}),e.jsx(M,{})]})})]})]})]})};ie.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkTabs",props:{stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};export{ie as K};
