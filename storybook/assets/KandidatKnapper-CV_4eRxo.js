import{av as x,u as S,T,ce as h,r as j,bV as v,bU as E,j as t,ad as R,B as b,cy as a,p as c}from"./iframe-Bietwq5R.js";import{l as K}from"./leggTilKandidat-CshXrYIz.js";import{F as I,L as N}from"./LeggTilKandidatTilStilling-1JtK5eCN.js";import{T as _}from"./TilgangskontrollForInnhold-DWdWwcsX.js";import{U as y}from"./umamiEvents-DmzFNrn7.js";import{B}from"./Box-BPmPSHsF.js";import{S as A}from"./ArrowRight-0-rn7fP2.js";function P(){const{stillingsData:i,erEier:u}=x(),{visVarsel:r}=S(),{track:m}=T(),s=h(i),[e,o]=j.useState(!1),p=v(),d=E(),f=p?.get("finnStilling")!==null,g=(()=>{if(!d)return null;const n=d.split("/").filter(Boolean),l=n.indexOf("kandidat");return l!==-1&&n.length>l+1&&n[l+1]||null})(),k=async n=>{m(y.Stilling.forslag_til_stilling_legg_til_kandidat),o(!0);try{await K([n],i.stilling.uuid),r({tekst:"Kandidat er lagt til i kandidatliste",type:"success"})}catch{r({tekst:"Kandidat kunne ikke legges til i kandidatliste",type:"error"})}finally{o(!1)}};return f&&g?t.jsxs(B.New,{background:"neutral-softA",borderRadius:"xlarge",paddingInline:"space-16",paddingBlock:"space-12",role:"button",tabIndex:0,"aria-label":"Legg til jobbsøkere. Velg og legg til jobbsøkere i stillingen.",className:"group flex items-start justify-between gap-4 cursor-pointer outline-none focus:ring-2 focus:ring-focus focus:ring-offset-2",onClick:()=>!e&&k(g),"aria-busy":e||void 0,children:[e?t.jsx(R,{}):t.jsxs("div",{className:"flex gap-3 items-start",children:[t.jsx("span",{className:"text-xl leading-none mt-0.5",children:"➕"}),t.jsx("div",{className:"flex flex-col",children:t.jsx(b,{spacing:!0,className:"m-0",children:"Legg jobbsøker til stillingen"})})]}),t.jsx(A,{"aria-hidden":!0,className:"transition-transform group-hover:translate-x-1 mt-1"})]}):s.visningsStatus===a.Slettet||s.visningsStatus===a.Fullfort||s.visningsStatus===a.IkkePublisert||!u&&(s.visningsStatus===a.StengtForSokere||s.visningsStatus===a.UtloptStengtForSokere)?null:t.jsx(_,{skjulVarsel:!0,kreverEnAvRollene:[c.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET,c.AD_GRUPPE_REKRUTTERINGSBISTAND_JOBBSOKERRETTET],children:t.jsx("div",{className:"@container/kandidat-knapper contain-layout",children:t.jsxs("div",{className:"grid grid-cols-1 @3xl:grid-cols-2 gap-4 mb-6",children:[t.jsx(I,{stillingId:i.stilling.uuid}),t.jsx(N,{stillingsId:i.stilling.uuid,stillingsTittel:i.stilling.title})]})})})}P.__docgenInfo={description:"",methods:[],displayName:"KandidatKnapper"};export{P as K};
