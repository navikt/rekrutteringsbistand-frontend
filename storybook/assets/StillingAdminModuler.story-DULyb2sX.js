import{r as p,m as he,h4 as x,j as e,aP as b,ij as xe,ik as je,u as ve,h_ as ye,e as E,x as O,h as Z,A as ke,H as D,i as U,E as Y,il as be,a as Se,g as Ne,im as Ae,o as Ve,T as V,c as Le,l as Ie,i9 as Q,aO as Oe,hI as Ce}from"./iframe-BIBlb7jU.js";import{R as j}from"./RedigerBoks-V3Z25Jk-.js";import{S as F}from"./Select-Bfh-LV0p.js";import{T as X}from"./TextField-U5np3qhX.js";import{a as ee,C as S}from"./Checkbox-QUkYp7ny.js";import{o as Te}from"./oppdaterStilling-BbqQNVuB.js";import{m as _e,P as we}from"./PubliserModal-DopeTCEN.js";import{L as Ee}from"./LeggTilKandidater-BJcgBc0X.js";import{I as De}from"./Inkludering-CwNW2o7a.js";import{R as te}from"./RikTekstEditor-cp8BiVtm.js";import{D as C}from"./Definisjon-CSWs9hY_.js";import{f as Fe}from"./util-CAvOd24l.js";import{u as Pe}from"./useArbeidsgiver-D6yKBpkb.js";import{L as $e,V as Re,a as Ke}from"./VelgPoststed-akXZR9U7.js";import{C as se}from"./ComboboxProvider-B4dMTDPu.js";import{S as ze}from"./Tasklist-xX0mvcwc.js";import{F as h}from"./FormSummary-CizqIBvZ.js";import{R as ne,a as _}from"./Radio-Cuc9xCg4.js";import{S as H}from"./PlusCircle-C1sgrpU7.js";import{D as G}from"./DatoVelger-CHSarsN-.js";import{f as re}from"./format-alVTIgQr.js";import{b as Je}from"./useDatepicker-BmiqY62j.js";import"./preload-helper-BWMAHTUm.js";import"./Box-DI91JvLa.js";import"./BasePrimitive-hRRbf9ja.js";import"./useFormField-DrsqqdWL.js";import"./useControllableState-AwvWBElT.js";import"./ChevronDown-DuV9F8YC.js";import"./Fieldset-DcBnFKIB.js";import"./useStilling-Da9PmTTP.js";import"./parse-Dylxks-E.js";import"./getDefaultOptions-COAmtKIT.js";import"./parseISO-Brau4hq8.js";import"./umamiEvents-BDpRy9-M.js";import"./Modal-Dpze01w3.js";import"./floating-ui.react-DEzdvJId.js";import"./Date.Input--Gl-NW01.js";import"./match--zb4cLZ5.js";import"./Calendar-CdzV6HXg.js";import"./Modal.context-CHA4jJyw.js";import"./useDescendant-JMK-5JaG.js";import"./useClientLayoutEffect-Dh5o0Bmr.js";import"./kandidat.mock-D1uM6MNI.js";import"./innsatsgrupper-BqldBv0r.js";import"./Tag-bSqi75pu.js";import"./CheckmarkCircle-BGY64Xn1.js";import"./StillingInkludering-CpJUr96u.js";import"./TekstMedIkon-CdguZL6-.js";import"./Switch-Cgjh5TxH.js";import"./SVGDarkmode-98hKtBL5.js";import"./image-B0Szd5bh.js";import"./use-merged-ref-CEjooRcg.js";import"./Plus-CjLOE9Rb.js";import"./usePamGeografi-_oP1rw-8.js";import"./util-BqVd911_.js";import"./usePamPostdata-wsWffdIy.js";import"./Chips-CNUFkK0j.js";import"./ChevronUp-BSDTovoD.js";import"./Link-DtjVUng9.js";import"./Popover-RWG-ovwh.js";import"./DismissableLayer-DWR2AiB2.js";import"./startOfMonth-B7_Ro9bV.js";import"./endOfMonth-BO1j5qR6.js";import"./ArrowRight-Dnw3CN9f.js";import"./isSameDay-BHU0rCiV.js";var Me=function(t,s){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&s.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)s.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};const qe=p.forwardRef((t,s)=>{var{title:r,titleId:i}=t,n=Me(t,["title","titleId"]);let o=he();return o=r?i||"title-"+o:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},n),r?p.createElement("title",{id:o},r):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 3.25a.75.75 0 0 0-.75.75v16c0 .414.336.75.75.75h16a.75.75 0 0 0 .75-.75V6a.75.75 0 0 0-.22-.53l-2-2a.75.75 0 0 0-.53-.22zm15.25 3.06-1.56-1.56h-.94V7a.75.75 0 0 1-.75.75H8A.75.75 0 0 1 7.25 7V4.75h-2.5v14.5h1.5V11a.75.75 0 0 1 .75-.75h10a.75.75 0 0 1 .75.75v8.25h1.5zm-3 12.94h-8.5v-7.5h8.5zm-1-14.5v1.5h-6.5v-1.5zm-6 9.25a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75m0 3a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});function P({inline:t}){const{control:s}=x(),r=e.jsx("div",{className:"w-[18.75rem]",children:e.jsx(b,{name:"stilling.properties.engagementtype",control:s,render:({field:i,fieldState:{error:n}})=>e.jsxs(F,{value:i.value??"",onChange:o=>i.onChange(o),label:"Ansettelsesform",error:n?.message,children:[e.jsx("option",{value:"",children:"Velg"}),Object.entries(xe).map(([o,c])=>e.jsx("option",{value:c,children:o},o))]})})});return t?r:e.jsx(j,{tittel:"Ansettelsesform",children:r})}P.__docgenInfo={description:"",methods:[],displayName:"Ansettelsesform",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};function $({inline:t}){const{control:s}=x(),r=e.jsx("div",{className:"w-[7.5rem]",children:e.jsx(b,{control:s,name:"stilling.properties.positioncount",render:({field:{onChange:i,value:n},fieldState:{error:o}})=>e.jsx(X,{label:"Antall stillinger",onChange:c=>{const m=c.target.value;if(m==="")i(null);else{const a=Number(m);i(isNaN(a)?null:a)}},value:n==null||isNaN(Number(n))?"":String(n),type:"number",error:o?.message})})});return t?r:e.jsx(j,{tittel:"Antall stillinger",children:r})}$.__docgenInfo={description:"",methods:[],displayName:"AntallStillinger",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};const Be=t=>{if(Array.isArray(t))return t;if(typeof t=="string"){const s=t.trim();if(!s)return[];try{const r=JSON.parse(s);if(Array.isArray(r))return r}catch{}return s.includes(",")?s.split(",").map(r=>r.trim()).filter(Boolean):[s]}return[]};function R({inline:t}){const{control:s}=x(),r=e.jsx(b,{control:s,name:"stilling.properties.workday",render:({field:{onChange:i,value:n},fieldState:{error:o}})=>e.jsxs(ee,{legend:"Arbeidsdager",value:Be(n),onChange:c=>i(c),error:o?.message,children:[e.jsx(S,{value:"Ukedager",children:"Ukedager"}),e.jsx(S,{value:"Lørdag",children:"Lørdag"}),e.jsx(S,{value:"Søndag",children:"Søndag"})]})});return t?r:e.jsx(j,{tittel:"Arbeidsdager",children:r})}R.__docgenInfo={description:"",methods:[],displayName:"Arbeidsdager",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};const He=t=>{if(Array.isArray(t))return t;if(typeof t=="string"){const s=t.trim();if(!s)return[];try{const r=JSON.parse(s);if(Array.isArray(r))return r}catch{}return s.includes(",")?s.split(",").map(r=>r.trim()).filter(Boolean):[s]}return[]};function K({inline:t}){const{control:s}=x(),r=e.jsx(b,{control:s,name:"stilling.properties.workhours",render:({field:{onChange:i,value:n},fieldState:{error:o}})=>e.jsxs(ee,{legend:"Arbeidstid",value:He(n),onChange:c=>i(c),error:o?.message,children:[e.jsx(S,{value:"Dagtid",children:"Dag"}),e.jsx(S,{value:"Kveld",children:"Kveld"}),e.jsx(S,{value:"Natt",children:"Natt"})]})});return t?r:e.jsx(j,{tittel:"Arbeidstid",children:r})}K.__docgenInfo={description:"",methods:[],displayName:"Arbeidstid",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};function z({inline:t}){const{control:s}=x(),r=e.jsx("div",{className:"w-[18.75rem]",children:e.jsx(b,{name:"stilling.properties.jobarrangement",control:s,render:({field:i,fieldState:{error:n}})=>e.jsxs(F,{value:i.value??"",onChange:o=>i.onChange(o),label:"Arbeidstidsordning (valgfritt)",error:n?.message,children:[e.jsx("option",{value:"",children:"Velg"}),Object.entries(je).map(([o,c])=>e.jsx("option",{value:c,children:o},o))]})})});return t?r:e.jsx(j,{tittel:"Arbeidstidsordning",children:r})}z.__docgenInfo={description:"",methods:[],displayName:"Arbeidstidsordning",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};const Ge=t=>{if(t<60)return`${t}s`;const s=Math.floor(t/60),r=t%60;if(s<60)return r?`${s}m ${r}s`:`${s}m`;const i=Math.floor(s/60),n=s%60;return n?`${i}t ${n}m`:`${i}t`};function ie({stillingsData:t,intervallMs:s=300*1e3}){const{brukerData:r,valgtNavKontor:i}=ve(),[n,o]=p.useState(null),[c,m]=p.useState(!1),[a,g]=p.useState(null),[f,y]=p.useState(0),v=p.useRef(null),k=p.useRef(null),N=p.useRef(null),{getValues:L,setValue:I}=x(),d=t?.stilling?.status===ye.Aktiv,l=!d&&!!t?.stilling&&!!t.stilling?.uuid,u=async()=>{if(!l||c)return;const M=L();m(!0),g(null);try{const w=_e({stilling:M.stilling,stillingsinfo:M.stillingsinfo||void 0}),q=Te(w,{eierNavident:r.ident,eierNavn:r.navn,eierNavKontorEnhetId:i?.navKontor});N.current=q;const B=await q;B.stilling.versjon&&I("stilling.versjon",B.stilling.versjon),o(new Date),y(0)}catch(w){g(w?.message||"Feil ved lagring")}finally{m(!1),N.current=null}};if(p.useEffect(()=>(k.current&&clearInterval(k.current),k.current=setInterval(()=>{y(n?Math.floor((Date.now()-n.getTime())/1e3):0)},1e3),()=>{k.current&&clearInterval(k.current)}),[n]),p.useEffect(()=>{if(l)return v.current&&clearInterval(v.current),v.current=setInterval(()=>{u()},s),()=>{v.current&&clearInterval(v.current)}},[l,s,t]),d)return null;if(!l)return e.jsx("div",{className:"text-xs text-gray-600","aria-live":"polite",children:"Autolagring: ingen eksisterende stilling ennå"});const A=c?"Lagrer…":a?`Feil: ${a}`:n?`Sist lagret for ${Ge(f)} siden`:"Ikke lagret enda";return e.jsx("div",{className:"flex items-center gap-2 text-xs","aria-live":"polite",children:e.jsx(E,{icon:e.jsx(qe,{}),size:"xsmall",variant:"tertiary",onClick:u,loading:c,disabled:c,children:A})})}ie.__docgenInfo={description:"",methods:[],displayName:"AutolagreStilling",props:{stillingsData:{required:!0,tsType:{name:"z.infer",elements:[{name:"StillingAdminSchema"}],raw:"z.infer<typeof StillingAdminSchema>"},description:""},intervallMs:{required:!1,tsType:{name:"number"},description:"(valgfritt) override på intervall i ms for testing",defaultValue:{value:"5 * 60 * 1000",computed:!1}}}};function le(){const{getValues:t,setValue:s}=x(),r=p.useCallback(i=>{const n=i.map(a=>({fornavn:a.fornavn,etternavn:a.etternavn,kilde:a.kilde,fnr:a.fødselsnummer})),o=t("formidlingKandidater")||[];o.length===n.length&&o.every((a,g)=>a.fornavn===n[g].fornavn&&a.etternavn===n[g].etternavn&&a.kilde===n[g].kilde&&a.fnr===n[g].fnr)||s("formidlingKandidater",n,{shouldDirty:!0})},[t,s]);return e.jsxs(j,{tittel:"Legg til kandidater",children:[e.jsx(O,{className:"mb-2",children:"Vi må vite hvilke kandidater du ønsker å formidle til samme arbeidsgiver"}),e.jsx("div",{className:"flex flex-col space-y-8",children:e.jsx(Ee,{tilFormidling:!0,synlighetSomModal:!0,callBack:r})})]})}le.__docgenInfo={description:"",methods:[],displayName:"StillingAdminFormidleKandidater"};function oe(){const{setValue:t,watch:s}=x();return e.jsx(j,{tittel:"Om jobben",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(O,{children:"Fortell jobbsøkeren om jobben: de unike fordelene, mulighetene, og oppgavene som de vil møte. For eksempel arbeidsoppgaver, forventninger, læring- og karrieremuligheter, kultur, lønn, og goder."}),e.jsx(te,{id:"rediger-stilling-beskrivelse",tekst:s("stilling.properties.adtext")??"",onChange:r=>t("stilling.properties.adtext",r)})]})})}oe.__docgenInfo={description:"",methods:[],displayName:"OmJobben"};function ae(){const{stillingsData:t}=Z(),{annonsenr:s,uuid:r,updated:i,administration:n}=t?.stilling??{},{reportee:o,navIdent:c}=n??{};return e.jsxs(j,{tittel:"Om stillingsoppdraget",children:[e.jsxs("dl",{className:"grid gap-6 md:grid-cols-3",children:[e.jsx(C,{tittel:"Annonsenummer",innhold:s??"-"}),e.jsx(C,{tittel:"Sist endret",innhold:i?Fe({dato:i,visning:"tall"}):"-"}),e.jsx(C,{tittel:"Kontaktperson hos NAV",innhold:`${o??"-"} ${c?`(${c})`:""}`})]}),e.jsx("dl",{className:"mt-6",children:e.jsx(C,{tittel:"Referanse",innhold:r??"-"})})]})}ae.__docgenInfo={description:"",methods:[],displayName:"OmStillingsoppdraget"};const de=({arbeidsgiver:t})=>e.jsxs(h,{className:"mt-4",children:[e.jsx(h.Header,{children:e.jsx(h.Heading,{level:"2",children:"Valgt arbeidsgiver"})}),e.jsxs(h.Answers,{children:[e.jsxs(h.Answer,{children:[e.jsx(h.Label,{children:"Navn"}),e.jsx(h.Value,{children:t?.navn})]}),e.jsxs(h.Answer,{children:[e.jsx(h.Label,{children:"Organisasjonsnummer"}),e.jsx(h.Value,{children:t?.organisasjonsnummer})]}),e.jsxs(h.Answer,{children:[e.jsx(h.Label,{children:"Adresse"}),e.jsx(h.Value,{children:t?.adresse?.adresse??"-"}),e.jsxs(h.Value,{children:[t?.adresse?.postnummer??"-",","," ",t?.adresse?.poststed??"-"]}),e.jsx(h.Value,{children:t?.adresse?.kommune??"-"})]})]})]});function ce(){const{register:t,setValue:s,getValues:r,watch:i}=x(),[n,o]=p.useState(""),{isLoading:c,error:m,data:a}=Pe(n),f=i("stillingsinfo.stillingskategori")===U.Formidling;p.useEffect(()=>{f&&s("stilling.properties.employerdescription","Etterregistrering")},[f,s]);const y=d=>{if(!d)return null;const l=d.location??null,u=l?{land:l.country==="NORGE"?"Norge":l.country??"Norge",landkode:"NO",kommune:l.municipal??"",kommunenummer:l.municipalCode??"",poststed:l.city??"",postnummer:l.postalCode??"",adresse:l.address??""}:null;return{organisasjonsnummer:d.orgnr??"",navn:d.name??"",organisasjonsform:d.orgform??"",antallAnsatte:d.employees??null,overordnetEnhet:d.parentOrgnr??null,adresse:u,naringskoder:null}},[v,k]=p.useState(y(r("stilling.employer"))),N=i("stilling.employer");p.useEffect(()=>{k(y(N))},[N]);const L=r("stilling.firstPublished"),I=d=>{k(d);const l=r("stilling.employer")??{};s("stilling.businessName",d.navn??null),s("stilling.employer",{...l,orgnr:d.organisasjonsnummer??"",name:d.navn??"",parentOrgnr:d.overordnetEnhet??"",orgform:d.organisasjonsform??"",employees:d.antallAnsatte??null,location:{...l.location??{},municipalCode:d.adresse?.kommunenummer??"",address:d.adresse?.adresse??"",postalCode:d.adresse?.postnummer??"",county:"",country:d.adresse?.land==="Norge"?"NORGE":d.adresse?.land??"NORGE",municipal:d.adresse?.kommune??"",city:d.adresse?.poststed??""}}),(r("stilling.locationList")??[]).length===0&&d.adresse&&s("stilling.locationList",[{address:d.adresse.adresse??"",postalCode:d.adresse.postnummer??"",city:d.adresse.poststed??"",county:"",municipal:d.adresse.kommune??"",municipalCode:d.adresse.kommunenummer??"",country:d.adresse.land??"Norge"}])};return e.jsx(j,{tittel:"Om virksomheten",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{role:"search",children:[!L&&e.jsx(se,{isLoading:c,label:"Arbeidsgivers navn eller organisasjonsnummer",options:a?.map(d=>`${d.navn} - ${d.organisasjonsnummer}`)??[],shouldAutocomplete:!0,onChange:d=>o(d),onToggleSelected:d=>{const l=d.split(" - ").at(-1),u=a?.find(A=>A.organisasjonsnummer===l);u&&I(u)}}),v&&e.jsx(de,{arbeidsgiver:v})]}),m&&e.jsx(ke,{className:"mt-8",variant:"error",children:JSON.stringify(m)}),!f&&e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"font-bold",children:"Beskrivelse av bedriften (valgfritt)"}),e.jsx(te,{id:"rediger-om-virksomheten",tekst:i("stilling.properties.employerdescription")??"",onChange:d=>s("stilling.properties.employerdescription",d)}),e.jsx(X,{label:"Nettside (valgfritt)",...t("stilling.properties.employerhomepage")})]}),e.jsxs(D,{size:"small",className:"flex gap-2 items-center",children:[e.jsx(ze,{className:"shrink-0"})," Kontaktpersoner"]}),e.jsx($e,{})]})})}de.__docgenInfo={description:"",methods:[],displayName:"ValgtArbeidsgiverVisning",props:{arbeidsgiver:{required:!0,tsType:{name:"z.infer",elements:[{name:"ArbeidsgiverSchema"}],raw:"z.infer<typeof ArbeidsgiverSchema>"},description:""}}};ce.__docgenInfo={description:"",methods:[],displayName:"OmVirksomheten"};function J({inline:t}){const{control:s,watch:r}=x(),i=r("stilling.properties.extent"),n=e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(b,{control:s,name:"stilling.properties.extent",render:({field:{onChange:o,value:c},fieldState:{error:m}})=>e.jsxs(ne,{error:m?.message,legend:"Velg omfang",value:c??"",onChange:a=>o(a),children:[e.jsx(_,{value:"Heltid",children:"Heltid (100%)"}),e.jsx(_,{value:"Deltid",children:"Deltid"})]})}),i==="Deltid"&&e.jsx(b,{control:s,name:"stilling.properties.jobpercentage",render:({field:{onChange:o,value:c},fieldState:{error:m}})=>e.jsxs("div",{children:[e.jsxs(F,{className:"w-[300px]",label:"Velg omfang prosent",value:c??"",onChange:a=>o(a.target.value),children:[e.jsx("option",{value:"",children:"Velg omfang prosent"}),Array.from({length:9},(a,g)=>(g+1)*10).map(a=>e.jsxs("option",{value:`${a}%`,children:[a,"%"]},a))]}),m?.message&&e.jsx(Y,{children:m?.message})]})})]});return t?n:e.jsx(j,{tittel:"Omfang",children:n})}J.__docgenInfo={description:"",methods:[],displayName:"Omfang",props:{inline:{required:!1,tsType:{name:"boolean"},description:""}}};function me(){const{watch:t,setValue:s,getValues:r}=x(),n=t("stillingsinfo.stillingskategori")===U.Jobbmesse;return p.useEffect(()=>{n&&r("stilling.properties.positioncount")!==1&&s("stilling.properties.positioncount",1,{shouldDirty:!0,shouldTouch:!0})},[n,r,s]),e.jsx(j,{tittel:"Praktiske forhold",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[!n&&e.jsx($,{inline:!0}),e.jsx(P,{inline:!0}),e.jsx(J,{inline:!0}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(R,{inline:!0}),e.jsx(K,{inline:!0}),e.jsx(z,{inline:!0})]})]})})}me.__docgenInfo={description:"",methods:[],displayName:"PraktiskeForhold"};function pe(){const{control:t}=x();return e.jsx(j,{tittel:"Sektor",children:e.jsx(b,{control:t,name:"stilling.properties.sector",render:({field:{onChange:s,value:r},fieldState:{error:i}})=>e.jsxs(ne,{legend:"Velg sektor",value:r??"",onChange:n=>s(n),error:i?.message,children:[e.jsx(_,{value:"Privat",children:"Privat"}),e.jsx(_,{value:"Offentlig",children:"Offentlig"})]})})})}pe.__docgenInfo={description:"",methods:[],displayName:"Sektor"};function ge(){const{control:t,setValue:s,watch:r,formState:{errors:i}}=x(),{fields:n,append:o,remove:c}=be({control:t,name:"stilling.locationList"}),m=n.map((l,u)=>({f:l,idx:u})).filter(({f:l})=>l.address!==null),a=n.map((l,u)=>({f:l,idx:u})).filter(({f:l})=>l.address===null),g=m.length>0,f=a.length>0,[y,v]=p.useState(f),k=i?.stilling?.locationList&&n.length===0,N=()=>o({address:"",postalCode:null,city:null,county:null,municipal:null,municipalCode:null,country:null}),L=l=>c(l),I=l=>o({...l}),d=l=>{const u=n.findIndex(A=>A.id===l);u!==-1&&c(u)};return e.jsxs(j,{tittel:"Sted",children:[e.jsx(O,{className:"mb-2",children:"Oppgi hvor jobben skal foregå. Skriv inn en adresse eller én eller flere kommuner, fylker eller land."}),k&&e.jsx(Y,{className:"mt-2",children:"Du må legge til minst én adresse eller én eller flere kommuner, fylker eller land."}),g&&e.jsx("div",{className:"flex flex-col gap-6 mt-4",children:m.map(({idx:l})=>e.jsx(Re,{index:l,lokasjonsFelt:"stilling.locationList",control:t,fjern:()=>L(l),oppdaterPoststed:u=>{s(`stilling.locationList.${l}.city`,u.korrigertNavnBy),s(`stilling.locationList.${l}.county`,u.fylke.korrigertNavn),s(`stilling.locationList.${l}.municipal`,u.kommune.korrigertNavn),s(`stilling.locationList.${l}.municipalCode`,u.kommune.kommunenummer),s(`stilling.locationList.${l}.postalCode`,u.postkode),s(`stilling.locationList.${l}.country`,"Norge")},postSted:r(`stilling.locationList.${l}.city`)||null},n[l].id))}),y&&e.jsx("div",{className:"my-4",children:e.jsx(Ke,{lokasjoner:a.map(({f:l})=>l),leggTilLokasjon:l=>I(l),fjernLokasjonId:l=>d(l)})}),e.jsxs("div",{className:"flex flex-row gap-6 mt-6",children:[e.jsx(E,{icon:e.jsx(H,{}),size:"small",variant:"tertiary",type:"button",onClick:l=>{l.preventDefault(),l.stopPropagation(),N()},children:"Legg til adresse"}),e.jsx(E,{icon:e.jsx(H,{}),size:"small",variant:"tertiary",type:"button",onClick:l=>{l.preventDefault(),l.stopPropagation(),v(!0)},children:"Legg til land, fylke eller kommune"})]})]})}ge.__docgenInfo={description:"",methods:[],displayName:"Sted"};const W=t=>t.match(/^[0-9]{2}\.[0-9]{2}\.[0-9]{4}$/)?t:re(new Date(t),"dd.MM.yyyy");function ue({skjulFrist:t}){const{watch:s,control:r,setValue:i}=x(),n=s("stilling.properties.starttime"),o=s("stilling.properties.applicationdue"),c=n==="Etter avtale",m=o==="Snarest",a=!m&&typeof o=="string"&&o?W(o):void 0,g=!c&&typeof n=="string"&&n?W(n):void 0;return p.useEffect(()=>{g&&n!==g&&i("stilling.properties.starttime",g,{shouldDirty:!1}),a&&o!==a&&i("stilling.properties.applicationdue",a,{shouldDirty:!1})},[g,a,n,o,i]),e.jsxs(j,{tittel:"Viktige datoer",children:[e.jsx(O,{className:"mb-6",children:"Velg oppstartsdato og søknadsfristen."}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(D,{size:"small",children:"Oppstart"}),e.jsxs("div",{className:"flex gap-8 items-center",children:[e.jsx(G,{disablePastDates:!0,disabled:c,valgtDato:g,setDato:f=>{f&&i("stilling.properties.starttime",f)}},"oppstart"),e.jsx(b,{name:"stilling.properties.starttime",control:r,render:({field:{value:f,onChange:y}})=>e.jsx(S,{checked:f==="Etter avtale",onChange:v=>{v.target.checked?y("Etter avtale"):f==="Etter avtale"&&y(null)},children:"Etter avtale"})})]})]}),!t&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx(D,{size:"small",children:"Søknadsfrist"}),e.jsxs("div",{className:"flex gap-8 items-center",children:[e.jsx(G,{disablePastDates:!0,disabled:m,valgtDato:a,setDato:f=>{f&&i("stilling.properties.applicationdue",f)}}),e.jsx(b,{name:"stilling.properties.applicationdue",control:r,render:({field:{value:f,onChange:y}})=>e.jsx(S,{checked:f==="Snarest",onChange:v=>{v.target.checked?(y("Snarest"),i("stilling.expires",re(Je(new Date,3),"yyyy-MM-dd'T'HH:mm:ss"))):f==="Snarest"&&y(null)},children:"Snarest"})})]})]})]})]})}ue.__docgenInfo={description:"",methods:[],displayName:"ViktigeDatoer",props:{skjulFrist:{required:!1,tsType:{name:"boolean"},description:""}}};const We=t=>Ae.internUrl+`/stillingsTittel?q=${t}`,Ze=Ve({konseptId:Le(),styrk08:V(),styrk08Label:V().optional(),esco:V(),escoLabel:V(),label:V(),undertype:V()}),Ue=Ie(Ze),Ye=t=>Se(t?We(t):null,Ne(Ue)),Qe=t=>[{id:null,code:t?.konseptId.toString()??null,categoryType:"JANZZ",name:t?.label??null,description:null,parentId:null},{id:null,code:t?.esco??null,categoryType:"ESCO",name:t?.escoLabel??null,description:null,parentId:null},{id:null,code:t?.styrk08??null,categoryType:"STYRK08",name:t?.styrk08Label??null,description:null,parentId:null}];function fe(){const{setValue:t}=x(),{stillingsData:s}=Z(),[r,i]=p.useState([]),[n,o]=p.useState(""),c=Ye(n.length>1?n:void 0);return p.useEffect(()=>{if(c.data){const m=c.data.filter(a=>a.styrk08&&a.styrk08.trim()!==""&&a.styrk08!=="9999").map(a=>({label:a.label,value:a.label}))??[];i(m)}},[c.data]),e.jsx(j,{tittel:"Hva arbeidsgiver leter etter",children:e.jsx(se,{placeholder:s.stilling?.categoryList?.find(m=>m.categoryType==="JANZZ")?.name??"",value:n,label:"Velg yrkestittel (Janzz yrkesontologi)",isLoading:c.isLoading,options:r,toggleListButton:!1,shouldAutocomplete:!0,onChange:m=>o(m),isListOpen:n.length>1,onToggleSelected:m=>{const a=c.data?.find(g=>g.label===m);if(a){const g=Qe(a);t("stilling.categoryList",g)}}})})}fe.__docgenInfo={description:"",methods:[],displayName:"Yrkestittel"};function Xe({children:t}){const s=Oe({mode:"onChange",defaultValues:Q});return e.jsx(Ce,{...s,children:t})}const ms={tags:["autodocs"],render:()=>e.jsx("div",{className:"space-y-6 opacity-60 pointer-events-none max-w-[1200px]",children:e.jsx(Xe,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(fe,{}),e.jsx(oe,{}),e.jsx($,{}),e.jsx(P,{}),e.jsx(pe,{}),e.jsx(ce,{}),e.jsx(ae,{}),e.jsx(De,{}),e.jsx(J,{}),e.jsx(K,{}),e.jsx(R,{}),e.jsx(z,{}),e.jsx(ue,{}),e.jsx(me,{}),e.jsx(ge,{}),e.jsx(le,{}),e.jsx(ie,{stillingsData:Q}),e.jsx(we,{disabled:!0})]})})})},T={};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:"{}",...T.parameters?.docs?.source}}};export{T as Oversikt,ms as default};
