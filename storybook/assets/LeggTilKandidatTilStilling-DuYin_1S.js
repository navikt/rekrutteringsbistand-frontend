import{f as h,j as n,ak as T,k as S,r as l,h as I,u as w,e as b,w as F}from"./iframe-CswQ52iW.js";import{L as K}from"./LenkeKortMedIkon-CKP3gc82.js";import{U as g}from"./umamiEvents-BDpRy9-M.js";import{l as C}from"./leggTilKandidat-BYm0PofW.js";import{L as M}from"./LeggTilKandidater-BPrSn5oT.js";import{M as d}from"./Modal-JZXnKh6K.js";function U({stillingId:t}){const{trackAndNavigate:s}=h(),i=`/stilling/${t}/finn-kandidater`,r=()=>s(g.Stilling.finn_kandidater_knapp,i);return n.jsx(K,{tittel:"Finn og foreslÃ¥ jobbsÃ¸kere",beskrivelse:"Se alle som leter etter jobb nÃ¥, og finn riktig person til jobben",ikon:"ðŸ‘‰",onClick:r})}U.__docgenInfo={description:"",methods:[],displayName:"FinnKandidaterKnapp",props:{stillingId:{required:!0,tsType:{name:"string"},description:""}}};const A=t=>`${S.internUrl}/veileder/kandidatlister/${t}/formidlingeravusynligkandidat`,E=(t,s)=>T(A(t),s),N=({stillingsId:t,stillingsTittel:s})=>{const i=l.useRef(null),{track:r}=h(),{stillingsData:B,kandidatlisteInfo:c,refetchKandidatliste:j}=I(),{valgtNavKontor:y,visVarsel:k}=w(),[o,p]=l.useState([]),[v,x]=l.useState(0),[m,u]=l.useState(!1),L=()=>{x(a=>a+1),r(g.Stilling.Ã¥pne_legg_til_kandidat_modal),i.current?.showModal()},_=async()=>{u(!0);const a=o.filter(e=>e.aktÃ¸rId===null),f=o.map(e=>e.aktÃ¸rId).filter(e=>e!=null);if(c?.kandidatlisteId&&(f.length>0||a.length>0))try{await C(f,t);for(const e of a)await E(c.kandidatlisteId,{fnr:e.fÃ¸dselsnummer,fÃ¥ttJobb:!0,navKontor:y?.navKontor??"",stillingsId:t});r(g.Stilling.legg_til_kandidat,{antall:o.length}),k({tekst:"JobbsÃ¸kere ble lagt til i stillingen",type:"success"}),p([]),j?.(),i.current?.close()}catch(e){throw k({tekst:"Noe gikk galt ved lagring av jobbsÃ¸kere",type:"error"}),new F({message:"Veil ved legg til jobbsÃ¸kere",error:e})}u(!1)};return n.jsxs(l.Fragment,{children:[n.jsx(K,{tittel:"Legg til jobbsÃ¸kere",beskrivelse:"Vet du fÃ¸dselsnummeret til personen, kan du legge dem til med en gang.",onClick:L,ikon:"âž•",loading:m}),n.jsxs(d,{width:"600px",ref:i,header:{closeButton:!1,heading:`Legg til jobbsÃ¸kere til ${s??"stilling"}`},children:[n.jsx(d.Body,{children:n.jsx(M,{callBack:a=>{p(a)}},v)}),n.jsxs(d.Footer,{children:[n.jsx(b,{disabled:o.length===0,onClick:_,children:"Legg til jobbsÃ¸ker"}),n.jsx(b,{loading:m,type:"button",variant:"secondary",onClick:()=>i.current?.close(),children:"Avbryt"})]})]})]},t)};N.__docgenInfo={description:"",methods:[],displayName:"LeggTilKandidatTilStilling",props:{stillingsId:{required:!0,tsType:{name:"string"},description:""},stillingsTittel:{required:!0,tsType:{name:"string"},description:""}}};export{U as F,N as L};
