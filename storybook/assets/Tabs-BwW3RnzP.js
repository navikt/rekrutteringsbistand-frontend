import{aM as S,ar as x,l as _,c_ as C,r as f,e as O,R as b,B as P,h as j,v as k}from"./iframe-DpIzbEh6.js";import{c as F}from"./useDescendant-DAw8jFwJ.js";import{S as I}from"./ChevronLeft-BDmPXYZd.js";import{S as N}from"./ChevronRight-Ce31ZlYf.js";import{a as z}from"./owner-CO0wgQ-G.js";import{u as D}from"./useControllableState-DSjvWJiE.js";function L(e,o=166,a=!1){const t=new S;function n(...d){const s=()=>{e.apply(this,d)};!t.isStarted()&&a&&s(),t.start(o,s)}return n.clear=t.clear,n}const[V,K,$,M]=F(),[R,T]=x({name:"TabsContext",hookName:"useTabsContext",providerName:"TabsProvider",errorMessage:"Tabs.List, Tabs.Tag and Tabs.Panel needs to be wrapped within <Tabs>"});function B({value:e,disabled:o=!1,onFocus:a,onClick:t},n){const{id:d,setSelectedValue:s,selectionFollowsFocus:i,focusedValue:u,setFocusedValue:c,selectedValue:p,makeTabId:h,makeTabPanelId:v}=T(),{register:y}=M({disabled:o,value:e}),m=e===p,r=()=>{c(e),i&&s(e)};return{ref:C([y,n]),isSelected:m,isFocused:u===e,id:h(d,e),controlsId:v(d,e),onClick:_(t,()=>s(e)),onFocus:o?void 0:_(a,r)}}var A=function(e,o){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const H=f.forwardRef((e,o)=>{var a,t,{className:n,as:d="button",label:s,icon:i,value:u,onClick:c,onFocus:p,disabled:h,id:v}=e,y=A(e,["className","as","label","icon","value","onClick","onFocus","disabled","id"]);const{cn:m}=O(),r=B({value:u,onClick:c,onFocus:p,disabled:h},o),l=T();return!s&&!i?(console.error("<Tabs.Tab/> needs label and/or icon"),null):b.createElement(d,Object.assign({ref:r.ref},y,{className:m("navds-tabs__tab",`navds-tabs__tab--${(a=l?.size)!==null&&a!==void 0?a:"medium"}`,`navds-tabs__tab-icon--${l?.iconPosition}`,n,{"navds-tabs__tab--icon-only":i&&!s,"navds-tabs__tab--fill":l.fill}),role:"tab",type:"button","aria-selected":r.isSelected,"data-state":r.isSelected?"active":"inactive",tabIndex:r.isFocused?0:-1,"aria-controls":(t=y["aria-controls"])!==null&&t!==void 0?t:r.controlsId,id:v??r.id,onFocus:r.onFocus,onClick:r.onClick}),b.createElement(P,{as:"span",className:m("navds-tabs__tab-inner"),size:l?.size},b.createElement("span",{"aria-hidden":!!s},i),b.createElement("span",null,s)))});function g({hidden:e,onClick:o,dir:a}){const{cn:t}=O();return b.createElement("div",{className:t("navds-tabs__scroll-button",{"navds-tabs__scroll-button--hidden":e}),onClick:o,"aria-hidden":!0},a==="left"?b.createElement(I,null):b.createElement(N,null))}function W(e){const[o,a]=f.useState({start:!1,end:!1}),t=f.useMemo(()=>L(()=>{if(!e?.current)return;const{scrollWidth:n,clientWidth:d}=e.current,s=e.current.scrollLeft,i=s>1,u=s<n-d-1;a(c=>i===c.start&&u===c.end?c:{start:i,end:u})}),[e]);return f.useEffect(()=>{const n=()=>t(),d=z(e.current);d.addEventListener("resize",n);let s;return typeof ResizeObserver<"u"&&e.current&&(s=new ResizeObserver(n),s.observe(e.current)),()=>{d.removeEventListener("resize",n),s?.disconnect(),t.clear()}},[e,t]),f.useEffect(()=>{t()}),{update:t,start:o.start,end:o.end,show:o.end||o.start,scrollLeft:()=>{e.current&&(e.current.scrollLeft-=100)},scrollRight:()=>{e.current&&(e.current.scrollLeft+=100)}}}function q(){const{focusedValue:e,loop:o,selectedValue:a,setFocusedValue:t}=T(),n=K();return{onKeyDown:f.useCallback(s=>{const i=n.values().findIndex(r=>r.value===e),v={ArrowLeft:()=>{var r;const l=n.prevEnabled(i,o);(r=l?.node)===null||r===void 0||r.focus()},ArrowRight:()=>{var r;const l=n.nextEnabled(i,o);(r=l?.node)===null||r===void 0||r.focus()},Home:()=>{var r;const l=n.firstEnabled();(r=l?.node)===null||r===void 0||r.focus()},End:()=>{var r;const l=n.lastEnabled();(r=l?.node)===null||r===void 0||r.focus()}},y=s.shiftKey||s.ctrlKey||s.altKey||s.metaKey,m=v[s.key];m&&!y?(s.preventDefault(),m(s)):s.key==="Tab"&&a&&setTimeout(()=>t(a))},[n,e,o,a,t])}}var G=function(e,o){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const J=f.forwardRef((e,o)=>{var{className:a,onKeyDown:t}=e,n=G(e,["className","onKeyDown"]);const{cn:d}=O(),{onKeyDown:s}=q(),i=f.useRef(null),u=j(i,o),c=W(i);return b.createElement("div",{className:d("navds-tabs__tablist-wrapper")},c.show&&b.createElement(g,{dir:"left",hidden:!c.start,onClick:c.scrollLeft}),b.createElement("div",Object.assign({ref:u},n,{onScroll:c.update,className:d("navds-tabs__tablist",a),role:"tablist","aria-orientation":"horizontal",onKeyDown:_(t,s)})),c.show&&b.createElement(g,{dir:"right",hidden:!c.end,onClick:c.scrollRight}))});function Q({value:e}){const{id:o,selectedValue:a,makeTabId:t,makeTabPanelId:n}=T();return{labelledbyId:t(o,e),hidden:a!==e,id:n(o,e)}}var U=function(e,o){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const X=f.forwardRef((e,o)=>{var a,{className:t,value:n,children:d,lazy:s=!0,id:i}=e,u=U(e,["className","value","children","lazy","id"]);const c=Q({value:n}),{cn:p}=O();return b.createElement("div",Object.assign({ref:o},u,{className:p("navds-tabs__tabpanel",t),role:"tabpanel",tabIndex:0,"aria-labelledby":(a=u["aria-labelledby"])!==null&&a!==void 0?a:c.labelledbyId,id:i??c.id,hidden:c.hidden,"data-state":c.hidden?"inactive":"active"}),s&&c.hidden?null:d)});function Y({onChange:e,value:o,defaultValue:a="",id:t}){const[n,d]=f.useState(a),[s,i]=D({defaultValue:a,value:o,onChange:e});f.useEffect(()=>{o!=null&&d(o)},[o]);const u=k();return{id:`tabs-${t??u}`,selectedValue:s,setSelectedValue:i,focusedValue:n,setFocusedValue:d,makeTabId:Z,makeTabPanelId:ee}}function Z(e,o){return`${e}--tab-${o}`}function ee(e,o){return`${e}--tabpanel-${o}`}var te=function(e,o){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const w=f.forwardRef((e,o)=>{var{className:a,children:t,size:n="medium",defaultValue:d="",value:s,onChange:i,id:u,selectionFollowsFocus:c=!1,loop:p=!0,iconPosition:h="left",fill:v=!1}=e,y=te(e,["className","children","size","defaultValue","value","onChange","id","selectionFollowsFocus","loop","iconPosition","fill"]);const{cn:m}=O(),r=$(),l=Y({defaultValue:d,value:s,onChange:i,id:u}),E=Object.assign(Object.assign({},l),{selectionFollowsFocus:c,loop:p,size:n,iconPosition:h,fill:v});return b.createElement(V,{value:r},b.createElement(R,Object.assign({},E),b.createElement("div",Object.assign({ref:o},y,{id:u,className:m("navds-tabs",a,`navds-tabs--${n}`)}),t)))});w.Tab=H;w.List=J;w.Panel=X;export{w as T};
