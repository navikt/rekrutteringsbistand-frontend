import{bT as S,r as c,j as e,S as T}from"./iframe-Bh0pRwlZ.js";import{L as v}from"./LagreIRekrutteringstreffKnapp-By5BwHuv.js";import{u as f}from"./KandidaSokFilterContext-sWpkUu7F.js";import{u as y}from"./KandidatSøkMarkerteContext-DI7Ds3ib.js";import{K as N}from"./KandidatKort-BlFyha88.js";import{L}from"./LagreIKandidatlisteButton-Dfualkek.js";import{R}from"./RekrutteringstreffFeatureToggle-DZ4uPtJY.js";import{S as C}from"./SideScroll-C-UweCdQ.js";import{S as w}from"./SkeletonKort-BZaa5ZAy.js";import{u as M}from"./KandidatNavigeringContext-B1GTeYDq.js";import{a as _}from"./Checkbox-Cq7xC9eC.js";import{P as b}from"./Pagination-CiEBz1gW.js";const q=({stillingsId:i,rekrutteringstreffId:o,alleredeLagtTilTreff:g,alleredeLagtTilKandidatliste:p})=>{const n=f(),{portefølje:x}=f(),l=S(x,n),{setKandidatNavigering:m}=M(),u=c.useRef(null);c.useEffect(()=>{m(l.data?.navigering.kandidatnumre??[])},[l.data?.navigering,m]);const{markerteKandidater:s,setMarkertListe:h,fjernMarkerteKandidater:j}=y();return e.jsx(T,{hooks:[l],skeleton:e.jsx("div",{className:"mt-14",children:e.jsx(w,{})}),children:r=>{const d=Math.ceil(r.antallTotalt/25),k=d>390?390:d,K=()=>{if(s&&s.length==r.kandidater.length)j();else if(r.kandidater){const a=r.kandidater.map(t=>t.arenaKandidatnr).filter(t=>t!=null&&t!=="");h(a)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:u,className:"flex items-center justify-between",children:[e.jsx("div",{className:"ml-5",children:e.jsx(_,{checked:s&&s.length>0&&s.length===r.kandidater.length,onClick:K,children:"Marker alle på siden"})}),e.jsxs("div",{className:"flex flex-row gap-2",children:[!o&&e.jsx(L,{stillingsId:i}),e.jsx(R,{children:!i&&e.jsx(v,{rekrutteringstreffId:o,kandidatsokKandidater:r.kandidater})})]})]}),e.jsxs(C,{children:[e.jsx("div",{className:"flex flex-col gap-1 pt-2",children:r.kandidater?.map((a,t)=>e.jsx(N,{stillingsId:i,alleredeLagtTil:p??g,kandidat:a},a.arenaKandidatnr||t))}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:["Viser ",r.antallTotalt," treff"]}),d>1&&e.jsx(b,{className:"my-4 flex justify-center",size:"medium",page:n.side,onPageChange:n.setSide,count:k})]})]})]})}})};q.__docgenInfo={description:"",methods:[],displayName:"KandidatSøkResultat",props:{stillingsId:{required:!1,tsType:{name:"string"},description:""},rekrutteringstreffId:{required:!1,tsType:{name:"string"},description:""},alleredeLagtTilTreff:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},alleredeLagtTilKandidatliste:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};export{q as K};
