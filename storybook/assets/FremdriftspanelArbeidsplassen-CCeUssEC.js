import{r as h,l as D,m as B,aq as R,u as C,J as H,j as e,S as _,cH as z,cz as w,d as g,x as I,cI as P,i as O,cJ as L,A as V,H as o,B as l,R as J,e as M}from"./iframe-BCPU83ju.js";import{s as K,P as U}from"./PersonbrukerTekst-BaRwS4QP.js";import{M as c}from"./Modal-BBM7lRpi.js";import{B as N}from"./Box-8WIwS4-z.js";import{V as v,H as b}from"./VStack-BIz_V_1H.js";import{C as G}from"./Checkbox-DXH8f1NQ.js";import{S as $}from"./ShieldLock-BHiOvoUh.js";import{S as T}from"./PlusCircle-B2NmyGvk.js";import{S as q}from"./PersonChat-B0Ou65XE.js";import{S as W}from"./FileText-DafgW-sR.js";import{T as Q}from"./TilgangskontrollForInnhold-bW4Utizl.js";import{S as X}from"./Handshake-CKfkFKjf.js";import{S as Y}from"./CircleSlash-nt1b4HFI.js";import{S as Z}from"./ArrowForward-DaYI7dU0.js";import{S as ee}from"./Briefcase-9t9sTB7P.js";var se=function(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(n[r[a]]=s[r[a]]);return n};const re=h.forwardRef((s,t)=>{var{title:n,titleId:r}=s,a=se(s,["title","titleId"]);let d=D();return d=n?r||"title-"+d:void 0,B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":d},a),n?B.createElement("title",{id:d},n):null,B.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.286 11.483a.75.75 0 0 1 .099-.33l4.5-7.795a2.75 2.75 0 0 1 4.763 2.75l-4.5 7.795a.75.75 0 0 1-.236.25l-3.732 2.465a.75.75 0 0 1-1.162-.671zm1.486.266-.167 2.79L14.937 13l3.028-5.243-2.165-1.25zm6.577-6.39-.634 1.097-2.165-1.25.634-1.098a1.25 1.25 0 1 1 2.165 1.25M12.5 4.75H5.75v15.5h11.5V15.5a.75.75 0 0 1 1.5 0v5c0 .69-.56 1.25-1.25 1.25h-12c-.69 0-1.25-.56-1.25-1.25v-16c0-.69.56-1.25 1.25-1.25h7a.75.75 0 0 1 0 1.5",clipRule:"evenodd"}))});function E(){const{stillingsData:s,refetch:t,erEier:n}=R(),{visVarsel:r}=C(),[a,d]=h.useState(!1),x=H(s,n),[A,f]=h.useState(!1),p=async(i,m)=>{d(!0);try{await K(i,m),r({type:"success",tekst:"Du har nå fullført oppdraget."}),x.mutate(),t&&t()}catch(k){r({type:"error",tekst:"Klarte ikke å endre status på oppdraget"}),new O({message:"Klarte ikke å fullføre oppdrag",error:k})}d(!1)};return e.jsx(_,{hooks:[x],children:i=>{const k=(i?.kandidater?.filter(j=>!j.arkivert)??[]).filter(j=>j.utfall===z.FATT_JOBBEN).length+(i?.formidlingerAvUsynligKandidat?.filter(j=>j.utfall===z.FATT_JOBBEN)?.length||0),S=i?.antallStillinger,y=k,u=y===0;return i.status===w.Lukket?e.jsx(g,{size:"small",loading:a,onClick:()=>K(i.kandidatlisteId,w.Åpen),children:"Gjenåpne oppdraget"}):e.jsxs(e.Fragment,{children:[e.jsx(g,{size:"small",loading:a,onClick:()=>f(!0),children:"Fullfør oppdraget"}),e.jsxs(c,{width:600,open:A,onClose:()=>f(!1),header:{heading:"Fullfør oppdraget"},children:[e.jsxs(c.Body,{children:[e.jsx(I,{className:"mb-3",children:u?"Ingen stillinger er besatt":`${y} av ${S} 
                            ${S===1?"stilling":"stillinger"} er
                            besatt.`}),e.jsxs(N.New,{borderRadius:"large",background:"neutral-soft",className:"p-5",children:[e.jsx(I,{className:"font-bold",children:"Dette skjer når du fullfører"}),!u&&e.jsx(U,{})]})]}),e.jsxs(c.Footer,{children:[e.jsx(g,{type:"button",disabled:a||i.status===w.Lukket&&s.stilling.status===P.Stoppet,onClick:()=>i.kandidatlisteId&&p(i.kandidatlisteId,w.Lukket),children:"Fullfør"}),e.jsx(g,{type:"button",variant:"secondary",onClick:()=>f(!1),children:"Avbryt"})]})]})]})}})}E.__docgenInfo={description:"",methods:[],displayName:"HarKandidatlisteVisning"};const ae="/api/stilling/opprett-stillingsinfo",le=async s=>(await L(ae,s)).json();function F(){const{stillingsData:s,refetch:t}=R(),{brukerData:n,valgtNavKontor:r}=C(),[a,d]=h.useState(!1),[x,A]=h.useState(!1),[f,p]=h.useState(!1),i=s.stilling.employer?.name||"Ukjent bedrift",m=s.stilling.employer?.orgnr,k=s.stilling.title,S=s.stilling.uuid,y=async()=>{d(!0);try{await le({eierNavKontorEnhetId:r?.navKontor??"Ukjent Nav kontor",stillingsid:S,eierNavident:n.ident,eierNavn:n.navn})}catch(u){new O({message:"Feil under opprettelse av stillingsinfo",error:u})}finally{t?.(),d(!1),p(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"primary",size:"small",className:"my-2 h-5 w-full",onClick:()=>p(!0),children:"Bruk til rekrutteringsoppdrag"}),e.jsxs(c,{open:f,onClose:()=>p(!1),header:{heading:"Bruk annonsen til rekrutteringsoppdrag",closeButton:!0},width:"medium",children:[m?e.jsx(c.Body,{children:e.jsxs(v,{gap:"6",children:[e.jsx(l,{children:"Samarbeider du med en arbeidsgiver om å rekruttere, kan du bruke annonsen fra arbeidsplassen.no til det så slipper du å lage en ny annonsе."}),e.jsx(N.New,{background:"neutral-softA",className:"rounded-lg p-4",children:e.jsxs(v,{gap:"2",children:[e.jsx(o,{size:"medium",level:"3",children:k}),e.jsx(o,{size:"small",level:"3",children:i}),e.jsxs(l,{size:"small",children:["Org.nr. ",m]})]})}),e.jsxs(v,{gap:"4",children:[e.jsx(o,{size:"small",level:"3",children:"Har du avtalt med arbeidsgiveren å bruke annonsen til rekruttering?"}),e.jsx(G,{checked:x,onChange:u=>A(u.target.checked),children:"Ja, vi har avtalt å bruke annonsen."})]}),e.jsxs(v,{gap:"4",children:[e.jsx(o,{size:"small",level:"3",children:"Hva som skjer"}),e.jsxs(v,{gap:"3",children:[e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx($,{className:"mt-1 flex-shrink-0"}),e.jsx(l,{className:"flex-1",children:"Du settes som eier av annonsen."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(T,{className:"mt-1 flex-shrink-0"}),e.jsx(l,{className:"flex-1",children:"Nav-ansatte kan foreslå jobbsøkere til stillingen."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(q,{className:"mt-1 flex-shrink-0"}),e.jsx(l,{className:"flex-1",children:"Du kan be jobbsøkere om samtykke til å dele CVen deres med arbeidsgiveren."})]}),e.jsxs(b,{gap:"3",align:"start",className:"items-start",children:[e.jsx(W,{className:"mt-1 flex-shrink-0"}),e.jsx(l,{className:"flex-1",children:"Arbeidsgiveren får en oversikt over oppdraget og foreslåtte jobbsøkere på arbeidsgivers min-side (nav.no)."})]})]})]})]})}):e.jsx(c.Body,{children:e.jsxs(V,{variant:"error",children:[e.jsx(o,{spacing:!0,size:"small",level:"3",children:"Annonsen kan dessverre ikke brukes til oppdrag"}),e.jsx(l,{className:"mb-4",children:"For å kunne bruke annonsen til rekrutteringsoppdrag trenger den :"}),e.jsx("ul",{className:"mb-4 list-inside list-disc",children:e.jsx("li",{children:"et gyldig organisasjonsnummer."})}),e.jsx(l,{children:"Har du et oppdrag med arbeidsgiveren kan du opprette en stillingsoppdrag selv her i Rekrutteringsbistand."})]})}),m?e.jsx(c.Footer,{children:e.jsxs(b,{gap:"4",children:[e.jsx(g,{variant:"secondary",onClick:()=>p(!1),children:"Avbryt"}),e.jsx(g,{loading:a,variant:"primary",onClick:y,disabled:!x,children:"Fullfør"})]})}):e.jsx(c.Footer,{children:e.jsx(g,{variant:"secondary",onClick:()=>p(!1),children:"Lukk"})})]})]})}F.__docgenInfo={description:"",methods:[],displayName:"OpprettStillingsoppdrag"};function ne(){const{stillingsData:s}=R(),t=s.stilling.employer?.orgnr,n=s.stillingsinfo!==null,r=e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsxs(N.New,{background:"neutral-soft",borderRadius:"large",padding:"3",children:[e.jsx(o,{size:"xsmall",level:"3",className:"mb-4",children:"Bruk til rekrutteringsoppdrag"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(l,{size:"small",children:"Du kan bruke annonsen til rekrutteringsoppdrag hvis du har avtalt det med arbeidsgiveren."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(re,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(l,{size:"small",children:"Ved å bruke til oppdrag vil den fungere som interne annonser."})]})]})]})]}),a=e.jsxs(N.New,{background:"brand-beige-moderate",borderRadius:"large",padding:"3",children:[e.jsx(o,{size:"xsmall",level:"3",className:"mb-4",children:"Annonsen mangler et gyldig organisasjonsnummer."}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Y,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(l,{size:"small",children:"Det gjør at den kan ikke brukes til rekrutteringsoppdrag."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(l,{size:"small",children:"Har du et oppdrag med arbeidsgiveren kan du opprette et stillingsoppdrag selv her i Rekrutteringsbistand."})]})]})]});return e.jsxs(Q,{skjulVarsel:!0,kreverEnAvRollene:[J.AD_GRUPPE_REKRUTTERINGSBISTAND_ARBEIDSGIVERRETTET],children:[e.jsx(o,{size:"small",level:"2",children:"Hentet fra arbeidsplassen.no"}),e.jsxs(l,{size:"small",textColor:"subtle",children:["den ",M({dato:s.stilling.published})]}),e.jsxs("div",{className:"mt-6 flex flex-col gap-6",children:[n?e.jsx(E,{}):t?r:a,e.jsxs(N.New,{background:"neutral-soft",borderRadius:"large",padding:"3",children:[e.jsx(o,{size:"xsmall",level:"3",className:"mb-4",children:"Bruk til deling"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Z,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(l,{size:"small",children:"Du kan tipse jobbsøkere via varslingssystemet på nav.no (SMS/Epost), eller ved å kopiere delingslenken og sende den til dem."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{"aria-hidden":!0,className:"shrink-0"}),e.jsx(l,{size:"small",children:"Personen søker selv, eller med litt hjelp."})]})]})]})]})]})}ne.__docgenInfo={description:"",methods:[],displayName:"FremdriftspanelArbeidsplassen"};export{ne as F,E as H,F as O};
