import{dm as w,r as d,j as r,co as F,cq as p,dn as R,cv as f,b$ as A}from"./iframe-BebJRiVm.js";import"./preload-helper-PPVm8Dsz.js";function C(){return w.useSyncExternalStore(B,()=>!0,()=>!1)}function B(){return()=>{}}var x="Avatar",[M]=F(x),[$,b]=M(x),j=d.forwardRef((a,e)=>{const{__scopeAvatar:s,...n}=a,[o,t]=d.useState("idle");return r.jsx($,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:t,children:r.jsx(p.span,{...n,ref:e})})});j.displayName=x;var k="AvatarImage",E=d.forwardRef((a,e)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:o=()=>{},...t}=a,l=b(k,s),c=P(n,t),i=R(u=>{o(u),l.onImageLoadingStatusChange(u)});return f(()=>{c!=="idle"&&i(c)},[c,i]),c==="loaded"?r.jsx(p.img,{...t,ref:e,src:n}):null});E.displayName=k;var _="AvatarFallback",y=d.forwardRef((a,e)=>{const{__scopeAvatar:s,delayMs:n,...o}=a,t=b(_,s),[l,c]=d.useState(n===void 0);return d.useEffect(()=>{if(n!==void 0){const i=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(i)}},[n]),l&&t.imageLoadingStatus!=="loaded"?r.jsx(p.span,{...o,ref:e}):null});y.displayName=_;function I(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function P(a,{referrerPolicy:e,crossOrigin:s}){const n=C(),o=d.useRef(null),t=n?(o.current||(o.current=new window.Image),o.current):null,[l,c]=d.useState(()=>I(t,a));return f(()=>{c(I(t,a))},[t,a]),f(()=>{const i=N=>()=>{c(N)};if(!t)return;const u=i("loaded"),L=i("error");return t.addEventListener("load",u),t.addEventListener("error",L),e&&(t.referrerPolicy=e),typeof s=="string"&&(t.crossOrigin=s),()=>{t.removeEventListener("load",u),t.removeEventListener("error",L)}},[t,s,e]),l}var z=j,T=E,q=y;function g({className:a,...e}){return r.jsx(z,{"data-slot":"avatar",className:A("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...e})}function h({className:a,...e}){return r.jsx(T,{"data-slot":"avatar-image",className:A("aspect-square size-full",a),...e})}function S({className:a,...e}){return r.jsx(q,{"data-slot":"avatar-fallback",className:A("bg-muted flex size-full items-center justify-center rounded-full",a),...e})}g.__docgenInfo={description:"",methods:[],displayName:"Avatar"};h.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};S.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};const J={component:g,tags:["autodocs"],args:{}},v={render:()=>r.jsxs(g,{children:[r.jsx(h,{src:"https://i.pravatar.cc/100?img=12",alt:"Bruker"}),r.jsx(S,{children:"AB"})]})},m={render:()=>r.jsxs(g,{children:[r.jsx(h,{src:"/no-such-image.png",alt:"Ugyldig"}),r.jsx(S,{children:"JD"})]})};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src='https://i.pravatar.cc/100?img=12' alt='Bruker' />
      <AvatarFallback>AB</AvatarFallback>
    </Avatar>
}`,...v.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src='/no-such-image.png' alt='Ugyldig' />
      <AvatarFallback>JD</AvatarFallback>
    </Avatar>
}`,...m.parameters?.docs?.source}}};export{m as Fallback,v as MedBilde,J as default};
